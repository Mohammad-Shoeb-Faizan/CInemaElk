function $O(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Vu={},MO={get exports(){return Vu},set exports(t){Vu=t}},Wf={},w={},LO={get exports(){return w},set exports(t){w=t}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),FO=Symbol.for("react.portal"),UO=Symbol.for("react.fragment"),BO=Symbol.for("react.strict_mode"),VO=Symbol.for("react.profiler"),zO=Symbol.for("react.provider"),jO=Symbol.for("react.context"),WO=Symbol.for("react.forward_ref"),qO=Symbol.for("react.suspense"),HO=Symbol.for("react.memo"),KO=Symbol.for("react.lazy"),Wb=Symbol.iterator;function GO(t){return t===null||typeof t!="object"?null:(t=Wb&&t[Wb]||t["@@iterator"],typeof t=="function"?t:null)}var uT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cT=Object.assign,dT={};function ul(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||uT}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hT(){}hT.prototype=ul.prototype;function p0(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||uT}var m0=p0.prototype=new hT;m0.constructor=p0;cT(m0,ul.prototype);m0.isPureReactComponent=!0;var qb=Array.isArray,fT=Object.prototype.hasOwnProperty,g0={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fT.call(e,r)&&!pT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fc,type:t,key:s,ref:o,props:i,_owner:g0.current}}function QO(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function XO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hb=/\/+/g;function tg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XO(""+t.key):e.toString(36)}function sh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fc:case FO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tg(o,0):r,qb(i)?(n="",t!=null&&(n=t.replace(Hb,"$&/")+"/"),sh(i,e,n,"",function(u){return u})):i!=null&&(y0(i)&&(i=QO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+tg(s,a);o+=sh(s,e,n,l,i)}else if(l=GO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+tg(s,a++),o+=sh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Id(t,e,n){if(t==null)return t;var r=[],i=0;return sh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},oh={transition:null},JO={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:oh,ReactCurrentOwner:g0};ge.Children={map:Id,forEach:function(t,e,n){Id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Id(t,function(){e++}),e},toArray:function(t){return Id(t,function(e){return e})||[]},only:function(t){if(!y0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ul;ge.Fragment=UO;ge.Profiler=VO;ge.PureComponent=p0;ge.StrictMode=BO;ge.Suspense=qO;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=g0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fT.call(e,l)&&!pT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fc,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:jO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zO,_context:t},t.Consumer=t};ge.createElement=mT;ge.createFactory=function(t){var e=mT.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:WO,render:t}};ge.isValidElement=y0;ge.lazy=function(t){return{$$typeof:KO,_payload:{_status:-1,_result:t},_init:YO}};ge.memo=function(t,e){return{$$typeof:HO,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=oh.transition;oh.transition={};try{t()}finally{oh.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return wn.current.useCallback(t,e)};ge.useContext=function(t){return wn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return wn.current.useEffect(t,e)};ge.useId=function(){return wn.current.useId()};ge.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return wn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};ge.useRef=function(t){return wn.current.useRef(t)};ge.useState=function(t){return wn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return wn.current.useTransition()};ge.version="18.2.0";(function(t){t.exports=ge})(LO);const Ln=aT(w),Pa=$O({__proto__:null,default:Ln},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=w,eD=Symbol.for("react.element"),tD=Symbol.for("react.fragment"),nD=Object.prototype.hasOwnProperty,rD=ZO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iD={key:!0,ref:!0,__self:!0,__source:!0};function gT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nD.call(e,r)&&!iD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eD,type:t,key:s,ref:o,props:i,_owner:rD.current}}Wf.Fragment=tD;Wf.jsx=gT;Wf.jsxs=gT;(function(t){t.exports=Wf})(MO);const yT=Vu.Fragment,S=Vu.jsx,G=Vu.jsxs,sD=Object.freeze(Object.defineProperty({__proto__:null,Fragment:yT,jsx:S,jsxs:G},Symbol.toStringTag,{value:"Module"}));var dy={},Oa={},oD={get exports(){return Oa},set exports(t){Oa=t}},Hn={},hy={},aD={get exports(){return hy},set exports(t){hy=t}},vT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,H){var B=O.length;O.push(H);e:for(;0<B;){var Y=B-1>>>1,te=O[Y];if(0<i(te,H))O[Y]=H,O[B]=te,B=Y;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var H=O[0],B=O.pop();if(B!==H){O[0]=B;e:for(var Y=0,te=O.length,Ve=te>>>1;Y<Ve;){var ue=2*(Y+1)-1,be=O[ue],Ee=ue+1,ht=O[Ee];if(0>i(be,B))Ee<te&&0>i(ht,be)?(O[Y]=ht,O[Ee]=B,Y=Ee):(O[Y]=be,O[ue]=B,Y=ue);else if(Ee<te&&0>i(ht,B))O[Y]=ht,O[Ee]=B,Y=Ee;else break e}}return H}function i(O,H){var B=O.sortIndex-H.sortIndex;return B!==0?B:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=O)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function b(O){if(m=!1,v(O),!f)if(n(l)!==null)f=!0,q(_);else{var H=n(u);H!==null&&ae(b,H.startTime-O)}}function _(O,H){f=!1,m&&(m=!1,y(k),k=-1),p=!0;var B=h;try{for(v(H),d=n(l);d!==null&&(!(d.expirationTime>H)||O&&!z());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var te=Y(d.expirationTime<=H);H=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),v(H)}else r(l);d=n(l)}if(d!==null)var Ve=!0;else{var ue=n(u);ue!==null&&ae(b,ue.startTime-H),Ve=!1}return Ve}finally{d=null,h=B,p=!1}}var C=!1,T=null,k=-1,D=5,A=-1;function z(){return!(t.unstable_now()-A<D)}function se(){if(T!==null){var O=t.unstable_now();A=O;var H=!0;try{H=T(!0,O)}finally{H?X():(C=!1,T=null)}}else C=!1}var X;if(typeof g=="function")X=function(){g(se)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,V=N.port2;N.port1.onmessage=se,X=function(){V.postMessage(null)}}else X=function(){E(se,0)};function q(O){T=O,C||(C=!0,X())}function ae(O,H){k=E(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,q(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var B=h;h=H;try{return O()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=h;h=O;try{return H()}finally{h=B}},t.unstable_scheduleCallback=function(O,H,B){var Y=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,O={id:c++,callback:H,priorityLevel:O,startTime:B,expirationTime:te,sortIndex:-1},B>Y?(O.sortIndex=B,e(u,O),n(l)===null&&O===n(u)&&(m?(y(k),k=-1):m=!0,ae(b,B-Y))):(O.sortIndex=te,e(l,O),f||p||(f=!0,q(_))),O},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(O){var H=h;return function(){var B=h;h=H;try{return O.apply(this,arguments)}finally{h=B}}}})(vT);(function(t){t.exports=vT})(aD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=w,jn=hy;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT=new Set,zu={};function ko(t,e){Da(t,e),Da(t+"Capture",e)}function Da(t,e){for(zu[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fy=Object.prototype.hasOwnProperty,lD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kb={},Gb={};function uD(t){return fy.call(Gb,t)?!0:fy.call(Kb,t)?!1:lD.test(t)?Gb[t]=!0:(Kb[t]=!0,!1)}function cD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dD(t,e,n,r){if(e===null||typeof e>"u"||cD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var v0=/[\-:]([a-z])/g;function w0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v0,w0);Jt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v0,w0);Jt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v0,w0);Jt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function b0(t,e,n,r){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dD(e,n,i,r)&&(n=null),r||i===null?uD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fi=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_d=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),ST=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),gy=Symbol.for("react.suspense_list"),I0=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),IT=Symbol.for("react.offscreen"),Qb=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=Qb&&t[Qb]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,ng;function au(t){if(ng===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ng=e&&e[1]||""}return`
`+ng+t}var rg=!1;function ig(t,e){if(!t||rg)return"";rg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?au(t):""}function hD(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=ig(t.type,!1),t;case 11:return t=ig(t.type.render,!1),t;case 1:return t=ig(t.type,!0),t;default:return""}}function yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ea:return"Fragment";case Zo:return"Portal";case py:return"Profiler";case E0:return"StrictMode";case my:return"Suspense";case gy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ST:return(t.displayName||"Context")+".Consumer";case ET:return(t._context.displayName||"Context")+".Provider";case S0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I0:return e=t.displayName||null,e!==null?e:yy(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return yy(t(e))}catch{}}return null}function fD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yy(e);case 8:return e===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _T(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pD(t){var e=_T(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Td(t){t._valueTracker||(t._valueTracker=pD(t))}function TT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_T(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vy(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CT(t,e){e=e.checked,e!=null&&b0(t,"checked",e,!1)}function wy(t,e){CT(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?by(t,e.type,n):e.hasOwnProperty("defaultValue")&&by(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function by(t,e,n){(e!=="number"||$h(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lu=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ey(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(lu(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function xT(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cd,RT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mD=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(t){mD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vu[e]=vu[t]})});function AT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vu.hasOwnProperty(t)&&vu[t]?(""+e).trim():e+"px"}function NT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gD=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iy(t,e){if(e){if(gD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function _y(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function _0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cy=null,wa=null,ba=null;function eE(t){if(t=Vc(t)){if(typeof Cy!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Qf(e),Cy(t.stateNode,t.type,e))}}function PT(t){wa?ba?ba.push(t):ba=[t]:wa=t}function OT(){if(wa){var t=wa,e=ba;if(ba=wa=null,eE(t),e)for(t=0;t<e.length;t++)eE(e[t])}}function DT(t,e){return t(e)}function $T(){}var sg=!1;function MT(t,e,n){if(sg)return t(e,n);sg=!0;try{return DT(t,e,n)}finally{sg=!1,(wa!==null||ba!==null)&&($T(),OT())}}function Wu(t,e){var n=t.stateNode;if(n===null)return null;var r=Qf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var xy=!1;if(oi)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){xy=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{xy=!1}function yD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wu=!1,Mh=null,Lh=!1,ky=null,vD={onError:function(t){wu=!0,Mh=t}};function wD(t,e,n,r,i,s,o,a,l){wu=!1,Mh=null,yD.apply(vD,arguments)}function bD(t,e,n,r,i,s,o,a,l){if(wD.apply(this,arguments),wu){if(wu){var u=Mh;wu=!1,Mh=null}else throw Error(L(198));Lh||(Lh=!0,ky=u)}}function Ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tE(t){if(Ro(t)!==t)throw Error(L(188))}function ED(t){var e=t.alternate;if(!e){if(e=Ro(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return tE(i),t;if(s===r)return tE(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function FT(t){return t=ED(t),t!==null?UT(t):null}function UT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UT(t);if(e!==null)return e;t=t.sibling}return null}var BT=jn.unstable_scheduleCallback,nE=jn.unstable_cancelCallback,SD=jn.unstable_shouldYield,ID=jn.unstable_requestPaint,ft=jn.unstable_now,_D=jn.unstable_getCurrentPriorityLevel,T0=jn.unstable_ImmediatePriority,VT=jn.unstable_UserBlockingPriority,Fh=jn.unstable_NormalPriority,TD=jn.unstable_LowPriority,zT=jn.unstable_IdlePriority,qf=null,Ur=null;function CD(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(qf,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:RD,xD=Math.log,kD=Math.LN2;function RD(t){return t>>>=0,t===0?32:31-(xD(t)/kD|0)|0}var xd=64,kd=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=uu(a):(s&=o,s!==0&&(r=uu(s)))}else o=n&~i,o!==0?r=uu(o):s!==0&&(r=uu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function AD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ND(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jT(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function og(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function PD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function C0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function WT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qT,x0,HT,KT,GT,Ay=!1,Rd=[],Vi=null,zi=null,ji=null,qu=new Map,Hu=new Map,Ni=[],OD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rE(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vc(e),e!==null&&x0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DD(t,e,n,r,i){switch(e){case"focusin":return Vi=Ll(Vi,t,e,n,r,i),!0;case"dragenter":return zi=Ll(zi,t,e,n,r,i),!0;case"mouseover":return ji=Ll(ji,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qu.set(s,Ll(qu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hu.set(s,Ll(Hu.get(s)||null,t,e,n,r,i)),!0}return!1}function QT(t){var e=Vs(t.target);if(e!==null){var n=Ro(e);if(n!==null){if(e=n.tag,e===13){if(e=LT(n),e!==null){t.blockedOn=e,GT(t.priority,function(){HT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ty=r,n.target.dispatchEvent(r),Ty=null}else return e=Vc(n),e!==null&&x0(e),t.blockedOn=n,!1;e.shift()}return!0}function iE(t,e,n){ah(t)&&n.delete(e)}function $D(){Ay=!1,Vi!==null&&ah(Vi)&&(Vi=null),zi!==null&&ah(zi)&&(zi=null),ji!==null&&ah(ji)&&(ji=null),qu.forEach(iE),Hu.forEach(iE)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ay||(Ay=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,$D)))}function Ku(t){function e(i){return Fl(i,t)}if(0<Rd.length){Fl(Rd[0],t);for(var n=1;n<Rd.length;n++){var r=Rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Fl(Vi,t),zi!==null&&Fl(zi,t),ji!==null&&Fl(ji,t),qu.forEach(e),Hu.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)QT(n),n.blockedOn===null&&Ni.shift()}var Ea=fi.ReactCurrentBatchConfig,Bh=!0;function MD(t,e,n,r){var i=Oe,s=Ea.transition;Ea.transition=null;try{Oe=1,k0(t,e,n,r)}finally{Oe=i,Ea.transition=s}}function LD(t,e,n,r){var i=Oe,s=Ea.transition;Ea.transition=null;try{Oe=4,k0(t,e,n,r)}finally{Oe=i,Ea.transition=s}}function k0(t,e,n,r){if(Bh){var i=Ny(t,e,n,r);if(i===null)gg(t,e,r,Vh,n),rE(t,r);else if(DD(i,t,e,n,r))r.stopPropagation();else if(rE(t,r),e&4&&-1<OD.indexOf(t)){for(;i!==null;){var s=Vc(i);if(s!==null&&qT(s),s=Ny(t,e,n,r),s===null&&gg(t,e,r,Vh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gg(t,e,r,null,n)}}var Vh=null;function Ny(t,e,n,r){if(Vh=null,t=_0(r),t=Vs(t),t!==null)if(e=Ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vh=t,null}function XT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_D()){case T0:return 1;case VT:return 4;case Fh:case TD:return 16;case zT:return 536870912;default:return 16}default:return 16}}var $i=null,R0=null,lh=null;function YT(){if(lh)return lh;var t,e=R0,n=e.length,r,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return lh=i.slice(t,1<r?1-r:void 0)}function uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ad(){return!0}function sE(){return!1}function Kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ad:sE,this.isPropagationStopped=sE,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A0=Kn(cl),Bc=rt({},cl,{view:0,detail:0}),FD=Kn(Bc),ag,lg,Ul,Hf=rt({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(ag=t.screenX-Ul.screenX,lg=t.screenY-Ul.screenY):lg=ag=0,Ul=t),ag)},movementY:function(t){return"movementY"in t?t.movementY:lg}}),oE=Kn(Hf),UD=rt({},Hf,{dataTransfer:0}),BD=Kn(UD),VD=rt({},Bc,{relatedTarget:0}),ug=Kn(VD),zD=rt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),jD=Kn(zD),WD=rt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qD=Kn(WD),HD=rt({},cl,{data:0}),aE=Kn(HD),KD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QD[t])?!!e[t]:!1}function N0(){return XD}var YD=rt({},Bc,{key:function(t){if(t.key){var e=KD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N0,charCode:function(t){return t.type==="keypress"?uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JD=Kn(YD),ZD=rt({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lE=Kn(ZD),e$=rt({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N0}),t$=Kn(e$),n$=rt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),r$=Kn(n$),i$=rt({},Hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s$=Kn(i$),o$=[9,13,27,32],P0=oi&&"CompositionEvent"in window,bu=null;oi&&"documentMode"in document&&(bu=document.documentMode);var a$=oi&&"TextEvent"in window&&!bu,JT=oi&&(!P0||bu&&8<bu&&11>=bu),uE=String.fromCharCode(32),cE=!1;function ZT(t,e){switch(t){case"keyup":return o$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function l$(t,e){switch(t){case"compositionend":return eC(e);case"keypress":return e.which!==32?null:(cE=!0,uE);case"textInput":return t=e.data,t===uE&&cE?null:t;default:return null}}function u$(t,e){if(ta)return t==="compositionend"||!P0&&ZT(t,e)?(t=YT(),lh=R0=$i=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JT&&e.locale!=="ko"?null:e.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c$[t.type]:e==="textarea"}function tC(t,e,n,r){PT(r),e=zh(e,"onChange"),0<e.length&&(n=new A0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eu=null,Gu=null;function d$(t){hC(t,0)}function Kf(t){var e=ia(t);if(TT(e))return t}function h$(t,e){if(t==="change")return e}var nC=!1;if(oi){var cg;if(oi){var dg="oninput"in document;if(!dg){var hE=document.createElement("div");hE.setAttribute("oninput","return;"),dg=typeof hE.oninput=="function"}cg=dg}else cg=!1;nC=cg&&(!document.documentMode||9<document.documentMode)}function fE(){Eu&&(Eu.detachEvent("onpropertychange",rC),Gu=Eu=null)}function rC(t){if(t.propertyName==="value"&&Kf(Gu)){var e=[];tC(e,Gu,t,_0(t)),MT(d$,e)}}function f$(t,e,n){t==="focusin"?(fE(),Eu=e,Gu=n,Eu.attachEvent("onpropertychange",rC)):t==="focusout"&&fE()}function p$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kf(Gu)}function m$(t,e){if(t==="click")return Kf(e)}function g$(t,e){if(t==="input"||t==="change")return Kf(e)}function y$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:y$;function Qu(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fy.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function pE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mE(t,e){var n=pE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pE(n)}}function iC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sC(){for(var t=window,e=$h();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$h(t.document)}return e}function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v$(t){var e=sC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iC(n.ownerDocument.documentElement,n)){if(r!==null&&O0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=mE(n,s);var o=mE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w$=oi&&"documentMode"in document&&11>=document.documentMode,na=null,Py=null,Su=null,Oy=!1;function gE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oy||na==null||na!==$h(r)||(r=na,"selectionStart"in r&&O0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&Qu(Su,r)||(Su=r,r=zh(Py,"onSelect"),0<r.length&&(e=new A0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=na)))}function Nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},hg={},oC={};oi&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Gf(t){if(hg[t])return hg[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oC)return hg[t]=e[n];return t}var aC=Gf("animationend"),lC=Gf("animationiteration"),uC=Gf("animationstart"),cC=Gf("transitionend"),dC=new Map,yE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(t,e){dC.set(t,e),ko(e,[t])}for(var fg=0;fg<yE.length;fg++){var pg=yE[fg],b$=pg.toLowerCase(),E$=pg[0].toUpperCase()+pg.slice(1);gs(b$,"on"+E$)}gs(aC,"onAnimationEnd");gs(lC,"onAnimationIteration");gs(uC,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(cC,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S$=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function vE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bD(r,e,void 0,t),t.currentTarget=null}function hC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;vE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;vE(i,a,u),s=l}}}if(Lh)throw t=ky,Lh=!1,ky=null,t}function qe(t,e){var n=e[Fy];n===void 0&&(n=e[Fy]=new Set);var r=t+"__bubble";n.has(r)||(fC(e,t,2,!1),n.add(r))}function mg(t,e,n){var r=0;e&&(r|=4),fC(n,t,r,e)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[Pd]){t[Pd]=!0,bT.forEach(function(n){n!=="selectionchange"&&(S$.has(n)||mg(n,!1,t),mg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pd]||(e[Pd]=!0,mg("selectionchange",!1,e))}}function fC(t,e,n,r){switch(XT(e)){case 1:var i=MD;break;case 4:i=LD;break;default:i=k0}n=i.bind(null,e,n,t),i=void 0,!xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}MT(function(){var u=s,c=_0(n),d=[];e:{var h=dC.get(t);if(h!==void 0){var p=A0,f=t;switch(t){case"keypress":if(uh(n)===0)break e;case"keydown":case"keyup":p=JD;break;case"focusin":f="focus",p=ug;break;case"focusout":f="blur",p=ug;break;case"beforeblur":case"afterblur":p=ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=t$;break;case aC:case lC:case uC:p=jD;break;case cC:p=r$;break;case"scroll":p=FD;break;case"wheel":p=s$;break;case"copy":case"cut":case"paste":p=qD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lE}var m=(e&4)!==0,E=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,y!==null&&(b=Wu(g,y),b!=null&&m.push(Yu(g,b,v)))),E)break;g=g.return}0<m.length&&(h=new p(h,f,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ty&&(f=n.relatedTarget||n.fromElement)&&(Vs(f)||f[ai]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=u,f=f?Vs(f):null,f!==null&&(E=Ro(f),f!==E||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=u),p!==f)){if(m=oE,b="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=lE,b="onPointerLeave",y="onPointerEnter",g="pointer"),E=p==null?h:ia(p),v=f==null?h:ia(f),h=new m(b,g+"leave",p,n,c),h.target=E,h.relatedTarget=v,b=null,Vs(c)===u&&(m=new m(y,g+"enter",f,n,c),m.target=v,m.relatedTarget=E,b=m),E=b,p&&f)t:{for(m=p,y=f,g=0,v=m;v;v=Uo(v))g++;for(v=0,b=y;b;b=Uo(b))v++;for(;0<g-v;)m=Uo(m),g--;for(;0<v-g;)y=Uo(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Uo(m),y=Uo(y)}m=null}else m=null;p!==null&&wE(d,h,p,m,!1),f!==null&&E!==null&&wE(d,E,f,m,!0)}}e:{if(h=u?ia(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=h$;else if(dE(h))if(nC)_=g$;else{_=p$;var C=f$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=m$);if(_&&(_=_(t,u))){tC(d,_,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&by(h,"number",h.value)}switch(C=u?ia(u):window,t){case"focusin":(dE(C)||C.contentEditable==="true")&&(na=C,Py=u,Su=null);break;case"focusout":Su=Py=na=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,gE(d,n,c);break;case"selectionchange":if(w$)break;case"keydown":case"keyup":gE(d,n,c)}var T;if(P0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ta?ZT(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(JT&&n.locale!=="ko"&&(ta||k!=="onCompositionStart"?k==="onCompositionEnd"&&ta&&(T=YT()):($i=c,R0="value"in $i?$i.value:$i.textContent,ta=!0)),C=zh(u,k),0<C.length&&(k=new aE(k,t,null,n,c),d.push({event:k,listeners:C}),T?k.data=T:(T=eC(n),T!==null&&(k.data=T)))),(T=a$?l$(t,n):u$(t,n))&&(u=zh(u,"onBeforeInput"),0<u.length&&(c=new aE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}hC(d,e)})}function Yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wu(t,n),s!=null&&r.unshift(Yu(t,s,i)),s=Wu(t,e),s!=null&&r.push(Yu(t,s,i))),t=t.return}return r}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wu(n,s),l!=null&&o.unshift(Yu(n,l,a))):i||(l=Wu(n,s),l!=null&&o.push(Yu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var I$=/\r\n?/g,_$=/\u0000|\uFFFD/g;function bE(t){return(typeof t=="string"?t:""+t).replace(I$,`
`).replace(_$,"")}function Od(t,e,n){if(e=bE(e),bE(t)!==e&&n)throw Error(L(425))}function jh(){}var Dy=null,$y=null;function My(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,T$=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,C$=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(t){return EE.resolve(null).then(t).catch(x$)}:Ly;function x$(t){setTimeout(function(){throw t})}function yg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ku(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ku(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dl=Math.random().toString(36).slice(2),kr="__reactFiber$"+dl,Ju="__reactProps$"+dl,ai="__reactContainer$"+dl,Fy="__reactEvents$"+dl,k$="__reactListeners$"+dl,R$="__reactHandles$"+dl;function Vs(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SE(t);t!==null;){if(n=t[kr])return n;t=SE(t)}return e}t=n,n=t.parentNode}return null}function Vc(t){return t=t[kr]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Qf(t){return t[Ju]||null}var Uy=[],sa=-1;function ys(t){return{current:t}}function Ke(t){0>sa||(t.current=Uy[sa],Uy[sa]=null,sa--)}function ze(t,e){sa++,Uy[sa]=t.current,t.current=e}var Zi={},un=ys(Zi),kn=ys(!1),ao=Zi;function $a(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function Wh(){Ke(kn),Ke(un)}function IE(t,e,n){if(un.current!==Zi)throw Error(L(168));ze(un,e),ze(kn,n)}function pC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,fD(t)||"Unknown",i));return rt({},n,r)}function qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,ao=un.current,ze(un,t),ze(kn,kn.current),!0}function _E(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=pC(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,Ke(kn),Ke(un),ze(un,t)):Ke(kn),ze(kn,n)}var Xr=null,Xf=!1,vg=!1;function mC(t){Xr===null?Xr=[t]:Xr.push(t)}function A$(t){Xf=!0,mC(t)}function vs(){if(!vg&&Xr!==null){vg=!0;var t=0,e=Oe;try{var n=Xr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,Xf=!1}catch(i){throw Xr!==null&&(Xr=Xr.slice(t+1)),BT(T0,vs),i}finally{Oe=e,vg=!1}}return null}var oa=[],aa=0,Hh=null,Kh=0,Jn=[],Zn=0,lo=null,Yr=1,Jr="";function ks(t,e){oa[aa++]=Kh,oa[aa++]=Hh,Hh=t,Kh=e}function gC(t,e,n){Jn[Zn++]=Yr,Jn[Zn++]=Jr,Jn[Zn++]=lo,lo=t;var r=Yr;t=Jr;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var s=32-mr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yr=1<<32-mr(e)+i|n<<i|r,Jr=s+t}else Yr=1<<s|n<<i|r,Jr=t}function D0(t){t.return!==null&&(ks(t,1),gC(t,1,0))}function $0(t){for(;t===Hh;)Hh=oa[--aa],oa[aa]=null,Kh=oa[--aa],oa[aa]=null;for(;t===lo;)lo=Jn[--Zn],Jn[Zn]=null,Jr=Jn[--Zn],Jn[Zn]=null,Yr=Jn[--Zn],Jn[Zn]=null}var Vn=null,Fn=null,Ye=!1,fr=null;function yC(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function TE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Fn=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:Yr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Fn=null,!0):!1;default:return!1}}function By(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vy(t){if(Ye){var e=Fn;if(e){var n=e;if(!TE(t,e)){if(By(t))throw Error(L(418));e=Wi(n.nextSibling);var r=Vn;e&&TE(t,e)?yC(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Vn=t)}}else{if(By(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ye=!1,Vn=t}}}function CE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function Dd(t){if(t!==Vn)return!1;if(!Ye)return CE(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!My(t.type,t.memoizedProps)),e&&(e=Fn)){if(By(t))throw vC(),Error(L(418));for(;e;)yC(t,e),e=Wi(e.nextSibling)}if(CE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Vn?Wi(t.stateNode.nextSibling):null;return!0}function vC(){for(var t=Fn;t;)t=Wi(t.nextSibling)}function Ma(){Fn=Vn=null,Ye=!1}function M0(t){fr===null?fr=[t]:fr.push(t)}var N$=fi.ReactCurrentBatchConfig;function dr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gh=ys(null),Qh=null,la=null,L0=null;function F0(){L0=la=Qh=null}function U0(t){var e=Gh.current;Ke(Gh),t._currentValue=e}function zy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sa(t,e){Qh=t,L0=la=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},la===null){if(Qh===null)throw Error(L(308));la=t,Qh.dependencies={lanes:0,firstContext:t}}else la=la.next=t;return e}var zs=null;function B0(t){zs===null?zs=[t]:zs.push(t)}function wC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,B0(e)):(n.next=i.next,i.next=n),e.interleaved=n,li(t,r)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function V0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,li(t,n)}return i=r.interleaved,i===null?(e.next=e,B0(r)):(e.next=i.next,i.next=e),r.interleaved=e,li(t,n)}function ch(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}function xE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xh(t,e,n,r){var i=t.updateQueue;Ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(h=e,p=n,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=rt({},d,h);break e;case 2:Ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=d}}function kE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var EC=new wT.Component().refs;function jy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yf={isMounted:function(t){return(t=t._reactInternals)?Ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=Ki(t),s=ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(gr(e,t,i,r),ch(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=Ki(t),s=ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(gr(e,t,i,r),ch(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=Ki(t),i=ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,r),e!==null&&(gr(e,t,r,n),ch(e,t,r))}};function RE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qu(n,r)||!Qu(i,s):!0}function SC(t,e,n){var r=!1,i=Zi,s=e.contextType;return typeof s=="object"&&s!==null?s=ir(s):(i=Rn(e)?ao:un.current,r=e.contextTypes,s=(r=r!=null)?$a(t,i):Zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function AE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function Wy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=EC,V0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ir(s):(s=Rn(e)?ao:un.current,i.context=$a(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yf.enqueueReplaceState(i,i.state,null),Xh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===EC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function $d(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function NE(t){var e=t._init;return e(t._payload)}function IC(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Gi(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,b){return g===null||g.tag!==6?(g=Tg(v,y.mode,b),g.return=y,g):(g=i(g,v),g.return=y,g)}function l(y,g,v,b){var _=v.type;return _===ea?c(y,g,v.props.children,b,v.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ri&&NE(_)===g.type)?(b=i(g,v.props),b.ref=Bl(y,g,v),b.return=y,b):(b=gh(v.type,v.key,v.props,null,y.mode,b),b.ref=Bl(y,g,v),b.return=y,b)}function u(y,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Cg(v,y.mode,b),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function c(y,g,v,b,_){return g===null||g.tag!==7?(g=Zs(v,y.mode,b,_),g.return=y,g):(g=i(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tg(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _d:return v=gh(g.type,g.key,g.props,null,y.mode,v),v.ref=Bl(y,null,g),v.return=y,v;case Zo:return g=Cg(g,y.mode,v),g.return=y,g;case Ri:var b=g._init;return d(y,b(g._payload),v)}if(lu(g)||$l(g))return g=Zs(g,y.mode,v,null),g.return=y,g;$d(y,g)}return null}function h(y,g,v,b){var _=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(y,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _d:return v.key===_?l(y,g,v,b):null;case Zo:return v.key===_?u(y,g,v,b):null;case Ri:return _=v._init,h(y,g,_(v._payload),b)}if(lu(v)||$l(v))return _!==null?null:c(y,g,v,b,null);$d(y,v)}return null}function p(y,g,v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(v)||null,a(g,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _d:return y=y.get(b.key===null?v:b.key)||null,l(g,y,b,_);case Zo:return y=y.get(b.key===null?v:b.key)||null,u(g,y,b,_);case Ri:var C=b._init;return p(y,g,v,C(b._payload),_)}if(lu(b)||$l(b))return y=y.get(v)||null,c(g,y,b,_,null);$d(g,b)}return null}function f(y,g,v,b){for(var _=null,C=null,T=g,k=g=0,D=null;T!==null&&k<v.length;k++){T.index>k?(D=T,T=null):D=T.sibling;var A=h(y,T,v[k],b);if(A===null){T===null&&(T=D);break}t&&T&&A.alternate===null&&e(y,T),g=s(A,g,k),C===null?_=A:C.sibling=A,C=A,T=D}if(k===v.length)return n(y,T),Ye&&ks(y,k),_;if(T===null){for(;k<v.length;k++)T=d(y,v[k],b),T!==null&&(g=s(T,g,k),C===null?_=T:C.sibling=T,C=T);return Ye&&ks(y,k),_}for(T=r(y,T);k<v.length;k++)D=p(T,y,k,v[k],b),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?k:D.key),g=s(D,g,k),C===null?_=D:C.sibling=D,C=D);return t&&T.forEach(function(z){return e(y,z)}),Ye&&ks(y,k),_}function m(y,g,v,b){var _=$l(v);if(typeof _!="function")throw Error(L(150));if(v=_.call(v),v==null)throw Error(L(151));for(var C=_=null,T=g,k=g=0,D=null,A=v.next();T!==null&&!A.done;k++,A=v.next()){T.index>k?(D=T,T=null):D=T.sibling;var z=h(y,T,A.value,b);if(z===null){T===null&&(T=D);break}t&&T&&z.alternate===null&&e(y,T),g=s(z,g,k),C===null?_=z:C.sibling=z,C=z,T=D}if(A.done)return n(y,T),Ye&&ks(y,k),_;if(T===null){for(;!A.done;k++,A=v.next())A=d(y,A.value,b),A!==null&&(g=s(A,g,k),C===null?_=A:C.sibling=A,C=A);return Ye&&ks(y,k),_}for(T=r(y,T);!A.done;k++,A=v.next())A=p(T,y,k,A.value,b),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?k:A.key),g=s(A,g,k),C===null?_=A:C.sibling=A,C=A);return t&&T.forEach(function(se){return e(y,se)}),Ye&&ks(y,k),_}function E(y,g,v,b){if(typeof v=="object"&&v!==null&&v.type===ea&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case _d:e:{for(var _=v.key,C=g;C!==null;){if(C.key===_){if(_=v.type,_===ea){if(C.tag===7){n(y,C.sibling),g=i(C,v.props.children),g.return=y,y=g;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ri&&NE(_)===C.type){n(y,C.sibling),g=i(C,v.props),g.ref=Bl(y,C,v),g.return=y,y=g;break e}n(y,C);break}else e(y,C);C=C.sibling}v.type===ea?(g=Zs(v.props.children,y.mode,b,v.key),g.return=y,y=g):(b=gh(v.type,v.key,v.props,null,y.mode,b),b.ref=Bl(y,g,v),b.return=y,y=b)}return o(y);case Zo:e:{for(C=v.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Cg(v,y.mode,b),g.return=y,y=g}return o(y);case Ri:return C=v._init,E(y,g,C(v._payload),b)}if(lu(v))return f(y,g,v,b);if($l(v))return m(y,g,v,b);$d(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=Tg(v,y.mode,b),g.return=y,y=g),o(y)):n(y,g)}return E}var La=IC(!0),_C=IC(!1),zc={},Br=ys(zc),Zu=ys(zc),ec=ys(zc);function js(t){if(t===zc)throw Error(L(174));return t}function z0(t,e){switch(ze(ec,e),ze(Zu,t),ze(Br,zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sy(e,t)}Ke(Br),ze(Br,e)}function Fa(){Ke(Br),Ke(Zu),Ke(ec)}function TC(t){js(ec.current);var e=js(Br.current),n=Sy(e,t.type);e!==n&&(ze(Zu,t),ze(Br,n))}function j0(t){Zu.current===t&&(Ke(Br),Ke(Zu))}var tt=ys(0);function Yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wg=[];function W0(){for(var t=0;t<wg.length;t++)wg[t]._workInProgressVersionPrimary=null;wg.length=0}var dh=fi.ReactCurrentDispatcher,bg=fi.ReactCurrentBatchConfig,uo=0,nt=null,Et=null,At=null,Jh=!1,Iu=!1,tc=0,P$=0;function nn(){throw Error(L(321))}function q0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function H0(t,e,n,r,i,s){if(uo=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dh.current=t===null||t.memoizedState===null?M$:L$,t=n(r,i),Iu){s=0;do{if(Iu=!1,tc=0,25<=s)throw Error(L(301));s+=1,At=Et=null,e.updateQueue=null,dh.current=F$,t=n(r,i)}while(Iu)}if(dh.current=Zh,e=Et!==null&&Et.next!==null,uo=0,At=Et=nt=null,Jh=!1,e)throw Error(L(300));return t}function K0(){var t=tc!==0;return tc=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=t:At=At.next=t,At}function sr(){if(Et===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=At===null?nt.memoizedState:At.next;if(e!==null)At=e,Et=t;else{if(t===null)throw Error(L(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?nt.memoizedState=At=t:At=At.next=t}return At}function nc(t,e){return typeof e=="function"?e(t):e}function Eg(t){var e=sr(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((uo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,nt.lanes|=c,co|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,vr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=sr(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vr(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CC(){}function xC(t,e){var n=nt,r=sr(),i=e(),s=!vr(r.memoizedState,i);if(s&&(r.memoizedState=i,_n=!0),r=r.queue,G0(AC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,rc(9,RC.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(L(349));uo&30||kC(n,e,i)}return i}function kC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RC(t,e,n,r){e.value=n,e.getSnapshot=r,NC(e)&&PC(t)}function AC(t,e,n){return n(function(){NC(e)&&PC(t)})}function NC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function PC(t){var e=li(t,1);e!==null&&gr(e,t,1,-1)}function PE(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:t},e.queue=t,t=t.dispatch=$$.bind(null,nt,t),[e.memoizedState,t]}function rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OC(){return sr().memoizedState}function hh(t,e,n,r){var i=_r();nt.flags|=t,i.memoizedState=rc(1|e,n,void 0,r===void 0?null:r)}function Jf(t,e,n,r){var i=sr();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&q0(r,o.deps)){i.memoizedState=rc(e,n,s,r);return}}nt.flags|=t,i.memoizedState=rc(1|e,n,s,r)}function OE(t,e){return hh(8390656,8,t,e)}function G0(t,e){return Jf(2048,8,t,e)}function DC(t,e){return Jf(4,2,t,e)}function $C(t,e){return Jf(4,4,t,e)}function MC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LC(t,e,n){return n=n!=null?n.concat([t]):null,Jf(4,4,MC.bind(null,e,t),n)}function Q0(){}function FC(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UC(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BC(t,e,n){return uo&21?(vr(n,e)||(n=jT(),nt.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function O$(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=bg.transition;bg.transition={};try{t(!1),e()}finally{Oe=n,bg.transition=r}}function VC(){return sr().memoizedState}function D$(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zC(t))jC(e,n);else if(n=wC(t,e,n,r),n!==null){var i=gn();gr(n,t,r,i),WC(n,e,r)}}function $$(t,e,n){var r=Ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zC(t))jC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vr(a,o)){var l=e.interleaved;l===null?(i.next=i,B0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wC(t,e,i,r),n!==null&&(i=gn(),gr(n,t,r,i),WC(n,e,r))}}function zC(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function jC(t,e){Iu=Jh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}var Zh={readContext:ir,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},M$={readContext:ir,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:OE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hh(4194308,4,MC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return hh(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D$.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:PE,useDebugValue:Q0,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=PE(!1),e=t[0];return t=O$.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=_r();if(Ye){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Pt===null)throw Error(L(349));uo&30||kC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,OE(AC.bind(null,r,s,t),[t]),r.flags|=2048,rc(9,RC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_r(),e=Pt.identifierPrefix;if(Ye){var n=Jr,r=Yr;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L$={readContext:ir,useCallback:FC,useContext:ir,useEffect:G0,useImperativeHandle:LC,useInsertionEffect:DC,useLayoutEffect:$C,useMemo:UC,useReducer:Eg,useRef:OC,useState:function(){return Eg(nc)},useDebugValue:Q0,useDeferredValue:function(t){var e=sr();return BC(e,Et.memoizedState,t)},useTransition:function(){var t=Eg(nc)[0],e=sr().memoizedState;return[t,e]},useMutableSource:CC,useSyncExternalStore:xC,useId:VC,unstable_isNewReconciler:!1},F$={readContext:ir,useCallback:FC,useContext:ir,useEffect:G0,useImperativeHandle:LC,useInsertionEffect:DC,useLayoutEffect:$C,useMemo:UC,useReducer:Sg,useRef:OC,useState:function(){return Sg(nc)},useDebugValue:Q0,useDeferredValue:function(t){var e=sr();return Et===null?e.memoizedState=t:BC(e,Et.memoizedState,t)},useTransition:function(){var t=Sg(nc)[0],e=sr().memoizedState;return[t,e]},useMutableSource:CC,useSyncExternalStore:xC,useId:VC,unstable_isNewReconciler:!1};function Ua(t,e){try{var n="",r=e;do n+=hD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ig(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var U$=typeof WeakMap=="function"?WeakMap:Map;function qC(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tf||(tf=!0,tv=r),qy(t,e)},n}function HC(t,e,n){n=ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qy(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function DE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new U$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Z$.bind(null,t,e,n),e.then(t,t))}function $E(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ME(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t)}var B$=fi.ReactCurrentOwner,_n=!1;function hn(t,e,n,r){e.child=t===null?_C(e,null,n,r):La(e,t.child,n,r)}function LE(t,e,n,r,i){n=n.render;var s=e.ref;return Sa(e,i),r=H0(t,e,n,r,s,i),n=K0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(Ye&&n&&D0(e),e.flags|=1,hn(t,e,r,i),e.child)}function FE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KC(t,e,s,r,i)):(t=gh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qu,n(o,r)&&t.ref===e.ref)return ui(t,e,i)}return e.flags|=1,t=Gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function KC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qu(s,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ui(t,e,i)}return Hy(t,e,n,r,i)}function GC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ca,Dn),Dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(ca,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(ca,Dn),Dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(ca,Dn),Dn|=r;return hn(t,e,i,n),e.child}function QC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hy(t,e,n,r,i){var s=Rn(n)?ao:un.current;return s=$a(e,s),Sa(e,i),n=H0(t,e,n,r,s,i),r=K0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(Ye&&r&&D0(e),e.flags|=1,hn(t,e,n,i),e.child)}function UE(t,e,n,r,i){if(Rn(n)){var s=!0;qh(e)}else s=!1;if(Sa(e,i),e.stateNode===null)fh(t,e),SC(e,n,r),Wy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Rn(n)?ao:un.current,u=$a(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&AE(e,o,r,u),Ai=!1;var h=e.memoizedState;o.state=h,Xh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||kn.current||Ai?(typeof c=="function"&&(jy(e,n,c,r),l=e.memoizedState),(a=Ai||RE(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=Rn(n)?ao:un.current,l=$a(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&AE(e,o,r,l),Ai=!1,h=e.memoizedState,o.state=h,Xh(e,r,o,i);var f=e.memoizedState;a!==d||h!==f||kn.current||Ai?(typeof p=="function"&&(jy(e,n,p,r),f=e.memoizedState),(u=Ai||RE(e,n,u,r,h,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ky(t,e,n,r,s,i)}function Ky(t,e,n,r,i,s){QC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_E(e,n,!1),ui(t,e,s);r=e.stateNode,B$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=La(e,t.child,null,s),e.child=La(e,null,a,s)):hn(t,e,a,s),e.memoizedState=r.state,i&&_E(e,n,!0),e.child}function XC(t){var e=t.stateNode;e.pendingContext?IE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IE(t,e.context,!1),z0(t,e.containerInfo)}function BE(t,e,n,r,i){return Ma(),M0(i),e.flags|=256,hn(t,e,n,r),e.child}var Gy={dehydrated:null,treeContext:null,retryLane:0};function Qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function YC(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(tt,i&1),t===null)return Vy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tp(o,r,0,null),t=Zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qy(n),e.memoizedState=Gy,t):X0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return V$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gi(a,s):(s=Zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gy,r}return s=t.child,t=s.sibling,r=Gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X0(t,e){return e=tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Md(t,e,n,r){return r!==null&&M0(r),La(e,t.child,null,n),t=X0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ig(Error(L(422))),Md(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=tp({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&La(e,t.child,null,o),e.child.memoizedState=Qy(o),e.memoizedState=Gy,s);if(!(e.mode&1))return Md(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=Ig(s,r,void 0),Md(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,li(t,i),gr(r,t,i,-1))}return nw(),r=Ig(Error(L(421))),Md(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fn=Wi(i.nextSibling),Vn=e,Ye=!0,fr=null,t!==null&&(Jn[Zn++]=Yr,Jn[Zn++]=Jr,Jn[Zn++]=lo,Yr=t.id,Jr=t.overflow,lo=e),e=X0(e,r.children),e.flags|=4096,e)}function VE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zy(t.return,e,n)}function _g(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hn(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VE(t,n,e);else if(t.tag===19)VE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_g(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_g(e,!0,n,null,s);break;case"together":_g(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z$(t,e,n){switch(e.tag){case 3:XC(e),Ma();break;case 5:TC(e);break;case 1:Rn(e.type)&&qh(e);break;case 4:z0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Gh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?YC(t,e,n):(ze(tt,tt.current&1),t=ui(t,e,n),t!==null?t.sibling:null);ze(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,GC(t,e,n)}return ui(t,e,n)}var ZC,Xy,ex,tx;ZC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xy=function(){};ex=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,js(Br.current);var s=null;switch(n){case"input":i=vy(t,i),r=vy(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Ey(t,i),r=Ey(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jh)}Iy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vl(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j$(t,e,n){var r=e.pendingProps;switch($0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return Rn(e.type)&&Wh(),rn(e),null;case 3:return r=e.stateNode,Fa(),Ke(kn),Ke(un),W0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fr!==null&&(iv(fr),fr=null))),Xy(t,e),rn(e),null;case 5:j0(e);var i=js(ec.current);if(n=e.type,t!==null&&e.stateNode!=null)ex(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return rn(e),null}if(t=js(Br.current),Dd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[Ju]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<cu.length;i++)qe(cu[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Xb(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":Jb(r,s),qe("invalid",r)}Iy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Od(r.textContent,a,t),i=["children",""+a]):zu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Td(r),Yb(r,s,!0);break;case"textarea":Td(r),Zb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[Ju]=r,ZC(t,e,!1,!1),e.stateNode=t;e:{switch(o=_y(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<cu.length;i++)qe(cu[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Xb(t,r),i=vy(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":Jb(t,r),i=Ey(t,r),qe("invalid",t);break;default:i=r}Iy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?NT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ju(t,l):typeof l=="number"&&ju(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&b0(t,s,l,o))}switch(n){case"input":Td(t),Yb(t,r,!1);break;case"textarea":Td(t),Zb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?va(t,!!r.multiple,s,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)tx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=js(ec.current),js(Br.current),Dd(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:Od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return rn(e),null;case 13:if(Ke(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Fn!==null&&e.mode&1&&!(e.flags&128))vC(),Ma(),e.flags|=98560,s=!1;else if(s=Dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[kr]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),s=!1}else fr!==null&&(iv(fr),fr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?It===0&&(It=3):nw())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return Fa(),Xy(t,e),t===null&&Xu(e.stateNode.containerInfo),rn(e),null;case 10:return U0(e.type._context),rn(e),null;case 17:return Rn(e.type)&&Wh(),rn(e),null;case 19:if(Ke(tt),s=e.memoizedState,s===null)return rn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vl(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yh(t),o!==null){for(e.flags|=128,Vl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>Ba&&(e.flags|=128,r=!0,Vl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return rn(e),null}else 2*ft()-s.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,r=!0,Vl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=tt.current,ze(tt,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return tw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function W$(t,e){switch($0(e),e.tag){case 1:return Rn(e.type)&&Wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fa(),Ke(kn),Ke(un),W0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return j0(e),null;case 13:if(Ke(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(tt),null;case 4:return Fa(),null;case 10:return U0(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Ld=!1,on=!1,q$=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Yy(t,e,n){try{n()}catch(r){at(t,e,r)}}var zE=!1;function H$(t,e){if(Dy=Bh,t=sC(),O0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($y={focusedElem:t,selectionRange:n},Bh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,E=f.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:dr(e.type,m),E);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){at(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return f=zE,zE=!1,f}function _u(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yy(e,n,s)}i=i.next}while(i!==r)}}function Zf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nx(t){var e=t.alternate;e!==null&&(t.alternate=null,nx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[Ju],delete e[Fy],delete e[k$],delete e[R$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rx(t){return t.tag===5||t.tag===3||t.tag===4}function jE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(r!==4&&(t=t.child,t!==null))for(Zy(t,e,n),t=t.sibling;t!==null;)Zy(t,e,n),t=t.sibling}function ev(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ev(t,e,n),t=t.sibling;t!==null;)ev(t,e,n),t=t.sibling}var qt=null,hr=!1;function Ii(t,e,n){for(n=n.child;n!==null;)ix(t,e,n),n=n.sibling}function ix(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(qf,n)}catch{}switch(n.tag){case 5:on||ua(n,e);case 6:var r=qt,i=hr;qt=null,Ii(t,e,n),qt=r,hr=i,qt!==null&&(hr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(hr?(t=qt,n=n.stateNode,t.nodeType===8?yg(t.parentNode,n):t.nodeType===1&&yg(t,n),Ku(t)):yg(qt,n.stateNode));break;case 4:r=qt,i=hr,qt=n.stateNode.containerInfo,hr=!0,Ii(t,e,n),qt=r,hr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yy(n,e,o),i=i.next}while(i!==r)}Ii(t,e,n);break;case 1:if(!on&&(ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Ii(t,e,n),on=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function WE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q$),e.forEach(function(r){var i=tM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,hr=!1;break e;case 3:qt=a.stateNode.containerInfo,hr=!0;break e;case 4:qt=a.stateNode.containerInfo,hr=!0;break e}a=a.return}if(qt===null)throw Error(L(160));ix(s,o,i),qt=null,hr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sx(e,t),e=e.sibling}function sx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Ir(t),r&4){try{_u(3,t,t.return),Zf(3,t)}catch(m){at(t,t.return,m)}try{_u(5,t,t.return)}catch(m){at(t,t.return,m)}}break;case 1:cr(e,t),Ir(t),r&512&&n!==null&&ua(n,n.return);break;case 5:if(cr(e,t),Ir(t),r&512&&n!==null&&ua(n,n.return),t.flags&32){var i=t.stateNode;try{ju(i,"")}catch(m){at(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CT(i,s),_y(a,o);var u=_y(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?NT(i,d):c==="dangerouslySetInnerHTML"?RT(i,d):c==="children"?ju(i,d):b0(i,c,d,u)}switch(a){case"input":wy(i,s);break;case"textarea":xT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?va(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ju]=s}catch(m){at(t,t.return,m)}}break;case 6:if(cr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){at(t,t.return,m)}}break;case 3:if(cr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ku(e.containerInfo)}catch(m){at(t,t.return,m)}break;case 4:cr(e,t),Ir(t);break;case 13:cr(e,t),Ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Z0=ft())),r&4&&WE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(on=(u=on)||c,cr(e,t),on=u):cr(e,t),Ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(d=Q=c;Q!==null;){switch(h=Q,p=h.child,h.tag){case 0:case 11:case 14:case 15:_u(4,h,h.return);break;case 1:ua(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){at(r,n,m)}}break;case 5:ua(h,h.return);break;case 22:if(h.memoizedState!==null){HE(d);continue}}p!==null?(p.return=h,Q=p):HE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AT("display",o))}catch(m){at(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){at(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cr(e,t),Ir(t),r&4&&WE(t);break;case 21:break;default:cr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rx(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ju(i,""),r.flags&=-33);var s=jE(t);ev(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jE(t);Zy(t,a,o);break;default:throw Error(L(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K$(t,e,n){Q=t,ox(t)}function ox(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ld;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||on;a=Ld;var u=on;if(Ld=o,(on=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?KE(i):l!==null?(l.return=o,Q=l):KE(i);for(;s!==null;)Q=s,ox(s),s=s.sibling;Q=i,Ld=a,on=u}qE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):qE(t)}}function qE(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||Zf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ku(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}on||e.flags&512&&Jy(e)}catch(h){at(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function HE(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function KE(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zf(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{Jy(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{Jy(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var G$=Math.ceil,ef=fi.ReactCurrentDispatcher,Y0=fi.ReactCurrentOwner,nr=fi.ReactCurrentBatchConfig,_e=0,Pt=null,bt=null,Qt=0,Dn=0,ca=ys(0),It=0,ic=null,co=0,ep=0,J0=0,Tu=null,In=null,Z0=0,Ba=1/0,Qr=null,tf=!1,tv=null,Hi=null,Fd=!1,Mi=null,nf=0,Cu=0,nv=null,ph=-1,mh=0;function gn(){return _e&6?ft():ph!==-1?ph:ph=ft()}function Ki(t){return t.mode&1?_e&2&&Qt!==0?Qt&-Qt:N$.transition!==null?(mh===0&&(mh=jT()),mh):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:XT(t.type)),t):1}function gr(t,e,n,r){if(50<Cu)throw Cu=0,nv=null,Error(L(185));Uc(t,n,r),(!(_e&2)||t!==Pt)&&(t===Pt&&(!(_e&2)&&(ep|=n),It===4&&Pi(t,Qt)),An(t,r),n===1&&_e===0&&!(e.mode&1)&&(Ba=ft()+500,Xf&&vs()))}function An(t,e){var n=t.callbackNode;ND(t,e);var r=Uh(t,t===Pt?Qt:0);if(r===0)n!==null&&nE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nE(n),e===1)t.tag===0?A$(GE.bind(null,t)):mC(GE.bind(null,t)),C$(function(){!(_e&6)&&vs()}),n=null;else{switch(WT(r)){case 1:n=T0;break;case 4:n=VT;break;case 16:n=Fh;break;case 536870912:n=zT;break;default:n=Fh}n=px(n,ax.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ax(t,e){if(ph=-1,mh=0,_e&6)throw Error(L(327));var n=t.callbackNode;if(Ia()&&t.callbackNode!==n)return null;var r=Uh(t,t===Pt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rf(t,r);else{e=r;var i=_e;_e|=2;var s=ux();(Pt!==t||Qt!==e)&&(Qr=null,Ba=ft()+500,Js(t,e));do try{Y$();break}catch(a){lx(t,a)}while(1);F0(),ef.current=s,_e=i,bt!==null?e=0:(Pt=null,Qt=0,e=It)}if(e!==0){if(e===2&&(i=Ry(t),i!==0&&(r=i,e=rv(t,i))),e===1)throw n=ic,Js(t,0),Pi(t,r),An(t,ft()),n;if(e===6)Pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Q$(i)&&(e=rf(t,r),e===2&&(s=Ry(t),s!==0&&(r=s,e=rv(t,s))),e===1))throw n=ic,Js(t,0),Pi(t,r),An(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Rs(t,In,Qr);break;case 3:if(Pi(t,r),(r&130023424)===r&&(e=Z0+500-ft(),10<e)){if(Uh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ly(Rs.bind(null,t,In,Qr),e);break}Rs(t,In,Qr);break;case 4:if(Pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-mr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G$(r/1960))-r,10<r){t.timeoutHandle=Ly(Rs.bind(null,t,In,Qr),r);break}Rs(t,In,Qr);break;case 5:Rs(t,In,Qr);break;default:throw Error(L(329))}}}return An(t,ft()),t.callbackNode===n?ax.bind(null,t):null}function rv(t,e){var n=Tu;return t.current.memoizedState.isDehydrated&&(Js(t,e).flags|=256),t=rf(t,e),t!==2&&(e=In,In=n,e!==null&&iv(e)),t}function iv(t){In===null?In=t:In.push.apply(In,t)}function Q$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e){for(e&=~J0,e&=~ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function GE(t){if(_e&6)throw Error(L(327));Ia();var e=Uh(t,0);if(!(e&1))return An(t,ft()),null;var n=rf(t,e);if(t.tag!==0&&n===2){var r=Ry(t);r!==0&&(e=r,n=rv(t,r))}if(n===1)throw n=ic,Js(t,0),Pi(t,e),An(t,ft()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rs(t,In,Qr),An(t,ft()),null}function ew(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Ba=ft()+500,Xf&&vs())}}function ho(t){Mi!==null&&Mi.tag===0&&!(_e&6)&&Ia();var e=_e;_e|=1;var n=nr.transition,r=Oe;try{if(nr.transition=null,Oe=1,t)return t()}finally{Oe=r,nr.transition=n,_e=e,!(_e&6)&&vs()}}function tw(){Dn=ca.current,Ke(ca)}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T$(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch($0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wh();break;case 3:Fa(),Ke(kn),Ke(un),W0();break;case 5:j0(r);break;case 4:Fa();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:U0(r.type._context);break;case 22:case 23:tw()}n=n.return}if(Pt=t,bt=t=Gi(t.current,null),Qt=Dn=e,It=0,ic=null,J0=ep=co=0,In=Tu=null,zs!==null){for(e=0;e<zs.length;e++)if(n=zs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zs=null}return t}function lx(t,e){do{var n=bt;try{if(F0(),dh.current=Zh,Jh){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jh=!1}if(uo=0,At=Et=nt=null,Iu=!1,tc=0,Y0.current=null,n===null||n.return===null){It=1,ic=e,bt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$E(o);if(p!==null){p.flags&=-257,ME(p,o,a,s,e),p.mode&1&&DE(s,u,e),e=p,l=u;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){DE(s,u,e),nw();break e}l=Error(L(426))}}else if(Ye&&a.mode&1){var E=$E(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ME(E,o,a,s,e),M0(Ua(l,a));break e}}s=l=Ua(l,a),It!==4&&(It=2),Tu===null?Tu=[s]:Tu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=qC(s,l,e);xE(s,y);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hi===null||!Hi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=HC(s,a,e);xE(s,b);break e}}s=s.return}while(s!==null)}dx(n)}catch(_){e=_,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(1)}function ux(){var t=ef.current;return ef.current=Zh,t===null?Zh:t}function nw(){(It===0||It===3||It===2)&&(It=4),Pt===null||!(co&268435455)&&!(ep&268435455)||Pi(Pt,Qt)}function rf(t,e){var n=_e;_e|=2;var r=ux();(Pt!==t||Qt!==e)&&(Qr=null,Js(t,e));do try{X$();break}catch(i){lx(t,i)}while(1);if(F0(),_e=n,ef.current=r,bt!==null)throw Error(L(261));return Pt=null,Qt=0,It}function X$(){for(;bt!==null;)cx(bt)}function Y$(){for(;bt!==null&&!SD();)cx(bt)}function cx(t){var e=fx(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?dx(t):bt=e,Y0.current=null}function dx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=W$(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,bt=null;return}}else if(n=j$(n,e,Dn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);It===0&&(It=5)}function Rs(t,e,n){var r=Oe,i=nr.transition;try{nr.transition=null,Oe=1,J$(t,e,n,r)}finally{nr.transition=i,Oe=r}return null}function J$(t,e,n,r){do Ia();while(Mi!==null);if(_e&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PD(t,s),t===Pt&&(bt=Pt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fd||(Fd=!0,px(Fh,function(){return Ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var o=Oe;Oe=1;var a=_e;_e|=4,Y0.current=null,H$(t,n),sx(n,t),v$($y),Bh=!!Dy,$y=Dy=null,t.current=n,K$(n),ID(),_e=a,Oe=o,nr.transition=s}else t.current=n;if(Fd&&(Fd=!1,Mi=t,nf=i),s=t.pendingLanes,s===0&&(Hi=null),CD(n.stateNode),An(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tf)throw tf=!1,t=tv,tv=null,t;return nf&1&&t.tag!==0&&Ia(),s=t.pendingLanes,s&1?t===nv?Cu++:(Cu=0,nv=t):Cu=0,vs(),null}function Ia(){if(Mi!==null){var t=WT(nf),e=nr.transition,n=Oe;try{if(nr.transition=null,Oe=16>t?16:t,Mi===null)var r=!1;else{if(t=Mi,Mi=null,nf=0,_e&6)throw Error(L(331));var i=_e;for(_e|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:_u(8,c,s)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var h=c.sibling,p=c.return;if(nx(c),c===u){Q=null;break}if(h!==null){h.return=p,Q=h;break}Q=p}}}var f=s.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_u(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Q=y;break e}Q=s.return}}var g=t.current;for(Q=g;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=g;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zf(9,a)}}catch(_){at(a,a.return,_)}if(a===o){Q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Q=b;break e}Q=a.return}}if(_e=i,vs(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(qf,t)}catch{}r=!0}return r}finally{Oe=n,nr.transition=e}}return!1}function QE(t,e,n){e=Ua(n,e),e=qC(t,e,1),t=qi(t,e,1),e=gn(),t!==null&&(Uc(t,1,e),An(t,e))}function at(t,e,n){if(t.tag===3)QE(t,t,n);else for(;e!==null;){if(e.tag===3){QE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=Ua(n,t),t=HC(e,t,1),e=qi(e,t,1),t=gn(),e!==null&&(Uc(e,1,t),An(e,t));break}}e=e.return}}function Z$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Qt&n)===n&&(It===4||It===3&&(Qt&130023424)===Qt&&500>ft()-Z0?Js(t,0):J0|=n),An(t,e)}function hx(t,e){e===0&&(t.mode&1?(e=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):e=1);var n=gn();t=li(t,e),t!==null&&(Uc(t,e,n),An(t,n))}function eM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hx(t,n)}function tM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),hx(t,n)}var fx;fx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,z$(t,e,n);_n=!!(t.flags&131072)}else _n=!1,Ye&&e.flags&1048576&&gC(e,Kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fh(t,e),t=e.pendingProps;var i=$a(e,un.current);Sa(e,n),i=H0(null,e,r,t,i,n);var s=K0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,qh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V0(e),i.updater=Yf,e.stateNode=i,i._reactInternals=e,Wy(e,r,t,n),e=Ky(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&D0(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rM(r),t=dr(r,t),i){case 0:e=Hy(null,e,r,t,n);break e;case 1:e=UE(null,e,r,t,n);break e;case 11:e=LE(null,e,r,t,n);break e;case 14:e=FE(null,e,r,dr(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),Hy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),UE(t,e,r,i,n);case 3:e:{if(XC(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bC(t,e),Xh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ua(Error(L(423)),e),e=BE(t,e,r,n,i);break e}else if(r!==i){i=Ua(Error(L(424)),e),e=BE(t,e,r,n,i);break e}else for(Fn=Wi(e.stateNode.containerInfo.firstChild),Vn=e,Ye=!0,fr=null,n=_C(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===i){e=ui(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return TC(e),t===null&&Vy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,My(r,i)?o=null:s!==null&&My(r,s)&&(e.flags|=32),QC(t,e),hn(t,e,o,n),e.child;case 6:return t===null&&Vy(e),null;case 13:return YC(t,e,n);case 4:return z0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=La(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),LE(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Gh,r._currentValue),r._currentValue=o,s!==null)if(vr(s.value,o)){if(s.children===i.children&&!kn.current){e=ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ni(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,n),i=ir(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=dr(r,e.pendingProps),i=dr(r.type,i),FE(t,e,r,i,n);case 15:return KC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),fh(t,e),e.tag=1,Rn(r)?(t=!0,qh(e)):t=!1,Sa(e,n),SC(e,r,i),Wy(e,r,i,n),Ky(null,e,r,!0,t,n);case 19:return JC(t,e,n);case 22:return GC(t,e,n)}throw Error(L(156,e.tag))};function px(t,e){return BT(t,e)}function nM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new nM(t,e,n,r)}function rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rM(t){if(typeof t=="function")return rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S0)return 11;if(t===I0)return 14}return 2}function Gi(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ea:return Zs(n.children,i,s,e);case E0:o=8,i|=8;break;case py:return t=er(12,n,e,i|2),t.elementType=py,t.lanes=s,t;case my:return t=er(13,n,e,i),t.elementType=my,t.lanes=s,t;case gy:return t=er(19,n,e,i),t.elementType=gy,t.lanes=s,t;case IT:return tp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ET:o=10;break e;case ST:o=9;break e;case S0:o=11;break e;case I0:o=14;break e;case Ri:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=er(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zs(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function tp(t,e,n,r){return t=er(22,t,r,e),t.elementType=IT,t.lanes=n,t.stateNode={isHidden:!1},t}function Tg(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Cg(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=og(0),this.expirationTimes=og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=og(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iw(t,e,n,r,i,s,o,a,l){return t=new iM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V0(s),t}function sM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mx(t){if(!t)return Zi;t=t._reactInternals;e:{if(Ro(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(Rn(n))return pC(t,n,e)}return e}function gx(t,e,n,r,i,s,o,a,l){return t=iw(n,r,!0,t,i,s,o,a,l),t.context=mx(null),n=t.current,r=gn(),i=Ki(n),s=ni(r,i),s.callback=e??null,qi(n,s,i),t.current.lanes=i,Uc(t,i,r),An(t,r),t}function np(t,e,n,r){var i=e.current,s=gn(),o=Ki(i);return n=mx(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qi(i,e,o),t!==null&&(gr(t,i,o,s),ch(t,i,o)),o}function sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sw(t,e){XE(t,e),(t=t.alternate)&&XE(t,e)}function oM(){return null}var yx=typeof reportError=="function"?reportError:function(t){console.error(t)};function ow(t){this._internalRoot=t}rp.prototype.render=ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));np(t,e,null,null)};rp.prototype.unmount=ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){np(null,t,null,null)}),e[ai]=null}};function rp(t){this._internalRoot=t}rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=KT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&QT(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YE(){}function aM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=sf(o);s.call(u)}}var o=gx(e,r,t,0,null,!1,!1,"",YE);return t._reactRootContainer=o,t[ai]=o.current,Xu(t.nodeType===8?t.parentNode:t),ho(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sf(l);a.call(u)}}var l=iw(t,0,!1,null,null,!1,!1,"",YE);return t._reactRootContainer=l,t[ai]=l.current,Xu(t.nodeType===8?t.parentNode:t),ho(function(){np(e,l,n,r)}),l}function sp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sf(o);a.call(l)}}np(e,o,t,i)}else o=aM(n,e,t,i,r);return sf(o)}qT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uu(e.pendingLanes);n!==0&&(C0(e,n|1),An(e,ft()),!(_e&6)&&(Ba=ft()+500,vs()))}break;case 13:ho(function(){var r=li(t,1);if(r!==null){var i=gn();gr(r,t,1,i)}}),sw(t,1)}};x0=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=gn();gr(e,t,134217728,n)}sw(t,134217728)}};HT=function(t){if(t.tag===13){var e=Ki(t),n=li(t,e);if(n!==null){var r=gn();gr(n,t,e,r)}sw(t,e)}};KT=function(){return Oe};GT=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Cy=function(t,e,n){switch(e){case"input":if(wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qf(r);if(!i)throw Error(L(90));TT(r),wy(r,i)}}}break;case"textarea":xT(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};DT=ew;$T=ho;var lM={usingClientEntryPoint:!1,Events:[Vc,ia,Qf,PT,OT,ew]},zl={findFiberByHostInstance:Vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uM={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FT(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||oM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{qf=Ud.inject(uM),Ur=Ud}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lM;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(L(200));return sM(t,e,null,n)};Hn.createRoot=function(t,e){if(!aw(t))throw Error(L(299));var n=!1,r="",i=yx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iw(t,1,!1,null,null,n,!1,r,i),t[ai]=e.current,Xu(t.nodeType===8?t.parentNode:t),new ow(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=FT(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return ho(t)};Hn.hydrate=function(t,e,n){if(!ip(e))throw Error(L(200));return sp(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gx(e,null,t,1,n??null,i,!1,s,o),t[ai]=e.current,Xu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rp(e)};Hn.render=function(t,e,n){if(!ip(e))throw Error(L(200));return sp(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!ip(t))throw Error(L(40));return t._reactRootContainer?(ho(function(){sp(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Hn.unstable_batchedUpdates=ew;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ip(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return sp(t,e,n,!1,r)};Hn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Hn})(oD);const Bd=aT(Oa);var JE=Oa;dy.createRoot=JE.createRoot,dy.hydrateRoot=JE.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}var Li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Li||(Li={}));const ZE="popstate";function cM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vx(i)}return hM(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dM(){return Math.random().toString(36).substr(2,8)}function eS(t,e){return{usr:t.state,key:t.key,idx:e}}function sv(t,e,n,r){return n===void 0&&(n=null),sc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hl(e):e,{state:n,key:e&&e.key||r||dM()})}function vx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Li.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(sc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Li.Pop;let E=c(),y=E==null?null:E-u;u=E,l&&l({action:a,location:m.location,delta:y})}function h(E,y){a=Li.Push;let g=sv(m.location,E,y);n&&n(g,E),u=c()+1;let v=eS(g,u),b=m.createHref(g);try{o.pushState(v,"",b)}catch{i.location.assign(b)}s&&l&&l({action:a,location:m.location,delta:1})}function p(E,y){a=Li.Replace;let g=sv(m.location,E,y);n&&n(g,E),u=c();let v=eS(g,u),b=m.createHref(g);o.replaceState(v,"",b),s&&l&&l({action:a,location:m.location,delta:0})}function f(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof E=="string"?E:vx(E);return Ot(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZE,d),l=E,()=>{i.removeEventListener(ZE,d),l=null}},createHref(E){return e(i,E)},createURL:f,encodeLocation(E){let y=f(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(E){return o.go(E)}};return m}var tS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tS||(tS={}));function fM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hl(e):e,i=Ex(r.pathname||"/",n);if(i==null)return null;let s=wx(t);pM(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=IM(s[a],CM(i));return o}function wx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=eo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:EM(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bx(s.path))i(s,o,l)}),e}function bx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mM=/^:\w+$/,gM=3,yM=2,vM=1,wM=10,bM=-2,nS=t=>t==="*";function EM(t,e){let n=t.split("/"),r=n.length;return n.some(nS)&&(r+=bM),e&&(r+=yM),n.filter(i=>!nS(i)).reduce((i,s)=>i+(mM.test(s)?gM:s===""?vM:wM),r)}function SM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IM(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=_M({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:eo([i,c.pathname]),pathnameBase:PM(eo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=eo([i,c.pathnameBase]))}return s}function _M(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=xM(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function TM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CM(t){try{return decodeURI(t)}catch(e){return lw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xM(t,e){try{return decodeURIComponent(t)}catch(n){return lw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ex(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hl(t):t;return{pathname:n?n.startsWith("/")?n:RM(n,e):e,search:OM(r),hash:DM(i)}}function RM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hl(t):(i=sc({},t),Ot(!i.pathname||!i.pathname.includes("?"),xg("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),xg("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),xg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=kM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const eo=t=>t.join("/").replace(/\/\/+/g,"/"),PM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $M(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const LM=typeof Object.is=="function"?Object.is:MM,{useState:FM,useEffect:UM,useLayoutEffect:BM,useDebugValue:VM}=Pa;function zM(t,e,n){const r=e(),[{inst:i},s]=FM({inst:{value:r,getSnapshot:e}});return BM(()=>{i.value=r,i.getSnapshot=e,kg(i)&&s({inst:i})},[t,r,e]),UM(()=>(kg(i)&&s({inst:i}),t(()=>{kg(i)&&s({inst:i})})),[t]),VM(r),r}function kg(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!LM(n,r)}catch{return!0}}function jM(t,e,n){return e()}const WM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qM=!WM,HM=qM?jM:zM;"useSyncExternalStore"in Pa&&(t=>t.useSyncExternalStore)(Pa);const Sx=w.createContext(null),Ix=w.createContext(null),uw=w.createContext(null),op=w.createContext(null),jc=w.createContext({outlet:null,matches:[]}),_x=w.createContext(null);function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function ap(){return w.useContext(op)!=null}function cw(){return ap()||Ot(!1),w.useContext(op).location}function fl(){ap()||Ot(!1);let{basename:t,navigator:e}=w.useContext(uw),{matches:n}=w.useContext(jc),{pathname:r}=cw(),i=JSON.stringify(AM(n).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=NM(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:eo([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function KM(t,e){ap()||Ot(!1);let{navigator:n}=w.useContext(uw),r=w.useContext(Ix),{matches:i}=w.useContext(jc),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=cw(),u;if(e){var c;let m=typeof e=="string"?hl(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||Ot(!1),u=m}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",p=fM(t,{pathname:h}),f=YM(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:eo([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:eo([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&f?w.createElement(op.Provider,{value:{location:ov({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Li.Pop}},f):f}function GM(){let t=tL(),e=$M(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,s)}class QM extends w.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(jc.Provider,{value:this.props.routeContext},w.createElement(_x.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XM(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Sx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(jc.Provider,{value:e},r)}function YM(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ot(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=w.createElement(GM,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=w.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),w.createElement(XM,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(QM,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var rS;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(rS||(rS={}));var of;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(of||(of={}));function JM(t){let e=w.useContext(Ix);return e||Ot(!1),e}function ZM(t){let e=w.useContext(jc);return e||Ot(!1),e}function eL(t){let e=ZM(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function tL(){var t;let e=w.useContext(_x),n=JM(of.UseRouteError),r=eL(of.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function As(t){Ot(!1)}function nL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Li.Pop,navigator:s,static:o=!1}=t;ap()&&Ot(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=hl(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,f=w.useMemo(()=>{let m=Ex(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:h,key:p},navigationType:i}},[a,u,c,d,h,p,i]);return f==null?null:w.createElement(uw.Provider,{value:l},w.createElement(op.Provider,{children:n,value:f}))}function rL(t){let{children:e,location:n}=t,r=w.useContext(Sx),i=r&&!e?r.router.routes:av(e);return KM(i,n)}var iS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(iS||(iS={}));new Promise(()=>{});function av(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;if(r.type===w.Fragment){n.push.apply(n,av(r.props.children,e));return}r.type!==As&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=av(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iL(t){let{basename:e,children:n,window:r}=t,i=w.useRef();i.current==null&&(i.current=cM({window:r,v5Compat:!0}));let s=i.current,[o,a]=w.useState({action:s.action,location:s.location});return w.useLayoutEffect(()=>s.listen(a),[s]),w.createElement(nL,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var sS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(sS||(sS={}));var oS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oS||(oS={}));const sL={black:"#000",white:"#fff"},oc=sL,oL={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bo=oL,aL={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Vo=aL,lL={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zo=lL,uL={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},jo=uL,cL={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Wo=cL,dL={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},jl=dL,hL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fL=hL;function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(this,arguments)}function $s(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Tx(t){if(!$s(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Tx(t[n])}),e}function rr(t,e,n={clone:!0}){const r=n.clone?I({},t):t;return $s(t)&&$s(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&($s(e[i])&&i in t&&$s(t[i])?r[i]=rr(t[i],e[i],n):n.clone?r[i]=$s(e[i])?Tx(e[i]):e[i]:r[i]=e[i])}),r}function es(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var aS={},pL={get exports(){return aS},set exports(t){aS=t}},De={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw=Symbol.for("react.element"),hw=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),dp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),mL=Symbol.for("react.server_context"),fp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),gL=Symbol.for("react.offscreen"),Cx;Cx=Symbol.for("react.module.reference");function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dw:switch(t=t.type,t){case lp:case cp:case up:case pp:case mp:return t;default:switch(t=t&&t.$$typeof,t){case mL:case hp:case fp:case yp:case gp:case dp:return t;default:return e}}case hw:return e}}}De.ContextConsumer=hp;De.ContextProvider=dp;De.Element=dw;De.ForwardRef=fp;De.Fragment=lp;De.Lazy=yp;De.Memo=gp;De.Portal=hw;De.Profiler=cp;De.StrictMode=up;De.Suspense=pp;De.SuspenseList=mp;De.isAsyncMode=function(){return!1};De.isConcurrentMode=function(){return!1};De.isContextConsumer=function(t){return lr(t)===hp};De.isContextProvider=function(t){return lr(t)===dp};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dw};De.isForwardRef=function(t){return lr(t)===fp};De.isFragment=function(t){return lr(t)===lp};De.isLazy=function(t){return lr(t)===yp};De.isMemo=function(t){return lr(t)===gp};De.isPortal=function(t){return lr(t)===hw};De.isProfiler=function(t){return lr(t)===cp};De.isStrictMode=function(t){return lr(t)===up};De.isSuspense=function(t){return lr(t)===pp};De.isSuspenseList=function(t){return lr(t)===mp};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lp||t===cp||t===up||t===pp||t===mp||t===gL||typeof t=="object"&&t!==null&&(t.$$typeof===yp||t.$$typeof===gp||t.$$typeof===dp||t.$$typeof===hp||t.$$typeof===fp||t.$$typeof===Cx||t.getModuleId!==void 0)};De.typeOf=lr;(function(t){t.exports=De})(pL);function fe(t){if(typeof t!="string")throw new Error(es(7));return t.charAt(0).toUpperCase()+t.slice(1)}function lv(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function fw(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function yL(t,e){return()=>null}function yh(t,e){return w.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Nn(t){return t&&t.ownerDocument||document}function ts(t){return Nn(t).defaultView||window}function vL(t,e){return()=>null}function af(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const wL=typeof window<"u"?w.useLayoutEffect:w.useEffect,fo=wL;let lS=0;function bL(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(lS+=1,n(`mui-${lS}`))},[e]),r}const uS=Pa["useId"];function vp(t){if(uS!==void 0){const e=uS();return t??e}return bL(t)}function EL(t,e,n,r,i){return null}function lf({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[s,o]=w.useState(e),a=i?t:s,l=w.useCallback(u=>{i||o(u)},[]);return[a,l]}function Ws(t){const e=w.useRef(t);return fo(()=>{e.current=t}),w.useCallback((...n)=>(0,e.current)(...n),[])}function cn(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{af(n,e)})},t)}let wp=!0,uv=!1,cS;const SL={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function IL(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&SL[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function _L(t){t.metaKey||t.altKey||t.ctrlKey||(wp=!0)}function Rg(){wp=!1}function TL(){this.visibilityState==="hidden"&&uv&&(wp=!0)}function CL(t){t.addEventListener("keydown",_L,!0),t.addEventListener("mousedown",Rg,!0),t.addEventListener("pointerdown",Rg,!0),t.addEventListener("touchstart",Rg,!0),t.addEventListener("visibilitychange",TL,!0)}function xL(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return wp||IL(e)}function pw(){const t=w.useCallback(i=>{i!=null&&CL(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(uv=!0,window.clearTimeout(cS),cS=window.setTimeout(()=>{uv=!1},100),e.current=!1,!0):!1}function r(i){return xL(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function xx(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const kL={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},RL=kL;function mw(t,e){const n=I({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=I({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=I({},s),Object.keys(i).forEach(o=>{n[r][o]=mw(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function $e(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const dS=t=>t,AL=()=>{let t=dS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=dS}}},NL=AL(),gw=NL,PL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Re(t,e,n="Mui"){const r=PL[e];return r?`${n}-${r}`:`${gw.generate(t)}-${e}`}function Ae(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Re(t,i,n)}),r}function re(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kx(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var OL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DL=kx(function(t){return OL.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function $L(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ML(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var LL=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ML(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=$L(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),sn="-ms-",uf="-moz-",Ce="-webkit-",Rx="comm",yw="rule",vw="decl",FL="@import",Ax="@keyframes",UL=Math.abs,bp=String.fromCharCode,BL=Object.assign;function VL(t,e){return Kt(t,0)^45?(((e<<2^Kt(t,0))<<2^Kt(t,1))<<2^Kt(t,2))<<2^Kt(t,3):0}function Nx(t){return t.trim()}function zL(t,e){return(t=e.exec(t))?t[0]:t}function ke(t,e,n){return t.replace(e,n)}function cv(t,e){return t.indexOf(e)}function Kt(t,e){return t.charCodeAt(e)|0}function ac(t,e,n){return t.slice(e,n)}function Cr(t){return t.length}function ww(t){return t.length}function Vd(t,e){return e.push(t),t}function jL(t,e){return t.map(e).join("")}var Ep=1,Va=1,Px=0,Pn=0,wt=0,pl="";function Sp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ep,column:Va,length:o,return:""}}function Wl(t,e){return BL(Sp("",null,null,"",null,null,0),t,{length:-t.length},e)}function WL(){return wt}function qL(){return wt=Pn>0?Kt(pl,--Pn):0,Va--,wt===10&&(Va=1,Ep--),wt}function zn(){return wt=Pn<Px?Kt(pl,Pn++):0,Va++,wt===10&&(Va=1,Ep++),wt}function Vr(){return Kt(pl,Pn)}function vh(){return Pn}function Wc(t,e){return ac(pl,t,e)}function lc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ox(t){return Ep=Va=1,Px=Cr(pl=t),Pn=0,[]}function Dx(t){return pl="",t}function wh(t){return Nx(Wc(Pn-1,dv(t===91?t+2:t===40?t+1:t)))}function HL(t){for(;(wt=Vr())&&wt<33;)zn();return lc(t)>2||lc(wt)>3?"":" "}function KL(t,e){for(;--e&&zn()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Wc(t,vh()+(e<6&&Vr()==32&&zn()==32))}function dv(t){for(;zn();)switch(wt){case t:return Pn;case 34:case 39:t!==34&&t!==39&&dv(wt);break;case 40:t===41&&dv(t);break;case 92:zn();break}return Pn}function GL(t,e){for(;zn()&&t+wt!==47+10;)if(t+wt===42+42&&Vr()===47)break;return"/*"+Wc(e,Pn-1)+"*"+bp(t===47?t:zn())}function QL(t){for(;!lc(Vr());)zn();return Wc(t,Pn)}function XL(t){return Dx(bh("",null,null,null,[""],t=Ox(t),0,[0],t))}function bh(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,p=0,f=0,m=1,E=1,y=1,g=0,v="",b=i,_=s,C=r,T=v;E;)switch(f=g,g=zn()){case 40:if(f!=108&&Kt(T,d-1)==58){cv(T+=ke(wh(g),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=wh(g);break;case 9:case 10:case 13:case 32:T+=HL(f);break;case 92:T+=KL(vh()-1,7);continue;case 47:switch(Vr()){case 42:case 47:Vd(YL(GL(zn(),vh()),e,n),l);break;default:T+="/"}break;case 123*m:a[u++]=Cr(T)*y;case 125*m:case 59:case 0:switch(g){case 0:case 125:E=0;case 59+c:p>0&&Cr(T)-d&&Vd(p>32?fS(T+";",r,n,d-1):fS(ke(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Vd(C=hS(T,e,n,u,c,i,a,v,b=[],_=[],d),s),g===123)if(c===0)bh(T,e,C,C,b,s,d,a,_);else switch(h===99&&Kt(T,3)===110?100:h){case 100:case 109:case 115:bh(t,C,C,r&&Vd(hS(t,C,C,0,0,i,a,v,i,b=[],d),_),i,_,d,a,r?b:_);break;default:bh(T,C,C,C,[""],_,0,a,_)}}u=c=p=0,m=y=1,v=T="",d=o;break;case 58:d=1+Cr(T),p=f;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&qL()==125)continue}switch(T+=bp(g),g*m){case 38:y=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Cr(T)-1)*y,y=1;break;case 64:Vr()===45&&(T+=wh(zn())),h=Vr(),c=d=Cr(v=T+=QL(vh())),g++;break;case 45:f===45&&Cr(T)==2&&(m=0)}}return s}function hS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],p=ww(h),f=0,m=0,E=0;f<r;++f)for(var y=0,g=ac(t,d+1,d=UL(m=o[f])),v=t;y<p;++y)(v=Nx(m>0?h[y]+" "+g:ke(g,/&\f/g,h[y])))&&(l[E++]=v);return Sp(t,e,n,i===0?yw:a,l,u,c)}function YL(t,e,n){return Sp(t,e,n,Rx,bp(WL()),ac(t,2,-2),0)}function fS(t,e,n,r){return Sp(t,e,n,vw,ac(t,0,r),ac(t,r+1,-1),r)}function _a(t,e){for(var n="",r=ww(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function JL(t,e,n,r){switch(t.type){case FL:case vw:return t.return=t.return||t.value;case Rx:return"";case Ax:return t.return=t.value+"{"+_a(t.children,r)+"}";case yw:t.value=t.props.join(",")}return Cr(n=_a(t.children,r))?t.return=t.value+"{"+n+"}":""}function ZL(t){var e=ww(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function e2(t){return function(e){e.root||(e=e.return)&&t(e)}}var t2=function(e,n,r){for(var i=0,s=0;i=s,s=Vr(),i===38&&s===12&&(n[r]=1),!lc(s);)zn();return Wc(e,Pn)},n2=function(e,n){var r=-1,i=44;do switch(lc(i)){case 0:i===38&&Vr()===12&&(n[r]=1),e[r]+=t2(Pn-1,n,r);break;case 2:e[r]+=wh(i);break;case 4:if(i===44){e[++r]=Vr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=bp(i)}while(i=zn());return e},r2=function(e,n){return Dx(n2(Ox(e),n))},pS=new WeakMap,i2=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!pS.get(r))&&!i){pS.set(e,!0);for(var s=[],o=r2(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},s2=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function $x(t,e){switch(VL(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+uf+t+sn+t+t;case 6828:case 4268:return Ce+t+sn+t+t;case 6165:return Ce+t+sn+"flex-"+t+t;case 5187:return Ce+t+ke(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+sn+"flex-$1$2")+t;case 5443:return Ce+t+sn+"flex-item-"+ke(t,/flex-|-self/,"")+t;case 4675:return Ce+t+sn+"flex-line-pack"+ke(t,/align-content|flex-|-self/,"")+t;case 5548:return Ce+t+sn+ke(t,"shrink","negative")+t;case 5292:return Ce+t+sn+ke(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+ke(t,"-grow","")+Ce+t+sn+ke(t,"grow","positive")+t;case 4554:return Ce+ke(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return ke(ke(ke(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return ke(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return ke(ke(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4095:case 3583:case 4068:case 2532:return ke(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cr(t)-1-e>6)switch(Kt(t,e+1)){case 109:if(Kt(t,e+4)!==45)break;case 102:return ke(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+uf+(Kt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cv(t,"stretch")?$x(ke(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Kt(t,e+1)!==115)break;case 6444:switch(Kt(t,Cr(t)-3-(~cv(t,"!important")&&10))){case 107:return ke(t,":",":"+Ce)+t;case 101:return ke(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(Kt(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+sn+"$2box$3")+t}break;case 5936:switch(Kt(t,e+11)){case 114:return Ce+t+sn+ke(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+sn+ke(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+sn+ke(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ce+t+sn+t+t}return t}var o2=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case vw:e.return=$x(e.value,e.length);break;case Ax:return _a([Wl(e,{value:ke(e.value,"@","@"+Ce)})],i);case yw:if(e.length)return jL(e.props,function(s){switch(zL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _a([Wl(e,{props:[ke(s,/:(read-\w+)/,":"+uf+"$1")]})],i);case"::placeholder":return _a([Wl(e,{props:[ke(s,/:(plac\w+)/,":"+Ce+"input-$1")]}),Wl(e,{props:[ke(s,/:(plac\w+)/,":"+uf+"$1")]}),Wl(e,{props:[ke(s,/:(plac\w+)/,sn+"input-$1")]})],i)}return""})}},a2=[o2],l2=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var E=m.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||a2,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var E=m.getAttribute("data-emotion").split(" "),y=1;y<E.length;y++)s[E[y]]=!0;a.push(m)});var l,u=[i2,s2];{var c,d=[JL,e2(function(m){c.insert(m)})],h=ZL(u.concat(i,d)),p=function(E){return _a(XL(E),h)};l=function(E,y,g,v){c=g,p(E?E+"{"+y.styles+"}":y.styles),v&&(f.inserted[y.name]=!0)}}var f={key:n,sheet:new LL({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(a),f},hv={},u2={get exports(){return hv},set exports(t){hv=t}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,bw=Ft?Symbol.for("react.element"):60103,Ew=Ft?Symbol.for("react.portal"):60106,Ip=Ft?Symbol.for("react.fragment"):60107,_p=Ft?Symbol.for("react.strict_mode"):60108,Tp=Ft?Symbol.for("react.profiler"):60114,Cp=Ft?Symbol.for("react.provider"):60109,xp=Ft?Symbol.for("react.context"):60110,Sw=Ft?Symbol.for("react.async_mode"):60111,kp=Ft?Symbol.for("react.concurrent_mode"):60111,Rp=Ft?Symbol.for("react.forward_ref"):60112,Ap=Ft?Symbol.for("react.suspense"):60113,c2=Ft?Symbol.for("react.suspense_list"):60120,Np=Ft?Symbol.for("react.memo"):60115,Pp=Ft?Symbol.for("react.lazy"):60116,d2=Ft?Symbol.for("react.block"):60121,h2=Ft?Symbol.for("react.fundamental"):60117,f2=Ft?Symbol.for("react.responder"):60118,p2=Ft?Symbol.for("react.scope"):60119;function Gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bw:switch(t=t.type,t){case Sw:case kp:case Ip:case Tp:case _p:case Ap:return t;default:switch(t=t&&t.$$typeof,t){case xp:case Rp:case Pp:case Np:case Cp:return t;default:return e}}case Ew:return e}}}function Mx(t){return Gn(t)===kp}Me.AsyncMode=Sw;Me.ConcurrentMode=kp;Me.ContextConsumer=xp;Me.ContextProvider=Cp;Me.Element=bw;Me.ForwardRef=Rp;Me.Fragment=Ip;Me.Lazy=Pp;Me.Memo=Np;Me.Portal=Ew;Me.Profiler=Tp;Me.StrictMode=_p;Me.Suspense=Ap;Me.isAsyncMode=function(t){return Mx(t)||Gn(t)===Sw};Me.isConcurrentMode=Mx;Me.isContextConsumer=function(t){return Gn(t)===xp};Me.isContextProvider=function(t){return Gn(t)===Cp};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bw};Me.isForwardRef=function(t){return Gn(t)===Rp};Me.isFragment=function(t){return Gn(t)===Ip};Me.isLazy=function(t){return Gn(t)===Pp};Me.isMemo=function(t){return Gn(t)===Np};Me.isPortal=function(t){return Gn(t)===Ew};Me.isProfiler=function(t){return Gn(t)===Tp};Me.isStrictMode=function(t){return Gn(t)===_p};Me.isSuspense=function(t){return Gn(t)===Ap};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ip||t===kp||t===Tp||t===_p||t===Ap||t===c2||typeof t=="object"&&t!==null&&(t.$$typeof===Pp||t.$$typeof===Np||t.$$typeof===Cp||t.$$typeof===xp||t.$$typeof===Rp||t.$$typeof===h2||t.$$typeof===f2||t.$$typeof===p2||t.$$typeof===d2)};Me.typeOf=Gn;(function(t){t.exports=Me})(u2);var Lx=hv,m2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fx={};Fx[Lx.ForwardRef]=m2;Fx[Lx.Memo]=g2;var y2=!0;function v2(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Ux=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||y2===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Bx=function(e,n,r){Ux(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function w2(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var b2={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},E2=/[A-Z]|^ms/g,S2=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Vx=function(e){return e.charCodeAt(1)===45},mS=function(e){return e!=null&&typeof e!="boolean"},Ag=kx(function(t){return Vx(t)?t:t.replace(E2,"-$&").toLowerCase()}),gS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(S2,function(r,i,s){return xr={name:i,styles:s,next:xr},i})}return b2[e]!==1&&!Vx(e)&&typeof n=="number"&&n!==0?n+"px":n};function uc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return xr={name:n.name,styles:n.styles,next:xr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)xr={name:r.name,styles:r.styles,next:xr},r=r.next;var i=n.styles+";";return i}return I2(t,e,n)}case"function":{if(t!==void 0){var s=xr,o=n(t);return xr=s,uc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function I2(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=uc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":mS(o)&&(r+=Ag(s)+":"+gS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)mS(o[a])&&(r+=Ag(s)+":"+gS(s,o[a])+";");else{var l=uc(t,e,o);switch(s){case"animation":case"animationName":{r+=Ag(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var yS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,xr,Iw=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";xr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=uc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=uc(r,n,e[a]),i&&(s+=o[a]);yS.lastIndex=0;for(var l="",u;(u=yS.exec(s))!==null;)l+="-"+u[1];var c=w2(s)+l;return{name:c,styles:s,next:xr}},_2=function(e){return e()},zx=Pa["useInsertionEffect"]?Pa["useInsertionEffect"]:!1,T2=zx||_2,vS=zx||w.useLayoutEffect,jx=w.createContext(typeof HTMLElement<"u"?l2({key:"css"}):null);jx.Provider;var Wx=function(e){return w.forwardRef(function(n,r){var i=w.useContext(jx);return e(n,i,r)})},qx=w.createContext({}),C2=Wx(function(t,e){var n=t.styles,r=Iw([n],void 0,w.useContext(qx)),i=w.useRef();return vS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),vS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Bx(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function x2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Iw(e)}var _w=function(){var e=x2.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},k2=DL,R2=function(e){return e!=="theme"},wS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?k2:R2},bS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},A2=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Ux(n,r,i),T2(function(){return Bx(n,r,i)}),null},N2=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=bS(e,n,r),l=a||wS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var f=Wx(function(m,E,y){var g=u&&m.as||i,v="",b=[],_=m;if(m.theme==null){_={};for(var C in m)_[C]=m[C];_.theme=w.useContext(qx)}typeof m.className=="string"?v=v2(E.registered,b,m.className):m.className!=null&&(v=m.className+" ");var T=Iw(d.concat(b),E.registered,_);v+=E.key+"-"+T.name,o!==void 0&&(v+=" "+o);var k=u&&a===void 0?wS(g):l,D={};for(var A in m)u&&A==="as"||k(A)&&(D[A]=m[A]);return D.className=v,D.ref=y,w.createElement(w.Fragment,null,w.createElement(A2,{cache:E,serialized:T,isStringTag:typeof g=="string"}),w.createElement(g,D))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(m,E){return t(m,I({},n,E,{shouldForwardProp:bS(f,E,!0)})).apply(void 0,d)},f}};const P2=N2;var O2=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fv=P2.bind();O2.forEach(function(t){fv[t]=fv(t)});const D2=fv;function $2(t){return t==null||Object.keys(t).length===0}function M2(t){const{styles:e,defaultTheme:n={}}=t;return S(C2,{styles:typeof e=="function"?i=>e($2(i)?n:i):e})}/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Hx(t,e){return D2(t,e)}const L2=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function xu(t,e){return e?rr(t,e,{clone:!1}):t}const Tw={xs:0,sm:600,md:900,lg:1200,xl:1536},ES={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Tw[t]}px)`};function or(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||ES;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||ES;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Tw).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function F2(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function U2(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function B2(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Op({values:t,breakpoints:e,base:n}){const r=n||B2(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Dp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function cf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Dp(t,n)||r,e&&(i=e(i,r,t)),i}function Ne(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Dp(l,r)||{};return or(o,a,d=>{let h=cf(u,i,d);return d===h&&typeof d=="string"&&(h=cf(u,i,`${e}${d==="default"?"":fe(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function $p(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?xu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function V2(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const z2={m:"margin",p:"padding"},j2={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},W2=V2(t=>{if(t.length>2)if(SS[t])t=SS[t];else return[t];const[e,n]=t.split(""),r=z2[e],i=j2[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Cw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Cw,...xw];function qc(t,e,n,r){var i;const s=(i=Dp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Kx(t){return qc(t,"spacing",8)}function Hc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function q2(t,e){return n=>t.reduce((r,i)=>(r[i]=Hc(e,n),r),{})}function H2(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=W2(n),s=q2(i,r),o=t[n];return or(t,o,s)}function Gx(t,e){const n=Kx(t.theme);return Object.keys(t).map(r=>H2(t,e,r,n)).reduce(xu,{})}function st(t){return Gx(t,Cw)}st.propTypes={};st.filterProps=Cw;function ot(t){return Gx(t,xw)}ot.propTypes={};ot.filterProps=xw;function Rr(t){return typeof t!="number"?t:`${t}px solid`}const K2=Ne({prop:"border",themeKey:"borders",transform:Rr}),G2=Ne({prop:"borderTop",themeKey:"borders",transform:Rr}),Q2=Ne({prop:"borderRight",themeKey:"borders",transform:Rr}),X2=Ne({prop:"borderBottom",themeKey:"borders",transform:Rr}),Y2=Ne({prop:"borderLeft",themeKey:"borders",transform:Rr}),J2=Ne({prop:"borderColor",themeKey:"palette"}),Z2=Ne({prop:"borderTopColor",themeKey:"palette"}),eF=Ne({prop:"borderRightColor",themeKey:"palette"}),tF=Ne({prop:"borderBottomColor",themeKey:"palette"}),nF=Ne({prop:"borderLeftColor",themeKey:"palette"}),Mp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Hc(e,r)});return or(t,t.borderRadius,n)}return null};Mp.propTypes={};Mp.filterProps=["borderRadius"];$p(K2,G2,Q2,X2,Y2,J2,Z2,eF,tF,nF,Mp);const Lp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qc(t.theme,"spacing",8),n=r=>({gap:Hc(e,r)});return or(t,t.gap,n)}return null};Lp.propTypes={};Lp.filterProps=["gap"];const Fp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qc(t.theme,"spacing",8),n=r=>({columnGap:Hc(e,r)});return or(t,t.columnGap,n)}return null};Fp.propTypes={};Fp.filterProps=["columnGap"];const Up=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qc(t.theme,"spacing",8),n=r=>({rowGap:Hc(e,r)});return or(t,t.rowGap,n)}return null};Up.propTypes={};Up.filterProps=["rowGap"];const rF=Ne({prop:"gridColumn"}),iF=Ne({prop:"gridRow"}),sF=Ne({prop:"gridAutoFlow"}),oF=Ne({prop:"gridAutoColumns"}),aF=Ne({prop:"gridAutoRows"}),lF=Ne({prop:"gridTemplateColumns"}),uF=Ne({prop:"gridTemplateRows"}),cF=Ne({prop:"gridTemplateAreas"}),dF=Ne({prop:"gridArea"});$p(Lp,Fp,Up,rF,iF,sF,oF,aF,lF,uF,cF,dF);function Ta(t,e){return e==="grey"?e:t}const hF=Ne({prop:"color",themeKey:"palette",transform:Ta}),fF=Ne({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ta}),pF=Ne({prop:"backgroundColor",themeKey:"palette",transform:Ta});$p(hF,fF,pF);function Mn(t){return t<=1&&t!==0?`${t*100}%`:t}const mF=Ne({prop:"width",transform:Mn}),kw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||Tw[n]||Mn(n)}};return or(t,t.maxWidth,e)}return null};kw.filterProps=["maxWidth"];const gF=Ne({prop:"minWidth",transform:Mn}),yF=Ne({prop:"height",transform:Mn}),vF=Ne({prop:"maxHeight",transform:Mn}),wF=Ne({prop:"minHeight",transform:Mn});Ne({prop:"size",cssProperty:"width",transform:Mn});Ne({prop:"size",cssProperty:"height",transform:Mn});const bF=Ne({prop:"boxSizing"});$p(mF,kw,gF,yF,vF,wF,bF);const EF={border:{themeKey:"borders",transform:Rr},borderTop:{themeKey:"borders",transform:Rr},borderRight:{themeKey:"borders",transform:Rr},borderBottom:{themeKey:"borders",transform:Rr},borderLeft:{themeKey:"borders",transform:Rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mp},color:{themeKey:"palette",transform:Ta},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ta},backgroundColor:{themeKey:"palette",transform:Ta},p:{style:ot},pt:{style:ot},pr:{style:ot},pb:{style:ot},pl:{style:ot},px:{style:ot},py:{style:ot},padding:{style:ot},paddingTop:{style:ot},paddingRight:{style:ot},paddingBottom:{style:ot},paddingLeft:{style:ot},paddingX:{style:ot},paddingY:{style:ot},paddingInline:{style:ot},paddingInlineStart:{style:ot},paddingInlineEnd:{style:ot},paddingBlock:{style:ot},paddingBlockStart:{style:ot},paddingBlockEnd:{style:ot},m:{style:st},mt:{style:st},mr:{style:st},mb:{style:st},ml:{style:st},mx:{style:st},my:{style:st},margin:{style:st},marginTop:{style:st},marginRight:{style:st},marginBottom:{style:st},marginLeft:{style:st},marginX:{style:st},marginY:{style:st},marginInline:{style:st},marginInlineStart:{style:st},marginInlineEnd:{style:st},marginBlock:{style:st},marginBlockStart:{style:st},marginBlockEnd:{style:st},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lp},rowGap:{style:Up},columnGap:{style:Fp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Mn},maxWidth:{style:kw},minWidth:{transform:Mn},height:{transform:Mn},maxHeight:{transform:Mn},minHeight:{transform:Mn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Bp=EF;function SF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function IF(t,e){return typeof t=="function"?t(e):t}function _F(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;const h=Dp(i,u)||{};return d?d(o):or(o,r,f=>{let m=cf(h,c,f);return f===m&&typeof f=="string"&&(m=cf(h,c,`${n}${f==="default"?"":fe(f)}`,f)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Bp;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=F2(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const f=IF(u[p],s);if(f!=null)if(typeof f=="object")if(o[p])h=xu(h,t(p,f,s,o));else{const m=or({theme:s},f,E=>({[p]:E}));SF(m,f)?h[p]=e({sx:f,theme:s}):h=xu(h,m)}else h=xu(h,t(p,f,s,o))}),U2(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Qx=_F();Qx.filterProps=["sx"];const Vp=Qx,TF=["sx"],CF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Bp;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Rw(t){const{sx:e}=t,n=re(t,TF),{systemProps:r,otherProps:i}=CF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return $s(a)?I({},r,a):r}:s=I({},r,e),I({},i,{sx:s})}function Xx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Xx(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function oe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Xx(t))&&(r&&(r+=" "),r+=e);return r}const xF=["values","unit","step"],kF=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>I({},n,{[r.key]:r.val}),{})};function RF(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=re(t,xF),s=kF(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const f=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(f!==-1&&typeof e[o[f]]=="number"?e[o[f]]:p)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return I({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const AF={borderRadius:4},NF=AF;function PF(t=8){if(t.mui)return t;const e=Kx({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const OF=["breakpoints","palette","spacing","shape"];function Aw(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=re(t,OF),a=RF(n),l=PF(i);let u=rr({breakpoints:a,direction:"ltr",components:{},palette:I({mode:"light"},r),spacing:l,shape:I({},NF,s)},o);return u=e.reduce((c,d)=>rr(c,d),u),u.unstable_sxConfig=I({},Bp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Vp({sx:d,theme:this})},u}const DF=w.createContext(null),$F=DF;function MF(){return w.useContext($F)}function LF(t){return Object.keys(t).length===0}function FF(t=null){const e=MF();return!e||LF(e)?t:e}const UF=Aw();function Nw(t=UF){return FF(t)}const BF=["className","component"];function Yx(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r}=t,i=Hx("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Vp);return w.forwardRef(function(a,l){const u=Nw(e),c=Rw(a),{className:d,component:h="div"}=c,p=re(c,BF);return S(i,I({as:h,ref:l,className:oe(d,r?r(n):n),theme:u},p))})}const VF=Yx(),Jx=VF,zF=["variant"];function IS(t){return t.length===0}function Zx(t){const{variant:e}=t,n=re(t,zF);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=IS(r)?t[i]:fe(t[i]):r+=`${IS(r)?i:fe(i)}${fe(t[i].toString())}`}),r}const jF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],WF=["theme"],qF=["theme"];function ql(t){return Object.keys(t).length===0}function HF(t){return typeof t=="string"&&t.charCodeAt(0)>96}const KF=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,GF=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=Zx(i.props);r[s]=i.style}),r},QF=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[Zx(u.props)])}),a};function ku(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const XF=Aw();function YF(t={}){const{defaultTheme:e=XF,rootShouldForwardProp:n=ku,slotShouldForwardProp:r=ku}=t,i=s=>{const o=ql(s.theme)?e:s.theme;return Vp(I({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{L2(s,v=>v.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:d}=o,h=re(o,jF),p=u!==void 0?u:l&&l!=="Root"||!1,f=c||!1;let m,E=ku;l==="Root"?E=n:l?E=r:HF(s)&&(E=void 0);const y=Hx(s,I({shouldForwardProp:E,label:m},h)),g=(v,...b)=>{const _=b?b.map(D=>typeof D=="function"&&D.__emotion_real!==D?A=>{let{theme:z}=A,se=re(A,WF);return D(I({theme:ql(z)?e:z},se))}:D):[];let C=v;a&&d&&_.push(D=>{const A=ql(D.theme)?e:D.theme,z=KF(a,A);if(z){const se={};return Object.entries(z).forEach(([X,N])=>{se[X]=typeof N=="function"?N(I({},D,{theme:A})):N}),d(D,se)}return null}),a&&!p&&_.push(D=>{const A=ql(D.theme)?e:D.theme;return QF(D,GF(a,A),A,a)}),f||_.push(i);const T=_.length-b.length;if(Array.isArray(v)&&T>0){const D=new Array(T).fill("");C=[...v,...D],C.raw=[...v.raw,...D]}else typeof v=="function"&&v.__emotion_real!==v&&(C=D=>{let{theme:A}=D,z=re(D,qF);return v(I({theme:ql(A)?e:A},z))});return y(C,..._)};return y.withConfig&&(g.withConfig=y.withConfig),g}}function JF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:mw(e.components[n].defaultProps,r)}function ZF({props:t,name:e,defaultTheme:n}){const r=Nw(n);return JF({theme:r,name:e,props:t})}function Pw(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function eU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function po(t){if(t.type)return t;if(t.charAt(0)==="#")return po(eU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(es(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(es(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function zp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function tU(t){t=po(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),zp({type:a,values:l})}function _S(t){t=po(t);let e=t.type==="hsl"||t.type==="hsla"?po(tU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function nU(t,e){const n=_S(t),r=_S(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function da(t,e){return t=po(t),e=Pw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,zp(t)}function rU(t,e){if(t=po(t),e=Pw(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return zp(t)}function iU(t,e){if(t=po(t),e=Pw(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return zp(t)}function sU(t,e){return I({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const oU=["mode","contrastThreshold","tonalOffset"],TS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:oc.white,default:oc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ng={text:{primary:oc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:oc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function CS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=iU(t.main,i):e==="dark"&&(t.dark=rU(t.main,s)))}function aU(t="light"){return t==="dark"?{main:zo[200],light:zo[50],dark:zo[400]}:{main:zo[700],light:zo[400],dark:zo[800]}}function lU(t="light"){return t==="dark"?{main:Vo[200],light:Vo[50],dark:Vo[400]}:{main:Vo[500],light:Vo[300],dark:Vo[700]}}function uU(t="light"){return t==="dark"?{main:Bo[500],light:Bo[300],dark:Bo[700]}:{main:Bo[700],light:Bo[400],dark:Bo[800]}}function cU(t="light"){return t==="dark"?{main:jo[400],light:jo[300],dark:jo[700]}:{main:jo[700],light:jo[500],dark:jo[900]}}function dU(t="light"){return t==="dark"?{main:Wo[400],light:Wo[300],dark:Wo[700]}:{main:Wo[800],light:Wo[500],dark:Wo[900]}}function hU(t="light"){return t==="dark"?{main:jl[400],light:jl[300],dark:jl[700]}:{main:"#ed6c02",light:jl[500],dark:jl[900]}}function fU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=re(t,oU),s=t.primary||aU(e),o=t.secondary||lU(e),a=t.error||uU(e),l=t.info||cU(e),u=t.success||dU(e),c=t.warning||hU(e);function d(m){return nU(m,Ng.text.primary)>=n?Ng.text.primary:TS.text.primary}const h=({color:m,name:E,mainShade:y=500,lightShade:g=300,darkShade:v=700})=>{if(m=I({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(es(11,E?` (${E})`:"",y));if(typeof m.main!="string")throw new Error(es(12,E?` (${E})`:"",JSON.stringify(m.main)));return CS(m,"light",g,r),CS(m,"dark",v,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Ng,light:TS};return rr(I({common:I({},oc),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:fL,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const pU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function mU(t){return Math.round(t*1e5)/1e5}const xS={textTransform:"uppercase"},kS='"Roboto", "Helvetica", "Arial", sans-serif';function gU(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=kS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=re(n,pU),p=i/14,f=d||(y=>`${y/u*p}rem`),m=(y,g,v,b,_)=>I({fontFamily:r,fontWeight:y,fontSize:f(g),lineHeight:v},r===kS?{letterSpacing:`${mU(b/g)}em`}:{},_,c),E={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,xS),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,xS)};return rr(I({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const yU=.2,vU=.14,wU=.12;function Xe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${yU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${vU})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${wU})`].join(",")}const bU=["none",Xe(0,2,1,-1,0,1,1,0,0,1,3,0),Xe(0,3,1,-2,0,2,2,0,0,1,5,0),Xe(0,3,3,-2,0,3,4,0,0,1,8,0),Xe(0,2,4,-1,0,4,5,0,0,1,10,0),Xe(0,3,5,-1,0,5,8,0,0,1,14,0),Xe(0,3,5,-1,0,6,10,0,0,1,18,0),Xe(0,4,5,-2,0,7,10,1,0,2,16,1),Xe(0,5,5,-3,0,8,10,1,0,3,14,2),Xe(0,5,6,-3,0,9,12,1,0,3,16,2),Xe(0,6,6,-3,0,10,14,1,0,4,18,3),Xe(0,6,7,-4,0,11,15,1,0,4,20,3),Xe(0,7,8,-4,0,12,17,2,0,5,22,4),Xe(0,7,8,-4,0,13,19,2,0,5,24,4),Xe(0,7,9,-4,0,14,21,2,0,5,26,4),Xe(0,8,9,-5,0,15,22,2,0,6,28,5),Xe(0,8,10,-5,0,16,24,2,0,6,30,5),Xe(0,8,11,-5,0,17,26,2,0,6,32,5),Xe(0,9,11,-5,0,18,28,2,0,7,34,6),Xe(0,9,12,-6,0,19,29,2,0,7,36,6),Xe(0,10,13,-6,0,20,31,3,0,8,38,7),Xe(0,10,13,-6,0,21,33,3,0,8,40,7),Xe(0,10,14,-6,0,22,35,3,0,8,42,7),Xe(0,11,14,-7,0,23,36,3,0,9,44,8),Xe(0,11,15,-7,0,24,38,3,0,9,46,8)],EU=bU,SU=["duration","easing","delay"],IU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_U={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RS(t){return`${Math.round(t)}ms`}function TU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function CU(t){const e=I({},IU,t.easing),n=I({},_U,t.duration);return I({getAutoHeightDuration:TU,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return re(s,SU),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:RS(o)} ${a} ${typeof l=="string"?l:RS(l)}`).join(",")}},t,{easing:e,duration:n})}const xU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kU=xU,RU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ek(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=re(t,RU);if(t.vars)throw new Error(es(18));const a=fU(r),l=Aw(t);let u=rr(l,{mixins:sU(l.breakpoints,n),palette:a,shadows:EU.slice(),typography:gU(a,s),transitions:CU(i),zIndex:I({},kU)});return u=rr(u,o),u=e.reduce((c,d)=>rr(c,d),u),u.unstable_sxConfig=I({},Bp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Vp({sx:d,theme:this})},u}const AU=ek(),jp=AU;function Kc(){return Nw(jp)}function Le({props:t,name:e}){return ZF({props:t,name:e,defaultTheme:jp})}const pi=t=>ku(t)&&t!=="classes",tk=ku,NU=YF({defaultTheme:jp,rootShouldForwardProp:pi}),ie=NU,PU=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},AS=PU;function df(t){return typeof t=="string"}function OU(t,e,n){return t===void 0||df(t)?e:I({},e,{ownerState:I({},e.ownerState,n)})}function DU(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function pv(t,e){return typeof t=="function"?t(e):t}function NS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function $U(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=oe(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),f=I({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=I({},n,i,r);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const o=DU(I({},i,r)),a=NS(r),l=NS(i),u=e(o),c=oe(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=I({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=I({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const MU=["elementType","externalSlotProps","ownerState"];function PS(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=re(t,MU),o=pv(r,i),{props:a,internalRef:l}=$U(I({},s,{externalSlotProps:o})),u=cn(l,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return OU(n,I({},a,{ref:u}),i)}const LU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function FU(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function UU(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function BU(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||UU(t))}function VU(t){const e=[],n=[];return Array.from(t.querySelectorAll(LU)).forEach((r,i)=>{const s=FU(r);s===-1||!BU(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function zU(){return!0}function jU(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=VU,isEnabled:o=zU,open:a}=t,l=w.useRef(!1),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),f=w.useRef(null),m=cn(e.ref,f),E=w.useRef(null);w.useEffect(()=>{!a||!f.current||(p.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!f.current)return;const v=Nn(f.current);return f.current.contains(v.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.useEffect(()=>{if(!a||!f.current)return;const v=Nn(f.current),b=T=>{const{current:k}=f;if(k!==null){if(!v.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!k.contains(v.activeElement)){if(T&&h.current!==T.target||v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let z=[];if((v.activeElement===u.current||v.activeElement===c.current)&&(z=s(f.current)),z.length>0){var D,A;const se=Boolean(((D=E.current)==null?void 0:D.shiftKey)&&((A=E.current)==null?void 0:A.key)==="Tab"),X=z[0],N=z[z.length-1];typeof X!="string"&&typeof N!="string"&&(se?N.focus():X.focus())}else k.focus()}}},_=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&v.activeElement===f.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())};v.addEventListener("focusin",b),v.addEventListener("keydown",_,!0);const C=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&b(null)},50);return()=>{clearInterval(C),v.removeEventListener("focusin",b),v.removeEventListener("keydown",_,!0)}},[n,r,i,o,a,s]);const y=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0,h.current=v.target;const b=e.props.onFocus;b&&b(v)},g=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0};return G(w.Fragment,{children:[S("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:m,onFocus:y}),S("div",{tabIndex:a?0:-1,onFocus:g,ref:c,"data-testid":"sentinelEnd"})]})}function WU(t){return typeof t=="function"?t():t}const qU=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.useState(null),l=cn(w.isValidElement(r)?r.ref:null,n);if(fo(()=>{s||a(WU(i)||document.body)},[i,s]),fo(()=>{if(o&&!s)return af(n,o),()=>{af(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const u={ref:l};return w.cloneElement(r,u)}return S(w.Fragment,{children:r})}return S(w.Fragment,{children:o&&Oa.createPortal(r,o)})}),HU=qU;function KU(t){const e=Nn(t);return e.body===t?ts(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ru(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function OS(t){return parseInt(ts(t).getComputedStyle(t).paddingRight,10)||0}function GU(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function DS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!GU(o);a&&l&&Ru(o,i)})}function Pg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function QU(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(KU(r)){const o=xx(Nn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${OS(r)+o}px`;const a=Nn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${OS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Nn(r).body;else{const o=r.parentElement,a=ts(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function XU(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class YU{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ru(e.modalRef,!1);const i=XU(n);DS(n,e.mount,e.modalRef,i,!0);const s=Pg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Pg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=QU(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Pg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ru(e.modalRef,n),DS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Ru(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function JU(t){return Re("MuiModal",t)}Ae("MuiModal",["root","hidden","backdrop"]);const ZU=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],eB=t=>{const{open:e,exited:n}=t;return $e({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},JU,void 0)};function tB(t){return typeof t=="function"?t():t}function nB(t){return t?t.props.hasOwnProperty("in"):!1}const rB=new YU,iB=w.forwardRef(function(e,n){var r,i;const{children:s,closeAfterTransition:o=!1,component:a,container:l,disableAutoFocus:u=!1,disableEnforceFocus:c=!1,disableEscapeKeyDown:d=!1,disablePortal:h=!1,disableRestoreFocus:p=!1,disableScrollLock:f=!1,hideBackdrop:m=!1,keepMounted:E=!1,manager:y=rB,onBackdropClick:g,onClose:v,onKeyDown:b,open:_,onTransitionEnter:C,onTransitionExited:T,slotProps:k={},slots:D={}}=e,A=re(e,ZU),[z,se]=w.useState(!_),X=w.useRef({}),N=w.useRef(null),V=w.useRef(null),q=cn(V,n),ae=nB(s),O=(r=e["aria-hidden"])!=null?r:!0,H=()=>Nn(N.current),B=()=>(X.current.modalRef=V.current,X.current.mountNode=N.current,X.current),Y=()=>{y.mount(B(),{disableScrollLock:f}),V.current&&(V.current.scrollTop=0)},te=Ws(()=>{const ye=tB(l)||H().body;y.add(B(),ye),V.current&&Y()}),Ve=w.useCallback(()=>y.isTopModal(B()),[y]),ue=Ws(ye=>{N.current=ye,!(!ye||!V.current)&&(_&&Ve()?Y():Ru(V.current,O))}),be=w.useCallback(()=>{y.remove(B(),O)},[y,O]);w.useEffect(()=>()=>{be()},[be]),w.useEffect(()=>{_?te():(!ae||!o)&&be()},[_,be,ae,o,te]);const Ee=I({},e,{closeAfterTransition:o,disableAutoFocus:u,disableEnforceFocus:c,disableEscapeKeyDown:d,disablePortal:h,disableRestoreFocus:p,disableScrollLock:f,exited:z,hideBackdrop:m,keepMounted:E}),ht=eB(Ee),dn=()=>{se(!1),C&&C()},je=()=>{se(!0),T&&T(),o&&be()},zt=ye=>{ye.target===ye.currentTarget&&(g&&g(ye),v&&v(ye,"backdropClick"))},he=ye=>{b&&b(ye),!(ye.key!=="Escape"||!Ve())&&(d||(ye.stopPropagation(),v&&v(ye,"escapeKeyDown")))},Qe={};s.props.tabIndex===void 0&&(Qe.tabIndex="-1"),ae&&(Qe.onEnter=lv(dn,s.props.onEnter),Qe.onExited=lv(je,s.props.onExited));const xt=(i=a??D.root)!=null?i:"div",kt=PS({elementType:xt,externalSlotProps:k.root,externalForwardedProps:A,additionalProps:{ref:q,role:"presentation",onKeyDown:he},className:ht.root,ownerState:Ee}),pe=D.backdrop,We=PS({elementType:pe,externalSlotProps:k.backdrop,additionalProps:{"aria-hidden":!0,onClick:zt,open:_},className:ht.backdrop,ownerState:Ee});return!E&&!_&&(!ae||z)?null:S(HU,{ref:ue,container:l,disablePortal:h,children:G(xt,I({},kt,{children:[!m&&pe?S(pe,I({},We)):null,S(jU,{disableEnforceFocus:c,disableAutoFocus:u,disableRestoreFocus:p,isEnabled:Ve,open:_,children:w.cloneElement(s,Qe)})]}))})}),sB=iB,oB=["onChange","maxRows","minRows","style","value"];function zd(t){return parseInt(t,10)||0}const aB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function $S(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const lB=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=re(e,oB),{current:u}=w.useRef(a!=null),c=w.useRef(null),d=cn(n,c),h=w.useRef(null),p=w.useRef(0),[f,m]=w.useState({outerHeightStyle:0}),E=w.useCallback(()=>{const _=c.current,T=ts(_).getComputedStyle(_);if(T.width==="0px")return{outerHeightStyle:0};const k=h.current;k.style.width=T.width,k.value=_.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const D=T.boxSizing,A=zd(T.paddingBottom)+zd(T.paddingTop),z=zd(T.borderBottomWidth)+zd(T.borderTopWidth),se=k.scrollHeight;k.value="x";const X=k.scrollHeight;let N=se;s&&(N=Math.max(Number(s)*X,N)),i&&(N=Math.min(Number(i)*X,N)),N=Math.max(N,X);const V=N+(D==="border-box"?A+z:0),q=Math.abs(N-se)<=1;return{outerHeightStyle:V,overflow:q}},[i,s,e.placeholder]),y=(_,C)=>{const{outerHeightStyle:T,overflow:k}=C;return p.current<20&&(T>0&&Math.abs((_.outerHeightStyle||0)-T)>1||_.overflow!==k)?(p.current+=1,{overflow:k,outerHeightStyle:T}):_},g=w.useCallback(()=>{const _=E();$S(_)||m(C=>y(C,_))},[E]),v=()=>{const _=E();$S(_)||Oa.flushSync(()=>{m(C=>y(C,_))})};w.useEffect(()=>{const _=fw(()=>{p.current=0,c.current&&v()});let C;const T=c.current,k=ts(T);return k.addEventListener("resize",_),typeof ResizeObserver<"u"&&(C=new ResizeObserver(_),C.observe(T)),()=>{_.clear(),k.removeEventListener("resize",_),C&&C.disconnect()}}),fo(()=>{g()}),w.useEffect(()=>{p.current=0},[a]);const b=_=>{p.current=0,u||g(),r&&r(_)};return G(w.Fragment,{children:[S("textarea",I({value:a,onChange:b,ref:d,rows:s,style:I({height:f.outerHeightStyle,overflow:f.overflow?"hidden":void 0},o)},l)),S("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:I({},aB.shadow,o,{padding:0})})]})}),uB=lB;function cB(t){return Re("MuiSvgIcon",t)}Ae("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const dB=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],hB=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${fe(e)}`,`fontSize${fe(n)}`]};return $e(i,cB,r)},fB=ie("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fe(n.color)}`],e[`fontSize${fe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,p,f,m,E,y,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(t.vars||t).palette)==null||(f=p[e.color])==null?void 0:f.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(E=m.action)==null?void 0:E.active,disabled:(y=(t.vars||t).palette)==null||(g=y.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),nk=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=re(r,dB),f=I({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),m={};c||(m.viewBox=h);const E=hB(f);return G(fB,I({as:a,className:oe(E.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,p,{ownerState:f,children:[i,d?S("title",{children:d}):null]}))});nk.muiName="SvgIcon";const MS=nk;function Wp(t,e){function n(r,i){return S(MS,I({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=MS.muiName,w.memo(w.forwardRef(n))}const pB={configure:t=>{gw.configure(t)}},mB=Object.freeze(Object.defineProperty({__proto__:null,capitalize:fe,createChainedFunction:lv,createSvgIcon:Wp,debounce:fw,deprecatedPropType:yL,isMuiElement:yh,ownerDocument:Nn,ownerWindow:ts,requirePropFactory:vL,setRef:af,unstable_ClassNameGenerator:pB,unstable_useEnhancedEffect:fo,unstable_useId:vp,unsupportedProp:EL,useControlled:lf,useEventCallback:Ws,useForkRef:cn,useIsFocusVisible:pw},Symbol.toStringTag,{value:"Module"}));function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mv(t,e)}function rk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mv(t,e)}const LS={disabled:!1},hf=Ln.createContext(null);var gB=function(e){return e.scrollTop},du="unmounted",Ns="exited",Ps="entering",Qo="entered",gv="exiting",mi=function(t){rk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ns,s.appearStatus=Ps):l=Qo:r.unmountOnExit||r.mountOnEnter?l=du:l=Ns,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===du?{status:Ns}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ps&&o!==Qo&&(s=Ps):(o===Ps||o===Qo)&&(s=gv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ps){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Bd.findDOMNode(this);o&&gB(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ns&&this.setState({status:du})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Bd.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||LS.disabled){this.safeSetState({status:Qo},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ps},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Qo},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Bd.findDOMNode(this);if(!s||LS.disabled){this.safeSetState({status:Ns},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:gv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ns},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Bd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===du)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=re(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ln.createElement(hf.Provider,{value:null},typeof o=="function"?o(i,a):Ln.cloneElement(Ln.Children.only(o),a))},e}(Ln.Component);mi.contextType=hf;mi.propTypes={};function qo(){}mi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qo,onEntering:qo,onEntered:qo,onExit:qo,onExiting:qo,onExited:qo};mi.UNMOUNTED=du;mi.EXITED=Ns;mi.ENTERING=Ps;mi.ENTERED=Qo;mi.EXITING=gv;const ik=mi;function yB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ow(t,e){var n=function(s){return e&&w.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function vB(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function qs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function wB(t,e){return Ow(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:qs(n,"appear",t),enter:qs(n,"enter",t),exit:qs(n,"exit",t)})})}function bB(t,e,n){var r=Ow(t.children),i=vB(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=w.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:qs(o,"exit",t),enter:qs(o,"enter",t)}):!l&&a&&!c?i[s]=w.cloneElement(o,{in:!1}):l&&a&&w.isValidElement(u)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:qs(o,"exit",t),enter:qs(o,"enter",t)}))}}),i}var EB=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},SB={component:"div",childFactory:function(e){return e}},Dw=function(t){rk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(yB(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?wB(i,a):bB(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Ow(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=I({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=re(i,["component","childFactory"]),l=this.state.contextValue,u=EB(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ln.createElement(hf.Provider,{value:l},u):Ln.createElement(hf.Provider,{value:l},Ln.createElement(s,a,u))},e}(Ln.Component);Dw.propTypes={};Dw.defaultProps=SB;const IB=Dw,sk=t=>t.scrollTop;function ff(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function _B(t){return Re("MuiPaper",t)}Ae("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const TB=["className","component","elevation","square","variant"],CB=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return $e(s,_B,i)},xB=ie("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return I({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&I({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${da("#fff",AS(e.elevation))}, ${da("#fff",AS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),kB=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=re(r,TB),c=I({},r,{component:s,elevation:o,square:a,variant:l}),d=CB(c);return S(xB,I({as:s,ownerState:c,className:oe(d.root,i),ref:n},u))}),qp=kB;function RB(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=w.useState(!1),h=oe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},f=oe(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),S("span",{className:h,style:p,children:S("span",{className:f})})}const AB=Ae("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Yn=AB,NB=["center","classes","className"];let Hp=t=>t,FS,US,BS,VS;const yv=550,PB=80,OB=_w(FS||(FS=Hp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),DB=_w(US||(US=Hp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),$B=_w(BS||(BS=Hp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),MB=ie("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),LB=ie(RB,{name:"MuiTouchRipple",slot:"Ripple"})(VS||(VS=Hp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Yn.rippleVisible,OB,yv,({theme:t})=>t.transitions.easing.easeInOut,Yn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Yn.child,Yn.childLeaving,DB,yv,({theme:t})=>t.transitions.easing.easeInOut,Yn.childPulsate,$B,({theme:t})=>t.transitions.easing.easeInOut),FB=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=re(r,NB),[l,u]=w.useState([]),c=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),p=w.useRef(null),f=w.useRef(null),m=w.useRef(null);w.useEffect(()=>()=>{clearTimeout(p.current)},[]);const E=w.useCallback(b=>{const{pulsate:_,rippleX:C,rippleY:T,rippleSize:k,cb:D}=b;u(A=>[...A,S(LB,{classes:{ripple:oe(s.ripple,Yn.ripple),rippleVisible:oe(s.rippleVisible,Yn.rippleVisible),ripplePulsate:oe(s.ripplePulsate,Yn.ripplePulsate),child:oe(s.child,Yn.child),childLeaving:oe(s.childLeaving,Yn.childLeaving),childPulsate:oe(s.childPulsate,Yn.childPulsate)},timeout:yv,pulsate:_,rippleX:C,rippleY:T,rippleSize:k},c.current)]),c.current+=1,d.current=D},[s]),y=w.useCallback((b={},_={},C=()=>{})=>{const{pulsate:T=!1,center:k=i||_.pulsate,fakeElement:D=!1}=_;if((b==null?void 0:b.type)==="mousedown"&&h.current){h.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(h.current=!0);const A=D?null:m.current,z=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let se,X,N;if(k||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)se=Math.round(z.width/2),X=Math.round(z.height/2);else{const{clientX:V,clientY:q}=b.touches&&b.touches.length>0?b.touches[0]:b;se=Math.round(V-z.left),X=Math.round(q-z.top)}if(k)N=Math.sqrt((2*z.width**2+z.height**2)/3),N%2===0&&(N+=1);else{const V=Math.max(Math.abs((A?A.clientWidth:0)-se),se)*2+2,q=Math.max(Math.abs((A?A.clientHeight:0)-X),X)*2+2;N=Math.sqrt(V**2+q**2)}b!=null&&b.touches?f.current===null&&(f.current=()=>{E({pulsate:T,rippleX:se,rippleY:X,rippleSize:N,cb:C})},p.current=setTimeout(()=>{f.current&&(f.current(),f.current=null)},PB)):E({pulsate:T,rippleX:se,rippleY:X,rippleSize:N,cb:C})},[i,E]),g=w.useCallback(()=>{y({},{pulsate:!0})},[y]),v=w.useCallback((b,_)=>{if(clearTimeout(p.current),(b==null?void 0:b.type)==="touchend"&&f.current){f.current(),f.current=null,p.current=setTimeout(()=>{v(b,_)});return}f.current=null,u(C=>C.length>0?C.slice(1):C),d.current=_},[]);return w.useImperativeHandle(n,()=>({pulsate:g,start:y,stop:v}),[g,y,v]),S(MB,I({className:oe(Yn.root,s.root,o),ref:m},a,{children:S(IB,{component:null,exit:!0,children:l})}))}),UB=FB;function BB(t){return Re("MuiButtonBase",t)}const VB=Ae("MuiButtonBase",["root","disabled","focusVisible"]),zB=VB,jB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],WB=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=$e({root:["root",e&&"disabled",n&&"focusVisible"]},BB,i);return n&&r&&(o.root+=` ${r}`),o},qB=ie("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),HB=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:E,onDragLeave:y,onFocus:g,onFocusVisible:v,onKeyDown:b,onKeyUp:_,onMouseDown:C,onMouseLeave:T,onMouseUp:k,onTouchEnd:D,onTouchMove:A,onTouchStart:z,tabIndex:se=0,TouchRippleProps:X,touchRippleRef:N,type:V}=r,q=re(r,jB),ae=w.useRef(null),O=w.useRef(null),H=cn(O,N),{isFocusVisibleRef:B,onFocus:Y,onBlur:te,ref:Ve}=pw(),[ue,be]=w.useState(!1);u&&ue&&be(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{be(!0),ae.current.focus()}}),[]);const[Ee,ht]=w.useState(!1);w.useEffect(()=>{ht(!0)},[]);const dn=Ee&&!c&&!u;w.useEffect(()=>{ue&&h&&!c&&Ee&&O.current.pulsate()},[c,h,ue,Ee]);function je(F,xe,yt=d){return Ws(ur=>(xe&&xe(ur),!yt&&O.current&&O.current[F](ur),!0))}const zt=je("start",C),he=je("stop",E),Qe=je("stop",y),xt=je("stop",k),kt=je("stop",F=>{ue&&F.preventDefault(),T&&T(F)}),pe=je("start",z),We=je("stop",D),ye=je("stop",A),br=je("stop",F=>{te(F),B.current===!1&&be(!1),f&&f(F)},!1),jt=Ws(F=>{ae.current||(ae.current=F.currentTarget),Y(F),B.current===!0&&(be(!0),v&&v(F)),g&&g(F)}),Wt=()=>{const F=ae.current;return l&&l!=="button"&&!(F.tagName==="A"&&F.href)},Fe=w.useRef(!1),tn=Ws(F=>{h&&!Fe.current&&ue&&O.current&&F.key===" "&&(Fe.current=!0,O.current.stop(F,()=>{O.current.start(F)})),F.target===F.currentTarget&&Wt()&&F.key===" "&&F.preventDefault(),b&&b(F),F.target===F.currentTarget&&Wt()&&F.key==="Enter"&&!u&&(F.preventDefault(),m&&m(F))}),Qn=Ws(F=>{h&&F.key===" "&&O.current&&ue&&!F.defaultPrevented&&(Fe.current=!1,O.current.stop(F,()=>{O.current.pulsate(F)})),_&&_(F),m&&F.target===F.currentTarget&&Wt()&&F.key===" "&&!F.defaultPrevented&&m(F)});let Er=l;Er==="button"&&(q.href||q.to)&&(Er=p);const Xn={};Er==="button"?(Xn.type=V===void 0?"button":V,Xn.disabled=u):(!q.href&&!q.to&&(Xn.role="button"),u&&(Xn["aria-disabled"]=u));const Si=cn(n,Ve,ae),Sr=I({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:se,focusVisible:ue}),Be=WB(Sr);return G(qB,I({as:Er,className:oe(Be.root,a),ownerState:Sr,onBlur:br,onClick:m,onContextMenu:he,onFocus:jt,onKeyDown:tn,onKeyUp:Qn,onMouseDown:zt,onMouseLeave:kt,onMouseUp:xt,onDragLeave:Qe,onTouchEnd:We,onTouchMove:ye,onTouchStart:pe,ref:Si,tabIndex:u?-1:se,type:V},Xn,q,{children:[o,dn?S(UB,I({ref:H,center:s},X)):null]}))}),ok=HB;function KB(t){return Re("MuiTypography",t)}Ae("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const GB=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],QB=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${fe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return $e(a,KB,o)},XB=ie("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${fe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>I({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),zS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},YB={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},JB=t=>YB[t]||t,ZB=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiTypography"}),i=JB(r.color),s=Rw(I({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=zS}=s,f=re(s,GB),m=I({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:p}),E=l||(d?"p":p[h]||zS[h])||"span",y=QB(m);return S(XB,I({as:E,ref:n,ownerState:m,className:oe(y.root,a)},f))}),Un=ZB;function eV(t){return Re("MuiAppBar",t)}Ae("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const tV=["className","color","enableColorOnDark","position"],nV=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${fe(e)}`,`position${fe(n)}`]};return $e(i,eV,r)},jd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,rV=ie(qp,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${fe(n.position)}`],e[`color${fe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return I({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&I({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&I({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&I({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:jd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:jd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:jd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:jd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),iV=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=re(r,tV),u=I({},r,{color:s,position:a,enableColorOnDark:o}),c=nV(u);return S(rV,I({square:!0,component:"header",ownerState:u,elevation:4,className:oe(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),sV=iV;function ml({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const oV=w.createContext(void 0),$w=oV;function gl(){return w.useContext($w)}function aV(t){return S(M2,I({},t,{defaultTheme:jp}))}function jS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Mw(t,e=!1){return t&&(jS(t.value)&&t.value!==""||e&&jS(t.defaultValue)&&t.defaultValue!=="")}function lV(t){return t.startAdornment}function uV(t){return Re("MuiInputBase",t)}const cV=Ae("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),za=cV,dV=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Kp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${fe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Gp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},hV=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:f}=t,m={root:["root",`color${fe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h==="small"&&"sizeSmall",c&&"multiline",p&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",f==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return $e(m,uV,e)},Qp=ie("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Kp})(({theme:t,ownerState:e})=>I({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${za.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&I({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Xp=ie("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=I({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return I({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${za.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${za.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),fV=S(aV,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),pV=w.forwardRef(function(e,n){var r;const i=Le({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:E,inputComponent:y="input",inputProps:g={},inputRef:v,maxRows:b,minRows:_,multiline:C=!1,name:T,onBlur:k,onChange:D,onClick:A,onFocus:z,onKeyDown:se,onKeyUp:X,placeholder:N,readOnly:V,renderSuffix:q,rows:ae,slotProps:O={},slots:H={},startAdornment:B,type:Y="text",value:te}=i,Ve=re(i,dV),ue=g.value!=null?g.value:te,{current:be}=w.useRef(ue!=null),Ee=w.useRef(),ht=w.useCallback(Be=>{},[]),dn=cn(Ee,v,g.ref,ht),[je,zt]=w.useState(!1),he=gl(),Qe=ml({props:i,muiFormControl:he,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Qe.focused=he?he.focused:je,w.useEffect(()=>{!he&&h&&je&&(zt(!1),k&&k())},[he,h,je,k]);const xt=he&&he.onFilled,kt=he&&he.onEmpty,pe=w.useCallback(Be=>{Mw(Be)?xt&&xt():kt&&kt()},[xt,kt]);fo(()=>{be&&pe({value:ue})},[ue,pe,be]);const We=Be=>{if(Qe.disabled){Be.stopPropagation();return}z&&z(Be),g.onFocus&&g.onFocus(Be),he&&he.onFocus?he.onFocus(Be):zt(!0)},ye=Be=>{k&&k(Be),g.onBlur&&g.onBlur(Be),he&&he.onBlur?he.onBlur(Be):zt(!1)},br=(Be,...F)=>{if(!be){const xe=Be.target||Ee.current;if(xe==null)throw new Error(es(1));pe({value:xe.value})}g.onChange&&g.onChange(Be,...F),D&&D(Be,...F)};w.useEffect(()=>{pe(Ee.current)},[]);const jt=Be=>{Ee.current&&Be.currentTarget===Be.target&&Ee.current.focus(),A&&A(Be)};let Wt=y,Fe=g;C&&Wt==="input"&&(ae?Fe=I({type:void 0,minRows:ae,maxRows:ae},Fe):Fe=I({type:void 0,maxRows:b,minRows:_},Fe),Wt=uB);const tn=Be=>{pe(Be.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};w.useEffect(()=>{he&&he.setAdornedStart(Boolean(B))},[he,B]);const Qn=I({},i,{color:Qe.color||"primary",disabled:Qe.disabled,endAdornment:f,error:Qe.error,focused:Qe.focused,formControl:he,fullWidth:m,hiddenLabel:Qe.hiddenLabel,multiline:C,size:Qe.size,startAdornment:B,type:Y}),Er=hV(Qn),Xn=H.root||u.Root||Qp,Si=O.root||c.root||{},Sr=H.input||u.Input||Xp;return Fe=I({},Fe,(r=O.input)!=null?r:c.input),G(w.Fragment,{children:[!p&&fV,G(Xn,I({},Si,!df(Xn)&&{ownerState:I({},Qn,Si.ownerState)},{ref:n,onClick:jt},Ve,{className:oe(Er.root,Si.className,l,V&&"MuiInputBase-readOnly"),children:[B,S($w.Provider,{value:null,children:S(Sr,I({ownerState:Qn,"aria-invalid":Qe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Qe.disabled,id:E,onAnimationStart:tn,name:T,placeholder:N,readOnly:V,required:Qe.required,rows:ae,value:ue,onKeyDown:se,onKeyUp:X,type:Y},Fe,!df(Sr)&&{as:Wt,ownerState:I({},Qn,Fe.ownerState)},{ref:dn,className:oe(Er.input,Fe.className,V&&"MuiInputBase-readOnly"),onBlur:ye,onChange:br,onFocus:We}))}),f,q?q(I({},Qe,{startAdornment:B})):null]}))]})}),Lw=pV;function mV(t){return Re("MuiInput",t)}const gV=I({},za,Ae("MuiInput",["root","underline","input"])),Hl=gV;function yV(t){return Re("MuiOutlinedInput",t)}const vV=I({},za,Ae("MuiOutlinedInput",["root","notchedOutline","input"])),_i=vV;function wV(t){return Re("MuiFilledInput",t)}const bV=I({},za,Ae("MuiFilledInput",["root","underline","input"])),Cs=bV,EV=Wp(S("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),SV=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],IV={entering:{opacity:1},entered:{opacity:1}},_V=w.forwardRef(function(e,n){const r=Kc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:E,timeout:y=i,TransitionComponent:g=ik}=e,v=re(e,SV),b=w.useRef(null),_=cn(b,a.ref,n),C=N=>V=>{if(N){const q=b.current;V===void 0?N(q):N(q,V)}},T=C(h),k=C((N,V)=>{sk(N);const q=ff({style:E,timeout:y,easing:l},{mode:"enter"});N.style.webkitTransition=r.transitions.create("opacity",q),N.style.transition=r.transitions.create("opacity",q),c&&c(N,V)}),D=C(d),A=C(m),z=C(N=>{const V=ff({style:E,timeout:y,easing:l},{mode:"exit"});N.style.webkitTransition=r.transitions.create("opacity",V),N.style.transition=r.transitions.create("opacity",V),p&&p(N)}),se=C(f);return S(g,I({appear:o,in:u,nodeRef:b,onEnter:k,onEntered:D,onEntering:T,onExit:z,onExited:se,onExiting:A,addEndListener:N=>{s&&s(b.current,N)},timeout:y},v,{children:(N,V)=>w.cloneElement(a,I({style:I({opacity:0,visibility:N==="exited"&&!u?"hidden":void 0},IV[N],E,a.props.style),ref:_},V))}))}),TV=_V;function CV(t){return Re("MuiBackdrop",t)}Ae("MuiBackdrop",["root","invisible"]);const xV=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],kV=t=>{const{classes:e,invisible:n}=t;return $e({root:["root",n&&"invisible"]},CV,e)},RV=ie("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>I({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),AV=w.forwardRef(function(e,n){var r,i,s;const o=Le({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:p,slotProps:f={},slots:m={},TransitionComponent:E=TV,transitionDuration:y}=o,g=re(o,xV),v=I({},o,{component:u,invisible:h}),b=kV(v),_=(r=f.root)!=null?r:d.root;return S(E,I({in:p,timeout:y},g,{children:S(RV,I({"aria-hidden":!0},_,{as:(i=(s=m.root)!=null?s:c.Root)!=null?i:u,className:oe(b.root,l,_==null?void 0:_.className),ownerState:I({},v,_==null?void 0:_.ownerState),classes:b,ref:n,children:a}))}))}),NV=AV,PV=ek(),OV=Yx({defaultTheme:PV,defaultClassName:"MuiBox-root",generateClassName:gw.generate}),pf=OV;function DV(t){return Re("MuiButton",t)}const $V=Ae("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Wd=$V,MV=w.createContext({}),LV=MV,FV=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],UV=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${fe(e)}`,`size${fe(i)}`,`${s}Size${fe(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${fe(i)}`],endIcon:["endIcon",`iconSize${fe(i)}`]},l=$e(a,DV,o);return I({},o,l)},ak=t=>I({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),BV=ie(ok,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${fe(n.color)}`],e[`size${fe(n.size)}`],e[`${n.variant}Size${fe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return I({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":I({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:da(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:da(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:da(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":I({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Wd.focusVisible}`]:I({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Wd.disabled}`]:I({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${da(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wd.disabled}`]:{boxShadow:"none"}}),VV=ie("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${fe(n.size)}`]]}})(({ownerState:t})=>I({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},ak(t))),zV=ie("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${fe(n.size)}`]]}})(({ownerState:t})=>I({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},ak(t))),jV=w.forwardRef(function(e,n){const r=w.useContext(LV),i=mw(r,e),s=Le({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,size:E="medium",startIcon:y,type:g,variant:v="text"}=s,b=re(s,FV),_=I({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:E,type:g,variant:v}),C=UV(_),T=y&&S(VV,{className:C.startIcon,ownerState:_,children:y}),k=p&&S(zV,{className:C.endIcon,ownerState:_,children:p});return G(BV,I({ownerState:_,className:oe(r.className,C.root,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:oe(C.focusVisible,f),ref:n,type:g},b,{classes:C,children:[T,o,k]}))}),zr=jV;function WV(t){return Re("MuiCard",t)}Ae("MuiCard",["root"]);const qV=["className","raised"],HV=t=>{const{classes:e}=t;return $e({root:["root"]},WV,e)},KV=ie(qp,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),GV=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=re(r,qV),a=I({},r,{raised:s}),l=HV(a);return S(KV,I({className:oe(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))}),ha=GV;function QV(t){return Re("MuiCardActionArea",t)}const XV=Ae("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Og=XV,YV=["children","className","focusVisibleClassName"],JV=t=>{const{classes:e}=t;return $e({root:["root"],focusHighlight:["focusHighlight"]},QV,e)},ZV=ie(ok,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",width:"100%",[`&:hover .${Og.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Og.focusVisible} .${Og.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),ez=ie("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),tz=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiCardActionArea"}),{children:i,className:s,focusVisibleClassName:o}=r,a=re(r,YV),l=r,u=JV(l);return G(ZV,I({className:oe(u.root,s),focusVisibleClassName:oe(o,u.focusVisible),ref:n,ownerState:l},a,{children:[i,S(ez,{className:u.focusHighlight,ownerState:l})]}))}),qd=tz;function nz(t){return Re("MuiCardContent",t)}Ae("MuiCardContent",["root"]);const rz=["className","component"],iz=t=>{const{classes:e}=t;return $e({root:["root"]},nz,e)},sz=ie("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),oz=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=re(r,rz),a=I({},r,{component:s}),l=iz(a);return S(sz,I({as:s,className:oe(l.root,i),ownerState:a,ref:n},o))}),fa=oz;function az(t){return Re("MuiCardMedia",t)}Ae("MuiCardMedia",["root","media","img"]);const lz=["children","className","component","image","src","style"],uz=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return $e({root:["root",n&&"media",r&&"img"]},az,e)},cz=ie("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>I({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),dz=["video","audio","picture","iframe","img"],hz=["picture","img"],fz=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:u}=r,c=re(r,lz),d=dz.indexOf(o)!==-1,h=!d&&a?I({backgroundImage:`url("${a}")`},u):u,p=I({},r,{component:o,isMediaComponent:d,isImageComponent:hz.indexOf(o)!==-1}),f=uz(p);return S(cz,I({className:oe(f.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:p,src:d?a||l:void 0},c,{children:i}))}),pa=fz,pz=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],mz=ie("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>I({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),gz=ie(NV,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),yz=w.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Le({name:"MuiModal",props:e}),{BackdropComponent:c=gz,BackdropProps:d,classes:h,className:p,closeAfterTransition:f=!1,children:m,component:E,components:y={},componentsProps:g={},disableAutoFocus:v=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:_=!1,disablePortal:C=!1,disableRestoreFocus:T=!1,disableScrollLock:k=!1,hideBackdrop:D=!1,keepMounted:A=!1,slotProps:z,slots:se,theme:X}=u,N=re(u,pz),[V,q]=w.useState(!0),ae={closeAfterTransition:f,disableAutoFocus:v,disableEnforceFocus:b,disableEscapeKeyDown:_,disablePortal:C,disableRestoreFocus:T,disableScrollLock:k,hideBackdrop:D,keepMounted:A},O=I({},u,ae,{exited:V}),H=(r=(i=se==null?void 0:se.root)!=null?i:y.Root)!=null?r:mz,B=(s=(o=se==null?void 0:se.backdrop)!=null?o:y.Backdrop)!=null?s:c,Y=(a=z==null?void 0:z.root)!=null?a:g.root,te=(l=z==null?void 0:z.backdrop)!=null?l:g.backdrop;return S(sB,I({slots:{root:H,backdrop:B},slotProps:{root:()=>I({},pv(Y,O),!df(H)&&{as:E,theme:X},{className:oe(p,Y==null?void 0:Y.className,h==null?void 0:h.root,!O.open&&O.exited&&(h==null?void 0:h.hidden))}),backdrop:()=>I({},d,pv(te,O),{className:oe(te==null?void 0:te.className,h==null?void 0:h.backdrop)})},onTransitionEnter:()=>q(!1),onTransitionExited:()=>q(!0),ref:n},N,ae,{children:m}))}),Fw=yz,vz=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],wz=t=>{const{classes:e,disableUnderline:n}=t,i=$e({root:["root",!n&&"underline"],input:["input"]},wV,e);return I({},e,i)},bz=ie(Qp,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Kp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return I({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Cs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Cs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cs.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cs.disabled}, .${Cs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Cs.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&I({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),Ez=ie(Xp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>I({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),lk=w.forwardRef(function(e,n){var r,i,s,o;const a=Le({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=a,E=re(a,vz),y=I({},a,{fullWidth:c,inputComponent:d,multiline:h,type:m}),g=wz(a),v={root:{ownerState:y},input:{ownerState:y}},b=p??u?rr(p??u,v):v,_=(r=(i=f.root)!=null?i:l.Root)!=null?r:bz,C=(s=(o=f.input)!=null?o:l.Input)!=null?s:Ez;return S(Lw,I({slots:{root:_,input:C},componentsProps:b,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:m},E,{classes:g}))});lk.muiName="Input";const uk=lk;function Sz(t){return Re("MuiFormControl",t)}Ae("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Iz=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],_z=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${fe(n)}`,r&&"fullWidth"]};return $e(i,Sz,e)},Tz=ie("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>I({},e.root,e[`margin${fe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>I({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Cz=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:E="outlined"}=r,y=re(r,Iz),g=I({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:E}),v=_z(g),[b,_]=w.useState(()=>{let X=!1;return i&&w.Children.forEach(i,N=>{if(!yh(N,["Input","Select"]))return;const V=yh(N,["Select"])?N.props.input:N;V&&lV(V.props)&&(X=!0)}),X}),[C,T]=w.useState(()=>{let X=!1;return i&&w.Children.forEach(i,N=>{yh(N,["Input","Select"])&&Mw(N.props,!0)&&(X=!0)}),X}),[k,D]=w.useState(!1);l&&k&&D(!1);const A=c!==void 0&&!l?c:k;let z;const se=w.useMemo(()=>({adornedStart:b,setAdornedStart:_,color:o,disabled:l,error:u,filled:C,focused:A,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{D(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{D(!0)},registerEffect:z,required:f,variant:E}),[b,o,l,u,C,A,d,h,z,f,m,E]);return S($w.Provider,{value:se,children:S(Tz,I({as:a,ownerState:g,className:oe(v.root,s),ref:n},y,{children:i}))})}),xz=Cz;function kz(t){return Re("MuiFormHelperText",t)}const Rz=Ae("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),WS=Rz;var qS;const Az=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Nz=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${fe(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return $e(u,kz,e)},Pz=ie("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${fe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>I({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${WS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${WS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Oz=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=re(r,Az),l=gl(),u=ml({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=I({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Nz(c);return S(Pz,I({as:o,ownerState:c,className:oe(d.root,s),ref:n},a,{children:i===" "?qS||(qS=S("span",{className:"notranslate",children:""})):i}))}),Dz=Oz;function $z(t){return Re("MuiFormLabel",t)}const Mz=Ae("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Au=Mz,Lz=["children","className","color","component","disabled","error","filled","focused","required"],Fz=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${fe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return $e(l,$z,e)},Uz=ie("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>I({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>I({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Au.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Au.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Au.error}`]:{color:(t.vars||t).palette.error.main}})),Bz=ie("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Au.error}`]:{color:(t.vars||t).palette.error.main}})),Vz=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=re(r,Lz),l=gl(),u=ml({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=I({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Fz(c);return G(Uz,I({as:o,ownerState:c,className:oe(d.root,s),ref:n},a,{children:[i,u.required&&G(Bz,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),zz=Vz,jz=w.createContext(),HS=jz;function Wz(t){return Re("MuiGrid",t)}const qz=[0,1,2,3,4,5,6,7,8,9,10],Hz=["column-reverse","column","row-reverse","row"],Kz=["nowrap","wrap-reverse","wrap"],Kl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],cc=Ae("MuiGrid",["root","container","item","zeroMinWidth",...qz.map(t=>`spacing-xs-${t}`),...Hz.map(t=>`direction-xs-${t}`),...Kz.map(t=>`wrap-xs-${t}`),...Kl.map(t=>`grid-xs-${t}`),...Kl.map(t=>`grid-sm-${t}`),...Kl.map(t=>`grid-md-${t}`),...Kl.map(t=>`grid-lg-${t}`),...Kl.map(t=>`grid-xl-${t}`)]),Gz=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ca(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Qz({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Op({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=t.spacing(e.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${Ca(c)})`;u={flexBasis:d,maxWidth:d}}}s=I({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function Xz({theme:t,ownerState:e}){const n=Op({values:e.direction,breakpoints:t.breakpoints.values});return or({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${cc.item}`]={maxWidth:"none"}),i})}function ck({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function Yz({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Op({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=ck({breakpoints:t.breakpoints.values,values:s})),i=or({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{marginTop:`-${Ca(c)}`,[`& > .${cc.item}`]:{paddingTop:Ca(c)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${cc.item}`]:{paddingTop:0}}})}return i}function Jz({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Op({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=ck({breakpoints:t.breakpoints.values,values:s})),i=or({theme:t},s,(a,l)=>{var u;const c=t.spacing(a);return c!=="0px"?{width:`calc(100% + ${Ca(c)})`,marginLeft:`-${Ca(c)}`,[`& > .${cc.item}`]:{paddingLeft:Ca(c)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${cc.item}`]:{paddingLeft:0}}})}return i}function Zz(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const e3=ie("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=Zz(o,u,e));const d=[];return u.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>I({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Xz,Yz,Jz,Qz);function t3(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const n3=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=t3(s,l));const c=[];l.forEach(h=>{const p=t[h];p&&c.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...c]};return $e(d,Wz,e)},r3=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiGrid"}),{breakpoints:i}=Kc(),s=Rw(r),{className:o,columns:a,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:f=0,wrap:m="wrap",zeroMinWidth:E=!1}=s,y=re(s,Gz),g=p||f,v=l||f,b=w.useContext(HS),_=c?a||12:b,C={},T=I({},y);i.keys.forEach(A=>{y[A]!=null&&(C[A]=y[A],delete T[A])});const k=I({},s,{columns:_,container:c,direction:d,item:h,rowSpacing:g,columnSpacing:v,wrap:m,zeroMinWidth:E,spacing:f},C,{breakpoints:i.keys}),D=n3(k);return S(HS.Provider,{value:_,children:S(e3,I({ownerState:k,className:oe(D.root,o),as:u,ref:n},T))})}),Fi=r3,i3=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function vv(t){return`scale(${t}, ${t**2})`}const s3={entering:{opacity:1,transform:vv(1)},entered:{opacity:1,transform:"none"}},Dg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),dk=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:E=ik}=e,y=re(e,i3),g=w.useRef(),v=w.useRef(),b=Kc(),_=w.useRef(null),C=cn(_,s.ref,n),T=V=>q=>{if(V){const ae=_.current;q===void 0?V(ae):V(ae,q)}},k=T(c),D=T((V,q)=>{sk(V);const{duration:ae,delay:O,easing:H}=ff({style:f,timeout:m,easing:o},{mode:"enter"});let B;m==="auto"?(B=b.transitions.getAutoHeightDuration(V.clientHeight),v.current=B):B=ae,V.style.transition=[b.transitions.create("opacity",{duration:B,delay:O}),b.transitions.create("transform",{duration:Dg?B:B*.666,delay:O,easing:H})].join(","),l&&l(V,q)}),A=T(u),z=T(p),se=T(V=>{const{duration:q,delay:ae,easing:O}=ff({style:f,timeout:m,easing:o},{mode:"exit"});let H;m==="auto"?(H=b.transitions.getAutoHeightDuration(V.clientHeight),v.current=H):H=q,V.style.transition=[b.transitions.create("opacity",{duration:H,delay:ae}),b.transitions.create("transform",{duration:Dg?H:H*.666,delay:Dg?ae:ae||H*.333,easing:O})].join(","),V.style.opacity=0,V.style.transform=vv(.75),d&&d(V)}),X=T(h),N=V=>{m==="auto"&&(g.current=setTimeout(V,v.current||0)),r&&r(_.current,V)};return w.useEffect(()=>()=>{clearTimeout(g.current)},[]),S(E,I({appear:i,in:a,nodeRef:_,onEnter:D,onEntered:A,onEntering:k,onExit:se,onExited:X,onExiting:z,addEndListener:N,timeout:m==="auto"?null:m},y,{children:(V,q)=>w.cloneElement(s,I({style:I({opacity:0,transform:vv(.75),visibility:V==="exited"&&!a?"hidden":void 0},s3[V],f,s.props.style),ref:C},q))}))});dk.muiSupportAuto=!0;const o3=dk,a3=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],l3=t=>{const{classes:e,disableUnderline:n}=t,i=$e({root:["root",!n&&"underline"],input:["input"]},mV,e);return I({},e,i)},u3=ie(Qp,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Kp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),I({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hl.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hl.disabled}, .${Hl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Hl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),c3=ie(Xp,{name:"MuiInput",slot:"Input",overridesResolver:Gp})({}),hk=w.forwardRef(function(e,n){var r,i,s,o;const a=Le({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:f,slots:m={},type:E="text"}=a,y=re(a,a3),g=l3(a),b={root:{ownerState:{disableUnderline:l}}},_=f??c?rr(f??c,b):b,C=(r=(i=m.root)!=null?i:u.Root)!=null?r:u3,T=(s=(o=m.input)!=null?o:u.Input)!=null?s:c3;return S(Lw,I({slots:{root:C,input:T},slotProps:_,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:E},y,{classes:g}))});hk.muiName="Input";const fk=hk;function d3(t){return Re("MuiInputLabel",t)}Ae("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const h3=["disableAnimation","margin","shrink","variant","className"],f3=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u=$e({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},d3,e);return I({},e,u)},p3=ie(zz,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Au.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>I({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&I({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&I({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&I({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),m3=w.forwardRef(function(e,n){const r=Le({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=re(r,h3),l=gl();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=ml({props:r,muiFormControl:l,states:["size","variant","required"]}),d=I({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required}),h=f3(d);return S(p3,I({"data-shrink":u,ownerState:d,ref:n,className:oe(h.root,o)},a,{classes:h}))}),g3=m3,y3=w.createContext({}),v3=y3;function w3(t){return Re("MuiList",t)}Ae("MuiList",["root","padding","dense","subheader"]);const b3=["children","className","component","dense","disablePadding","subheader"],E3=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return $e({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},w3,e)},S3=ie("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>I({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),I3=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=re(r,b3),d=w.useMemo(()=>({dense:a}),[a]),h=I({},r,{component:o,dense:a,disablePadding:l}),p=E3(h);return S(v3.Provider,{value:d,children:G(S3,I({as:o,className:oe(p.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),_3=I3,T3=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function $g(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function KS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function pk(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Gl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!pk(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const C3=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=re(e,T3),p=w.useRef(null),f=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fo(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,b)=>{const _=!p.current.style.width;if(v.clientHeight<p.current.clientHeight&&_){const C=`${xx(Nn(v))}px`;p.current.style[b.direction==="rtl"?"paddingLeft":"paddingRight"]=C,p.current.style.width=`calc(100% + ${C})`}return p.current}}),[]);const m=v=>{const b=p.current,_=v.key,C=Nn(b).activeElement;if(_==="ArrowDown")v.preventDefault(),Gl(b,C,u,l,$g);else if(_==="ArrowUp")v.preventDefault(),Gl(b,C,u,l,KS);else if(_==="Home")v.preventDefault(),Gl(b,null,u,l,$g);else if(_==="End")v.preventDefault(),Gl(b,null,u,l,KS);else if(_.length===1){const T=f.current,k=_.toLowerCase(),D=performance.now();T.keys.length>0&&(D-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&k!==T.keys[0]&&(T.repeating=!1)),T.lastTime=D,T.keys.push(k);const A=C&&!T.repeating&&pk(C,T);T.previousKeyMatched&&(A||Gl(b,C,!1,l,$g,T))?v.preventDefault():T.previousKeyMatched=!1}c&&c(v)},E=cn(p,n);let y=-1;w.Children.forEach(o,(v,b)=>{w.isValidElement(v)&&(v.props.disabled||(d==="selectedMenu"&&v.props.selected||y===-1)&&(y=b),y===b&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(y+=1,y>=o.length&&(y=-1)))});const g=w.Children.map(o,(v,b)=>{if(b===y){const _={};return s&&(_.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(_.tabIndex=0),w.cloneElement(v,_)}return v});return S(_3,I({role:"menu",ref:E,className:a,onKeyDown:m,tabIndex:i?0:-1},h,{children:g}))}),x3=C3;function k3(t){return Re("MuiPopover",t)}Ae("MuiPopover",["root","paper"]);const R3=["onEntering"],A3=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function GS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function QS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function XS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Mg(t){return typeof t=="function"?t():t}const N3=t=>{const{classes:e}=t;return $e({root:["root"],paper:["paper"]},k3,e)},P3=ie(Fw,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),O3=ie(qp,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),D3=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:p=16,open:f,PaperProps:m={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:y=o3,transitionDuration:g="auto",TransitionProps:{onEntering:v}={}}=r,b=re(r.TransitionProps,R3),_=re(r,A3),C=w.useRef(),T=cn(C,m.ref),k=I({},r,{anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:p,PaperProps:m,transformOrigin:E,TransitionComponent:y,transitionDuration:g,TransitionProps:b}),D=N3(k),A=w.useCallback(()=>{if(l==="anchorPosition")return a;const B=Mg(s),te=(B&&B.nodeType===1?B:Nn(C.current).body).getBoundingClientRect();return{top:te.top+GS(te,o.vertical),left:te.left+QS(te,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),z=w.useCallback(B=>({vertical:GS(B,E.vertical),horizontal:QS(B,E.horizontal)}),[E.horizontal,E.vertical]),se=w.useCallback(B=>{const Y={width:B.offsetWidth,height:B.offsetHeight},te=z(Y);if(l==="none")return{top:null,left:null,transformOrigin:XS(te)};const Ve=A();let ue=Ve.top-te.vertical,be=Ve.left-te.horizontal;const Ee=ue+Y.height,ht=be+Y.width,dn=ts(Mg(s)),je=dn.innerHeight-p,zt=dn.innerWidth-p;if(ue<p){const he=ue-p;ue-=he,te.vertical+=he}else if(Ee>je){const he=Ee-je;ue-=he,te.vertical+=he}if(be<p){const he=be-p;be-=he,te.horizontal+=he}else if(ht>zt){const he=ht-zt;be-=he,te.horizontal+=he}return{top:`${Math.round(ue)}px`,left:`${Math.round(be)}px`,transformOrigin:XS(te)}},[s,l,A,z,p]),[X,N]=w.useState(f),V=w.useCallback(()=>{const B=C.current;if(!B)return;const Y=se(B);Y.top!==null&&(B.style.top=Y.top),Y.left!==null&&(B.style.left=Y.left),B.style.transformOrigin=Y.transformOrigin,N(!0)},[se]),q=(B,Y)=>{v&&v(B,Y),V()},ae=()=>{N(!1)};w.useEffect(()=>{f&&V()}),w.useImperativeHandle(i,()=>f?{updatePosition:()=>{V()}}:null,[f,V]),w.useEffect(()=>{if(!f)return;const B=fw(()=>{V()}),Y=ts(s);return Y.addEventListener("resize",B),()=>{B.clear(),Y.removeEventListener("resize",B)}},[s,f,V]);let O=g;g==="auto"&&!y.muiSupportAuto&&(O=void 0);const H=d||(s?Nn(Mg(s)).body:void 0);return S(P3,I({BackdropProps:{invisible:!0},className:oe(D.root,c),container:H,open:f,ref:n,ownerState:k},_,{children:S(y,I({appear:!0,in:f,onEntering:q,onExited:ae,timeout:O},b,{children:S(O3,I({elevation:h},m,{ref:T,className:oe(D.paper,m.className)},X?void 0:{style:I({},m.style,{opacity:0})},{ownerState:k,children:u}))}))}))}),$3=D3;function M3(t){return Re("MuiMenu",t)}Ae("MuiMenu",["root","paper","list"]);const L3=["onEntering"],F3=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],U3={vertical:"top",horizontal:"right"},B3={vertical:"top",horizontal:"left"},V3=t=>{const{classes:e}=t;return $e({root:["root"],paper:["paper"],list:["list"]},M3,e)},z3=ie($3,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),j3=ie(qp,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),W3=ie(x3,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),q3=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:d,transitionDuration:h="auto",TransitionProps:{onEntering:p}={},variant:f="selectedMenu"}=r,m=re(r.TransitionProps,L3),E=re(r,F3),y=Kc(),g=y.direction==="rtl",v=I({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:p,PaperProps:c,transitionDuration:h,TransitionProps:m,variant:f}),b=V3(v),_=i&&!o&&u,C=w.useRef(null),T=(A,z)=>{C.current&&C.current.adjustStyleForScrollbar(A,y),p&&p(A,z)},k=A=>{A.key==="Tab"&&(A.preventDefault(),l&&l(A,"tabKeyDown"))};let D=-1;return w.Children.map(s,(A,z)=>{w.isValidElement(A)&&(A.props.disabled||(f==="selectedMenu"&&A.props.selected||D===-1)&&(D=z))}),S(z3,I({onClose:l,anchorOrigin:{vertical:"bottom",horizontal:g?"right":"left"},transformOrigin:g?U3:B3,PaperProps:I({as:j3},c,{classes:I({},c.classes,{root:b.paper})}),className:b.root,open:u,ref:n,transitionDuration:h,TransitionProps:I({onEntering:T},m),ownerState:v},E,{classes:d,children:S(W3,I({onKeyDown:k,actions:C,autoFocus:i&&(D===-1||o),autoFocusItem:_,variant:f},a,{className:oe(b.list,a.className),children:s}))}))}),H3=q3;function K3(t){return Re("MuiNativeSelect",t)}const G3=Ae("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Uw=G3,Q3=["className","disabled","IconComponent","inputRef","variant"],X3=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${fe(n)}`,s&&"iconOpen",r&&"disabled"]};return $e(o,K3,e)},mk=({ownerState:t,theme:e})=>I({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":I({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Uw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Y3=ie("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],{[`&.${Uw.multiple}`]:e.multiple}]}})(mk),gk=({ownerState:t,theme:e})=>I({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Uw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),J3=ie("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(gk),Z3=w.forwardRef(function(e,n){const{className:r,disabled:i,IconComponent:s,inputRef:o,variant:a="standard"}=e,l=re(e,Q3),u=I({},e,{disabled:i,variant:a}),c=X3(u);return G(w.Fragment,{children:[S(Y3,I({ownerState:u,className:oe(c.select,r),disabled:i,ref:o||n},l)),e.multiple?null:S(J3,{as:s,ownerState:u,className:c.icon})]})}),e5=Z3;var YS;const t5=["children","classes","className","label","notched"],n5=ie("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),r5=ie("legend")(({ownerState:t,theme:e})=>I({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&I({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function i5(t){const{className:e,label:n,notched:r}=t,i=re(t,t5),s=n!=null&&n!=="",o=I({},t,{notched:r,withLabel:s});return S(n5,I({"aria-hidden":!0,className:e,ownerState:o},i,{children:S(r5,{ownerState:o,children:s?S("span",{children:n}):YS||(YS=S("span",{className:"notranslate",children:""}))})}))}const s5=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],o5=t=>{const{classes:e}=t,r=$e({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},yV,e);return I({},e,r)},a5=ie(Qp,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Kp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return I({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${_i.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${_i.focused} .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${_i.error} .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${_i.disabled} .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&I({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),l5=ie(i5,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),u5=ie(Xp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>I({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),yk=w.forwardRef(function(e,n){var r,i,s,o,a;const l=Le({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:E="text"}=l,y=re(l,s5),g=o5(l),v=gl(),b=ml({props:l,muiFormControl:v,states:["required"]}),_=I({},l,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:c,hiddenLabel:b.hiddenLabel,multiline:p,size:b.size,type:E}),C=(r=(i=m.root)!=null?i:u.Root)!=null?r:a5,T=(s=(o=m.input)!=null?o:u.Input)!=null?s:u5;return S(Lw,I({slots:{root:C,input:T},renderSuffix:k=>S(l5,{ownerState:_,className:g.notchedOutline,label:h!=null&&h!==""&&b.required?a||(a=G(w.Fragment,{children:[h,"","*"]})):h,notched:typeof f<"u"?f:Boolean(k.startAdornment||k.filled||k.focused)}),fullWidth:c,inputComponent:d,multiline:p,ref:n,type:E},y,{classes:I({},g,{notchedOutline:null})}))});yk.muiName="Input";const vk=yk,c5=Wp(S("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),d5=Wp(S("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function h5(t){return Re("MuiRating",t)}const f5=Ae("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),Ql=f5,p5=["value"],m5=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function g5(t,e,n){return t<e?e:t>n?n:t}function y5(t){const e=t.toString().split(".")[1];return e?e.length:0}function Lg(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(y5(e)))}const v5=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${fe(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return $e(a,h5,e)},w5=ie("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ql.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${fe(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>I({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${Ql.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ql.focusVisible} .${Ql.iconActive}`]:{outline:"1px solid #999"},[`& .${Ql.visuallyHidden}`]:RL},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),wk=ie("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>I({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),b5=ie("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>I({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),E5=ie("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>tk(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>I({position:"relative"},t&&{transform:"scale(1.2)"}));function S5(t){const e=re(t,p5);return S("span",I({},e))}function JS(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:c,itemValue:d,labelProps:h,name:p,onBlur:f,onChange:m,onClick:E,onFocus:y,readOnly:g,ownerState:v,ratingValue:b,ratingValueRounded:_}=t,C=o?d===b:d<=b,T=d<=a,k=d<=i,D=d===_,A=vp(),z=S(b5,{as:u,value:d,className:oe(e.icon,C?e.iconFilled:e.iconEmpty,T&&e.iconHover,k&&e.iconFocus,c&&e.iconActive),ownerState:I({},v,{iconEmpty:!C,iconFilled:C,iconHover:T,iconFocus:k,iconActive:c}),children:r&&!C?r:l});return g?S("span",I({},h,{children:z})):G(w.Fragment,{children:[G(wk,I({ownerState:I({},v,{emptyValueFocused:void 0}),htmlFor:A},h,{children:[z,S("span",{className:e.visuallyHidden,children:s(d)})]})),S("input",{className:e.visuallyHidden,onFocus:y,onBlur:f,onChange:m,onClick:E,disabled:n,value:d,id:A,type:"radio",name:p,checked:D})]})}const I5=S(c5,{fontSize:"inherit"}),_5=S(d5,{fontSize:"inherit"});function T5(t){return`${t} Star${t!==1?"s":""}`}const C5=w.forwardRef(function(e,n){const r=Le({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=_5,emptyLabelText:l="Empty",getLabelText:u=T5,highlightSelectedOnly:c=!1,icon:d=I5,IconContainerComponent:h=S5,max:p=5,name:f,onChange:m,onChangeActive:E,onMouseLeave:y,onMouseMove:g,precision:v=1,readOnly:b=!1,size:_="medium",value:C}=r,T=re(r,m5),k=vp(f),[D,A]=lf({controlled:C,default:s,name:"Rating"}),z=Lg(D,v),se=Kc(),[{hover:X,focus:N},V]=w.useState({hover:-1,focus:-1});let q=z;X!==-1&&(q=X),N!==-1&&(q=N);const{isFocusVisibleRef:ae,onBlur:O,onFocus:H,ref:B}=pw(),[Y,te]=w.useState(!1),Ve=w.useRef(),ue=cn(B,Ve,n),be=pe=>{g&&g(pe);const We=Ve.current,{right:ye,left:br}=We.getBoundingClientRect(),{width:jt}=We.firstChild.getBoundingClientRect();let Wt;se.direction==="rtl"?Wt=(ye-pe.clientX)/(jt*p):Wt=(pe.clientX-br)/(jt*p);let Fe=Lg(p*Wt+v/2,v);Fe=g5(Fe,v,p),V(tn=>tn.hover===Fe&&tn.focus===Fe?tn:{hover:Fe,focus:Fe}),te(!1),E&&X!==Fe&&E(pe,Fe)},Ee=pe=>{y&&y(pe);const We=-1;V({hover:We,focus:We}),E&&X!==We&&E(pe,We)},ht=pe=>{let We=pe.target.value===""?null:parseFloat(pe.target.value);X!==-1&&(We=X),A(We),m&&m(pe,We)},dn=pe=>{pe.clientX===0&&pe.clientY===0||(V({hover:-1,focus:-1}),A(null),m&&parseFloat(pe.target.value)===z&&m(pe,null))},je=pe=>{H(pe),ae.current===!0&&te(!0);const We=parseFloat(pe.target.value);V(ye=>({hover:ye.hover,focus:We}))},zt=pe=>{if(X!==-1)return;O(pe),ae.current===!1&&te(!1);const We=-1;V(ye=>({hover:ye.hover,focus:We}))},[he,Qe]=w.useState(!1),xt=I({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:he,focusVisible:Y,getLabelText:u,icon:d,IconContainerComponent:h,max:p,precision:v,readOnly:b,size:_}),kt=v5(xt);return G(w5,I({ref:ue,onMouseMove:be,onMouseLeave:Ee,className:oe(kt.root,i,b&&"MuiRating-readOnly"),ownerState:xt,role:b?"img":null,"aria-label":b?u(q):null},T,{children:[Array.from(new Array(p)).map((pe,We)=>{const ye=We+1,br={classes:kt,disabled:o,emptyIcon:a,focus:N,getLabelText:u,highlightSelectedOnly:c,hover:X,icon:d,IconContainerComponent:h,name:k,onBlur:zt,onChange:ht,onClick:dn,onFocus:je,ratingValue:q,ratingValueRounded:z,readOnly:b,ownerState:xt},jt=ye===Math.ceil(q)&&(X!==-1||N!==-1);if(v<1){const Wt=Array.from(new Array(1/v));return S(E5,{className:oe(kt.decimal,jt&&kt.iconActive),ownerState:xt,iconActive:jt,children:Wt.map((Fe,tn)=>{const Qn=Lg(ye-1+(tn+1)*v,v);return S(JS,I({},br,{isActive:!1,itemValue:Qn,labelProps:{style:Wt.length-1===tn?{}:{width:Qn===q?`${(tn+1)*v*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Qn)})},ye)}return S(JS,I({},br,{isActive:jt,itemValue:ye}),ye)}),!b&&!o&&G(wk,{className:oe(kt.label,kt.labelEmptyValue),ownerState:xt,children:[S("input",{className:kt.visuallyHidden,value:"",id:`${k}-empty`,type:"radio",name:k,checked:z==null,onFocus:()=>Qe(!0),onBlur:()=>Qe(!1),onChange:ht}),S("span",{className:kt.visuallyHidden,children:l})]})]}))}),dc=C5;function x5(t){return Re("MuiSelect",t)}const k5=Ae("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Hd=k5;var ZS;const R5=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],A5=ie("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Hd.select}`]:e.select},{[`&.${Hd.select}`]:e[n.variant]},{[`&.${Hd.multiple}`]:e.multiple}]}})(mk,{[`&.${Hd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),N5=ie("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(gk),P5=ie("input",{shouldForwardProp:t=>tk(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function eI(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function O5(t){return t==null||typeof t=="string"&&!t.trim()}const D5=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${fe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return $e(o,x5,e)},$5=w.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,IconComponent:p,inputRef:f,labelId:m,MenuProps:E={},multiple:y,name:g,onBlur:v,onChange:b,onClose:_,onFocus:C,onOpen:T,open:k,readOnly:D,renderValue:A,SelectDisplayProps:z={},tabIndex:se,value:X,variant:N="standard"}=e,V=re(e,R5),[q,ae]=lf({controlled:X,default:c,name:"Select"}),[O,H]=lf({controlled:k,default:u,name:"Select"}),B=w.useRef(null),Y=w.useRef(null),[te,Ve]=w.useState(null),{current:ue}=w.useRef(k!=null),[be,Ee]=w.useState(),ht=cn(n,f),dn=w.useCallback(F=>{Y.current=F,F&&Ve(F)},[]),je=te==null?void 0:te.parentNode;w.useImperativeHandle(ht,()=>({focus:()=>{Y.current.focus()},node:B.current,value:q}),[q]),w.useEffect(()=>{u&&O&&te&&!ue&&(Ee(o?null:je.clientWidth),Y.current.focus())},[te,o]),w.useEffect(()=>{s&&Y.current.focus()},[s]),w.useEffect(()=>{if(!m)return;const F=Nn(Y.current).getElementById(m);if(F){const xe=()=>{getSelection().isCollapsed&&Y.current.focus()};return F.addEventListener("click",xe),()=>{F.removeEventListener("click",xe)}}},[m]);const zt=(F,xe)=>{F?T&&T(xe):_&&_(xe),ue||(Ee(o?null:je.clientWidth),H(F))},he=F=>{F.button===0&&(F.preventDefault(),Y.current.focus(),zt(!0,F))},Qe=F=>{zt(!1,F)},xt=w.Children.toArray(a),kt=F=>{const xe=xt.map(ur=>ur.props.value).indexOf(F.target.value);if(xe===-1)return;const yt=xt[xe];ae(yt.props.value),b&&b(F,yt)},pe=F=>xe=>{let yt;if(xe.currentTarget.hasAttribute("tabindex")){if(y){yt=Array.isArray(q)?q.slice():[];const ur=q.indexOf(F.props.value);ur===-1?yt.push(F.props.value):yt.splice(ur,1)}else yt=F.props.value;if(F.props.onClick&&F.props.onClick(xe),q!==yt&&(ae(yt),b)){const ur=xe.nativeEvent||xe,eg=new ur.constructor(ur.type,ur);Object.defineProperty(eg,"target",{writable:!0,value:{value:yt,name:g}}),b(eg,F)}y||zt(!1,xe)}},We=F=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(F.key)!==-1&&(F.preventDefault(),zt(!0,F))},ye=te!==null&&O,br=F=>{!ye&&v&&(Object.defineProperty(F,"target",{writable:!0,value:{value:q,name:g}}),v(F))};delete V["aria-invalid"];let jt,Wt;const Fe=[];let tn=!1;(Mw({value:q})||h)&&(A?jt=A(q):tn=!0);const Qn=xt.map(F=>{if(!w.isValidElement(F))return null;let xe;if(y){if(!Array.isArray(q))throw new Error(es(2));xe=q.some(yt=>eI(yt,F.props.value)),xe&&tn&&Fe.push(F.props.children)}else xe=eI(q,F.props.value),xe&&tn&&(Wt=F.props.children);return w.cloneElement(F,{"aria-selected":xe?"true":"false",onClick:pe(F),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),F.props.onKeyUp&&F.props.onKeyUp(yt)},role:"option",selected:xe,value:void 0,"data-value":F.props.value})});tn&&(y?Fe.length===0?jt=null:jt=Fe.reduce((F,xe,yt)=>(F.push(xe),yt<Fe.length-1&&F.push(", "),F),[]):jt=Wt);let Er=be;!o&&ue&&te&&(Er=je.clientWidth);let Xn;typeof se<"u"?Xn=se:Xn=d?null:0;const Si=z.id||(g?`mui-component-select-${g}`:void 0),Sr=I({},e,{variant:N,value:q,open:ye}),Be=D5(Sr);return G(w.Fragment,{children:[S(A5,I({ref:dn,tabIndex:Xn,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":ye?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,Si].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:We,onMouseDown:d||D?null:he,onBlur:br,onFocus:C},z,{ownerState:Sr,className:oe(z.className,Be.select,l),id:Si,children:O5(jt)?ZS||(ZS=S("span",{className:"notranslate",children:""})):jt})),S(P5,I({value:Array.isArray(q)?q.join(","):q,name:g,ref:B,"aria-hidden":!0,onChange:kt,tabIndex:-1,disabled:d,className:Be.nativeInput,autoFocus:s,ownerState:Sr},V)),S(N5,{as:p,className:Be.icon,ownerState:Sr}),S(H3,I({id:`menu-${g||""}`,anchorEl:je,open:ye,onClose:Qe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:I({"aria-labelledby":m,role:"listbox",disableListWrap:!0},E.MenuListProps),PaperProps:I({},E.PaperProps,{style:I({minWidth:Er},E.PaperProps!=null?E.PaperProps.style:null)}),children:Qn}))]})}),M5=$5;var tI,nI;const L5=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],F5=t=>{const{classes:e}=t;return e},Bw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>pi(t)&&t!=="variant",slot:"Root"},U5=ie(fk,Bw)(""),B5=ie(vk,Bw)(""),V5=ie(uk,Bw)(""),bk=w.forwardRef(function(e,n){const r=Le({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=EV,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:E,multiple:y=!1,native:g=!1,onClose:v,onOpen:b,open:_,renderValue:C,SelectDisplayProps:T,variant:k="outlined"}=r,D=re(r,L5),A=g?e5:M5,z=gl(),X=ml({props:r,muiFormControl:z,states:["variant"]}).variant||k,N=h||{standard:tI||(tI=S(U5,{})),outlined:S(B5,{label:f}),filled:nI||(nI=S(V5,{}))}[X],V=I({},r,{variant:X,classes:o}),q=F5(V),ae=cn(n,N.ref);return S(w.Fragment,{children:w.cloneElement(N,I({inputComponent:A,inputProps:I({children:s,IconComponent:c,variant:X,type:void 0,multiple:y},g?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:E,onClose:v,onOpen:b,open:_,renderValue:C,SelectDisplayProps:I({id:d},T)},p,{classes:p?rr(q,p.classes):q},h?h.props.inputProps:{})},y&&g&&X==="outlined"?{notched:!0}:{},{ref:ae,className:oe(N.props.className,a)},!h&&{variant:X},D))})});bk.muiName="Select";const z5=bk;function j5(t){return Re("MuiToolbar",t)}Ae("MuiToolbar",["root","gutters","regular","dense"]);const W5=["className","component","disableGutters","variant"],q5=t=>{const{classes:e,disableGutters:n,variant:r}=t;return $e({root:["root",!n&&"gutters",r]},j5,e)},H5=ie("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>I({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),K5=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=re(r,W5),u=I({},r,{component:s,disableGutters:o,variant:a}),c=q5(u);return S(H5,I({as:s,className:oe(c.root,i),ref:n,ownerState:u},l))}),G5=K5;function Q5(t){return Re("MuiTextField",t)}Ae("MuiTextField",["root"]);const X5=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Y5={standard:fk,filled:uk,outlined:vk},J5=t=>{const{classes:e}=t;return $e({root:["root"]},Q5,e)},Z5=ie(xz,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),e4=w.forwardRef(function(e,n){const r=Le({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:m,InputLabelProps:E,inputProps:y,InputProps:g,inputRef:v,label:b,maxRows:_,minRows:C,multiline:T=!1,name:k,onBlur:D,onChange:A,onFocus:z,placeholder:se,required:X=!1,rows:N,select:V=!1,SelectProps:q,type:ae,value:O,variant:H="outlined"}=r,B=re(r,X5),Y=I({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:p,multiline:T,required:X,select:V,variant:H}),te=J5(Y),Ve={};H==="outlined"&&(E&&typeof E.shrink<"u"&&(Ve.notched=E.shrink),Ve.label=b),V&&((!q||!q.native)&&(Ve.id=void 0),Ve["aria-describedby"]=void 0);const ue=vp(m),be=f&&ue?`${ue}-helper-text`:void 0,Ee=b&&ue?`${ue}-label`:void 0,ht=Y5[H],dn=S(ht,I({"aria-describedby":be,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:p,multiline:T,name:k,rows:N,maxRows:_,minRows:C,type:ae,value:O,id:ue,inputRef:v,onBlur:D,onChange:A,onFocus:z,placeholder:se,inputProps:y},Ve,g));return G(Z5,I({className:oe(te.root,a),disabled:c,error:d,fullWidth:p,ref:n,required:X,color:l,variant:H,ownerState:Y},B,{children:[b!=null&&b!==""&&S(g3,I({htmlFor:ue,id:Ee},E,{children:b})),V?S(z5,I({"aria-describedby":be,id:ue,labelId:Ee,value:O,input:dn},q,{children:o})):dn,f&&S(Dz,I({id:be},h,{children:f}))]}))}),to=e4,Vw="/assets/elk-80c0bb81.png",Ek="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVR4nO3cPUscURiG4duPKBgMiqSwEuwshdQSOxWb2CRpLPwD/gJLGxubQJoU6VJYCBYWqVIIIUUQhCAYEIRAPhqxUFBjEhamkPGkXN5Xzn3BKRcezrMzuzNzzoAkSZIkSZIkSZIkSZIkSZIk3S+LwA/gF/AiOozgBPjbjN/ASycl1vGtQjrjGngWnKlqC8BVq5RLYD46WM2WmiPjdikXwGx0sJotAzetUs6BmehgNVsB/rRKOQOeRAer2WqrkM44Baajg9VsrVDKT2AqOljN1gulfAMmo4PVbKNQSudCciI6WK16gNeFUo6A8ehwNZfyplDKATAWHa5WfcC7Qin7wGh0uFo9AHYKpXwEhqPD1WoA2C2Usgc8jA5XqyHgQ6GU98BgdLhaPQI+FUrZbk5tCjACfC6UsgX0RwQSPAa+FEp5C/T+b4KeAl8LH3LQ1Tl41VzD3HHo5BP15du0EPIX4imLXKcsJftRV3f4tzcRLwwT8dZJIt5cTMTb74n4gCoRH+Em4iKHZFwGlIgL5RJxKWkiLrZOxO0IibhhJxG3tCUy56bPXNprDtwWnagQXxyQwGzz8oDvwPPoMJIkSZIkSZIkSZIkSZIkSZLoqn8Yw0wjKLUllwAAAABJRU5ErkJggg==";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ik={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new n4;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const f=u<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r4=function(t){const e=Sk(t);return Ik.encodeByteArray(e,!0)},mf=function(t){return r4(t).replace(/\./g,"")},_k=function(t){try{return Ik.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!i4(n)||(t[n]=gf(t[n],e[n]));return t}function i4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=()=>s4().__FIREBASE_DEFAULTS__,a4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_k(t[1]);return e&&JSON.parse(e)},Yp=()=>{try{return o4()||a4()||l4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tk=t=>{var e,n;return(n=(e=Yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u4=t=>{const e=Tk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},c4=()=>{var t;return(t=Yp())===null||t===void 0?void 0:t.config},Ck=t=>{var e;return(e=Yp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[mf(JSON.stringify(n)),mf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function zw(){var t;const e=(t=Yp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p4(){return typeof self=="object"&&self.self===self}function xk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kk(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m4(){return!zw()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hc(){try{return typeof indexedDB=="object"}catch{return!1}}function g4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="FirebaseError";class yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y4,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yn(i,a,r)}}function v4(t,e){return t.replace(w4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const w4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iI(s)&&iI(o)){if(!yf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Rk(t,e){const n=new E4(t,e);return n.subscribe.bind(n)}class E4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fg),i.error===void 0&&(i.error=Fg),i.complete===void 0&&(i.complete=Fg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){return t&&t._delegate?t._delegate:t}class qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new d4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _4(t){return t===Os?void 0:t}function T4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=[];var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const Ak={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},x4=Se.INFO,k4={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},R4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jp{constructor(e){this.name=e,this._logLevel=x4,this._logHandler=R4,this._userLogHandler=null,Ww.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}function A4(t){Ww.forEach(e=>{e.setLogLevel(t)})}function N4(t,e){for(const n of Ww){let r=null;e&&e.level&&(r=Ak[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Se[s].toLowerCase(),message:a,args:o,type:i.name})}}}const P4=(t,e)=>e.some(n=>t instanceof n);let sI,oI;function O4(){return sI||(sI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D4(){return oI||(oI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nk=new WeakMap,wv=new WeakMap,Pk=new WeakMap,Ug=new WeakMap,qw=new WeakMap;function $4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nk.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function M4(t){if(wv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wv.set(t,e)}let bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L4(t){bv=t(bv)}function F4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bg(this),e,...n);return Pk.set(r,e.sort?e.sort():[e]),Qi(r)}:D4().includes(t)?function(...e){return t.apply(Bg(this),e),Qi(Nk.get(this))}:function(...e){return Qi(t.apply(Bg(this),e))}}function U4(t){return typeof t=="function"?F4(t):(t instanceof IDBTransaction&&M4(t),P4(t,O4())?new Proxy(t,bv):t)}function Qi(t){if(t instanceof IDBRequest)return $4(t);if(Ug.has(t))return Ug.get(t);const e=U4(t);return e!==t&&(Ug.set(t,e),qw.set(e,t)),e}const Bg=t=>qw.get(t);function B4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qi(o.result),l.oldVersion,l.newVersion,Qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],Vg=new Map;function aI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=z4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vg.set(e,s),s}L4(t=>({...t,get:(e,n,r)=>aI(e,n)||t.get(e,n,r),has:(e,n)=>!!aI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",lI="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Jp("@firebase/app"),q4="@firebase/app-compat",H4="@firebase/analytics-compat",K4="@firebase/analytics",G4="@firebase/app-check-compat",Q4="@firebase/app-check",X4="@firebase/auth",Y4="@firebase/auth-compat",J4="@firebase/database",Z4="@firebase/database-compat",ej="@firebase/functions",tj="@firebase/functions-compat",nj="@firebase/installations",rj="@firebase/installations-compat",ij="@firebase/messaging",sj="@firebase/messaging-compat",oj="@firebase/performance",aj="@firebase/performance-compat",lj="@firebase/remote-config",uj="@firebase/remote-config-compat",cj="@firebase/storage",dj="@firebase/storage-compat",hj="@firebase/firestore",fj="@firebase/firestore-compat",pj="firebase",mj="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]",gj={[Ev]:"fire-core",[q4]:"fire-core-compat",[K4]:"fire-analytics",[H4]:"fire-analytics-compat",[Q4]:"fire-app-check",[G4]:"fire-app-check-compat",[X4]:"fire-auth",[Y4]:"fire-auth-compat",[J4]:"fire-rtdb",[Z4]:"fire-rtdb-compat",[ej]:"fire-fn",[tj]:"fire-fn-compat",[nj]:"fire-iid",[rj]:"fire-iid-compat",[ij]:"fire-fcm",[sj]:"fire-fcm-compat",[oj]:"fire-perf",[aj]:"fire-perf-compat",[lj]:"fire-rc",[uj]:"fire-rc-compat",[cj]:"fire-gcs",[dj]:"fire-gcs-compat",[hj]:"fire-fst",[fj]:"fire-fst-compat","fire-js":"fire-js",[pj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Map,fc=new Map;function vf(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ok(t,e){t.container.addOrOverwriteComponent(e)}function is(t){const e=t.name;if(fc.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;fc.set(e,t);for(const n of rs.values())vf(n,t);return!0}function Gc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yj(t,e,n=ns){Gc(t,e).clearInstance(n)}function vj(){fc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ri=new Ao("app","Firebase",wj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bj=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=mj;function Zp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ns,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=c4()),!n)throw ri.create("no-options");const s=rs.get(i);if(s){if(yf(n,s.options)&&yf(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}const o=new C4(i);for(const l of fc.values())o.addComponent(l);const a=new bj(n,r,o);return rs.set(i,a),a}function Hw(t=ns){const e=rs.get(t);if(!e&&t===ns)return Zp();if(!e)throw ri.create("no-app",{appName:t});return e}function Ej(){return Array.from(rs.values())}async function Dk(t){const e=t.name;rs.has(e)&&(rs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function yr(t,e,n){var r;let i=(r=gj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(a.join(" "));return}is(new qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function $k(t,e){if(t!==null&&typeof t!="function")throw ri.create("invalid-log-argument");N4(t,e)}function Mk(t){A4(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firebase-heartbeat-database",Ij=1,pc="firebase-heartbeat-store";let zg=null;function Lk(){return zg||(zg=B4(Sj,Ij,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pc)}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),zg}async function _j(t){try{return(await Lk()).transaction(pc).objectStore(pc).get(Fk(t))}catch(e){if(e instanceof yn)mo.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function uI(t,e){try{const r=(await Lk()).transaction(pc,"readwrite");return await r.objectStore(pc).put(e,Fk(t)),r.done}catch(n){if(n instanceof yn)mo.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(r.message)}}}function Fk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=1024,Cj=30*24*60*60*1e3;class xj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Cj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cI(),{heartbeatsToSend:n,unsentEntries:r}=kj(this._heartbeatsCache.heartbeats),i=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cI(){return new Date().toISOString().substring(0,10)}function kj(t,e=Tj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hc()?g4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await _j(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dI(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){is(new qr("platform-logger",e=>new j4(e),"PRIVATE")),is(new qr("heartbeat",e=>new xj(e),"PRIVATE")),yr(Ev,lI,t),yr(Ev,lI,"esm2017"),yr("fire-js","")}Aj("");const Nj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:No,_DEFAULT_ENTRY_NAME:ns,_addComponent:vf,_addOrOverwriteComponent:Ok,_apps:rs,_clearComponents:vj,_components:fc,_getProvider:Gc,_registerComponent:is,_removeServiceInstance:yj,deleteApp:Dk,getApp:Hw,getApps:Ej,initializeApp:Zp,onLog:$k,registerVersion:yr,setLogLevel:Mk},Symbol.toStringTag,{value:"Module"}));var Pj="firebase",Oj="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(Pj,Oj,"app");function Kw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Xl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ho={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function Uk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $j=Dj,Mj=Uk,Bk=new Ao("auth","Firebase",Uk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Jp("@firebase/auth");function Eh(t,...e){hI.logLevel<=Se.ERROR&&hI.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,...e){throw Gw(t,...e)}function Xt(t,...e){return Gw(t,...e)}function Vk(t,e,n){const r=Object.assign(Object.assign({},Mj()),{[e]:n});return new Ao("auth","Firebase",r).create(e,{appName:t.name})}function vl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$t(t,"argument-error"),Vk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bk.create(t,...e)}function U(t,e,...n){if(!t)throw Gw(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function wr(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;function Bn(t){wr(t instanceof Function,"Expected a class definition");let e=fI.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fI.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){const n=Gc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yf(s,e??{}))return i;$t(i,"already-initialized")}return n.initialize({options:e})}function Fj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qw(){return pI()==="http:"||pI()==="https:"}function pI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qw()||xk()||"connection"in navigator)?navigator.onLine:!0}function Bj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=f4()||jw()}get(){return Uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Qc(3e4,6e4);function Ct(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ut(t,e,n,r,i={}){return jk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=yl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zk.fetch()(Wk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vj),e);try{const i=new jj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Vk(t,c,u);$t(t,c)}}catch(i){if(i instanceof yn)throw i;$t(t,"internal-error",{message:String(i)})}}async function gi(t,e,n,r,i={}){const s=await Ut(t,e,n,r,i);return"mfaPendingCredential"in s&&$t(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Wk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xw(t.config,i):`${t.config.apiScheme}://${i}`}class jj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xt(this.auth,"network-request-failed")),zj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e){return Ut(t,"POST","/v1/accounts:delete",e)}async function qj(t,e){return Ut(t,"POST","/v1/accounts:update",e)}async function Hj(t,e){return Ut(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kj(t,e=!1){const n=ne(t),r=await n.getIdToken(e),i=em(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nu(jg(i.auth_time)),issuedAtTime:Nu(jg(i.iat)),expirationTime:Nu(jg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jg(t){return Number(t)*1e3}function em(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=_k(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Gj(t){const e=em(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ci(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yn&&Qj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Qj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ci(t,Hj(n,{idToken:r}));U(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Zj(s.providerUserInfo):[],a=Jj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Yj(t){const e=ne(t);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Zj(t){return t.map(e=>{var{providerId:n}=e,r=Kw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eW(t,e){const n=await jk(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Wk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yc;return r&&(U(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ci(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kj(this,e)}reload(){return Yj(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ci(this,Wj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:C,stsTokenManager:T}=n;U(v&&T,e,"internal-error");const k=yc.fromJSON(this.name,T);U(typeof v=="string",e,"internal-error"),Ti(d,e.name),Ti(h,e.name),U(typeof b=="boolean",e,"internal-error"),U(typeof _=="boolean",e,"internal-error"),Ti(p,e.name),Ti(f,e.name),Ti(m,e.name),Ti(E,e.name),Ti(y,e.name),Ti(g,e.name);const D=new no({uid:v,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:_,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:g});return C&&Array.isArray(C)&&(D.providerData=C.map(A=>Object.assign({},A))),E&&(D._redirectEventId=E),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new yc;i.updateFromServerResponse(n);const s=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hk.type="NONE";const ja=Hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ro(this.userKey,i.apiKey,s),this.fullPersistenceKey=ro("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xa(Bn(ja),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Bn(ja);const o=ro(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=no._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xk(e))return"Blackberry";if(Yk(e))return"Webos";if(Yw(e))return"Safari";if((e.includes("chrome/")||Gk(e))&&!e.includes("edge/"))return"Chrome";if(Xc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kk(t=it()){return/firefox\//i.test(t)}function Yw(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gk(t=it()){return/crios\//i.test(t)}function Qk(t=it()){return/iemobile/i.test(t)}function Xc(t=it()){return/android/i.test(t)}function Xk(t=it()){return/blackberry/i.test(t)}function Yk(t=it()){return/webos/i.test(t)}function wl(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tW(t=it()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function nW(t=it()){var e;return wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rW(){return kk()&&document.documentMode===10}function Jk(t=it()){return wl(t)||Xc(t)||Yk(t)||Xk(t)||/windows phone/i.test(t)||Qk(t)}function iW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e=[]){let n;switch(t){case"Browser":n=mI(it());break;case"Worker":n=`${mI(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gI(this),this.idTokenSubscription=new gI(this),this.beforeStateQueue=new sW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ne(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return U(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Mt(t){return ne(t)}class gI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rk(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eR(t,e,n){const r=Mt(t);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=tR(e),{host:o,port:a}=aW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||lW()}function tR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aW(t){const e=tR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yI(o)}}}function yI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e){return Ut(t,"POST","/v1/accounts:resetPassword",Ct(t,e))}async function rR(t,e){return Ut(t,"POST","/v1/accounts:update",e)}async function uW(t,e){return Ut(t,"POST","/v1/accounts:update",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e){return gi(t,"POST","/v1/accounts:signInWithPassword",Ct(t,e))}async function tm(t,e){return Ut(t,"POST","/v1/accounts:sendOobCode",Ct(t,e))}async function dW(t,e){return tm(t,e)}async function hW(t,e){return tm(t,e)}async function fW(t,e){return tm(t,e)}async function pW(t,e){return tm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e){return gi(t,"POST","/v1/accounts:signInWithEmailLink",Ct(t,e))}async function gW(t,e){return gi(t,"POST","/v1/accounts:signInWithEmailLink",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends bl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return cW(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return mW(e,{email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return rR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gW(e,{idToken:n,email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(t,e){return gi(t,"POST","/v1/accounts:signInWithIdp",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="http://localhost";class Hr extends bl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$t("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Kw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ii(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ii(e,n)}buildRequest(){const e={requestUri:yW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(t,e){return Ut(t,"POST","/v1/accounts:sendVerificationCode",Ct(t,e))}async function wW(t,e){return gi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ct(t,e))}async function bW(t,e){const n=await gi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ct(t,e));if(n.temporaryProof)throw fu(t,"account-exists-with-different-credential",n);return n}const EW={USER_NOT_FOUND:"user-not-found"};async function SW(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return gi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ct(t,n),EW)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends bl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new io({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new io({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return wW(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bW(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return SW(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new io({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _W(t){const e=ma(hu(t)).link,n=e?ma(hu(e)).deep_link_id:null,r=ma(hu(t)).deep_link_id;return(r?ma(hu(r)).link:null)||r||n||e||t}class nm{constructor(e){var n,r,i,s,o,a;const l=ma(hu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=IW((i=l.mode)!==null&&i!==void 0?i:null);U(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_W(e);try{return new nm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nm.parseLink(n);return U(r,"argument-error"),vc._fromEmailAndCode(e,r.code,r.tenantId)}}ws.PROVIDER_ID="password";ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends yi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ka extends El{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return U("providerId"in n&&"signInMethod"in n,"argument-error"),Hr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return U(e.idToken||e.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ka.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ka.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new ka(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends El{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends El{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW="http://localhost";class Wa extends bl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ii(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ii(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Wa(r,s)}static _create(e,n){return new Wa(e,n)}buildRequest(){return{requestUri:TW,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="saml.";class wf extends yi{constructor(e){U(e.startsWith(CW),"argument-error"),super(e)}static credentialFromResult(e){return wf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return wf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Wa.fromJSON(e);return U(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Wa._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends El{constructor(){super("twitter.com")}static credential(e,n){return Hr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return gi(t,"POST","/v1/accounts:signUp",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await no._fromIdTokenResponse(e,r,i),o=vI(r);return new ar({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vI(r);return new ar({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t){var e;const n=Mt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ar({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await iR(n,{returnSecureToken:!0}),i=await ar._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bf(e,n,r,i)}}function sR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e){const n=ne(t);await rm(!0,n,e);const{providerUserInfo:r}=await qj(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=oR(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Jw(t,e,n=!1){const r=await ci(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ar._forOperation(t,"link",r)}async function rm(t,e,n){await gc(e);const r=oR(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";U(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ci(t,sR(r,i,e,t),n);U(s.idToken,r,"internal-error");const o=em(s.idToken);U(o,r,"internal-error");const{sub:a}=o;return U(t.uid===a,r,"user-mismatch"),ar._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$t(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){const r="signIn",i=await sR(t,r,e),s=await ar._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function im(t,e){return lR(Mt(t),e)}async function uR(t,e){const n=ne(t);return await rm(!1,n,e.providerId),Jw(n,e)}async function cR(t,e){return aR(ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RW(t,e){return gi(t,"POST","/v1/accounts:signInWithCustomToken",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AW(t,e){const n=Mt(t),r=await RW(n,{token:e,returnSecureToken:!0}),i=await ar._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Zw._fromServerResponse(e,n):$t(e,"internal-error")}}class Zw extends sm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Zw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e,n){var r;U(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),U(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW(t,e,n){const r=ne(t),i={requestType:"PASSWORD_RESET",email:e};n&&om(r,i,n),await hW(r,i)}async function PW(t,e,n){await nR(ne(t),{oobCode:e,newPassword:n})}async function OW(t,e){await uW(ne(t),{oobCode:e})}async function dR(t,e){const n=ne(t),r=await nR(n,{oobCode:e}),i=r.requestType;switch(U(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(r.mfaInfo,n,"internal-error");default:U(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=sm._fromServerResponse(Mt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function DW(t,e){const{data:n}=await dR(ne(t),e);return n.email}async function hR(t,e,n){const r=Mt(t),i=await iR(r,{returnSecureToken:!0,email:e,password:n}),s=await ar._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function fR(t,e,n){return im(ne(t),ws.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $W(t,e,n){const r=ne(t),i={requestType:"EMAIL_SIGNIN",email:e};U(n.handleCodeInApp,r,"argument-error"),n&&om(r,i,n),await fW(r,i)}function MW(t,e){const n=nm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function LW(t,e,n){const r=ne(t),i=ws.credentialWithLink(e,n||mc());return U(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),im(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e){return Ut(t,"POST","/v1/accounts:createAuthUri",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e){const n=Qw()?mc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await FW(ne(t),r);return i||[]}async function BW(t,e){const n=ne(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&om(n.auth,i,e);const{email:s}=await dW(n.auth,i);s!==t.email&&await t.reload()}async function VW(t,e,n){const r=ne(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&om(r.auth,s,n);const{email:o}=await pW(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return Ut(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ne(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ci(r,zW(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function WW(t,e){return pR(ne(t),e,null)}function qW(t,e){return pR(ne(t),null,e)}async function pR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ci(t,rR(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=em(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ra(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new KW(s,i);case"github.com":return new GW(s,i);case"google.com":return new QW(s,i);case"twitter.com":return new XW(s,i,t.screenName||null);case"custom":case"anonymous":return new Ra(s,null);default:return new Ra(s,r,i)}}class Ra{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class mR extends Ra{constructor(e,n,r,i){super(e,n,r),this.username=i}}class KW extends Ra{constructor(e,n){super(e,"facebook.com",n)}}class GW extends mR{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class QW extends Ra{constructor(e,n){super(e,"google.com",n)}}class XW extends mR{constructor(e,n,r){super(e,"twitter.com",n,r)}}function YW(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:HW(n)}function JW(t,e,n,r){return ne(t).onIdTokenChanged(e,n,r)}function ZW(t,e,n){return ne(t).beforeAuthStateChanged(e,n)}class Hs{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new Hs("enroll",e,n)}static _fromMfaPendingCredential(e){return new Hs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Hs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Hs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Mt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>sm._fromServerResponse(r,a));U(i.mfaPendingCredential,r,"internal-error");const o=Hs._fromMfaPendingCredential(i.mfaPendingCredential);return new e1(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await ar._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return U(n.user,r,"internal-error"),ar._forOperation(n.user,n.operationType,u);default:$t(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function eq(t,e){var n;const r=ne(t),i=e;return U(e.customData.operationType,r,"argument-error"),U((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),e1._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t,e){return Ut(t,"POST","/v2/accounts/mfaEnrollment:start",Ct(t,e))}function nq(t,e){return Ut(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(t,e))}function rq(t,e){return Ut(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(t,e))}class t1{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>sm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new t1(e)}async getSession(){return Hs._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await ci(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ci(this.user,rq(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Wg=new WeakMap;function iq(t){const e=ne(t);return Wg.has(e)||Wg.set(e,t1._fromUser(e)),Wg.get(e)}const Ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(){const t=it();return Yw(t)||wl(t)}const oq=1e3,aq=10;class yR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sq()&&iW(),this.fallbackToPolling=Jk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yR.type="LOCAL";const am=yR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vR.type="SESSION";const ss=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await lq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Yc("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return window}function cq(t){St().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof St().WorkerGlobalScope<"u"&&typeof St().importScripts=="function"}async function dq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fq(){return n1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebaseLocalStorageDb",pq=1,Sf="firebaseLocalStorage",bR="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(t,e){return t.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function mq(){const t=indexedDB.deleteDatabase(wR);return new Jc(t).toPromise()}function Sv(){const t=indexedDB.open(wR,pq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sf,{keyPath:bR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sf)?e(r):(r.close(),await mq(),e(await Sv()))})})}async function wI(t,e,n){const r=um(t,!0).put({[bR]:e,value:n});return new Jc(r).toPromise()}async function gq(t,e){const n=um(t,!1).get(e),r=await new Jc(n).toPromise();return r===void 0?null:r.value}function bI(t,e){const n=um(t,!0).delete(e);return new Jc(n).toPromise()}const yq=800,vq=3;class ER{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(fq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dq(),!this.activeServiceWorker)return;this.sender=new uq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sv();return await wI(e,Ef,"1"),await bI(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=um(i,!1).getAll();return new Jc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ER.type="LOCAL";const qa=ER;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t,e){return Ut(t,"POST","/v2/accounts/mfaSignIn:start",Ct(t,e))}function bq(t,e){return Ut(t,"POST","/v2/accounts/mfaSignIn:finalize",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t){return(await Ut(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function SR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Sq().appendChild(r)})}function IR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=500,_q=6e4,Kd=1e12;class Tq{constructor(e){this.auth=e,this.counter=Kd,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Cq(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Kd;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Kd;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Kd;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Cq{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;U(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=xq(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},_q)},Iq))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function xq(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=IR("rcb"),kq=new Qc(3e4,6e4),Rq="https://www.google.com/recaptcha/api.js?";class Aq{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=St().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return U(Nq(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(St().grecaptcha):new Promise((r,i)=>{const s=St().setTimeout(()=>{i(Xt(e,"network-request-failed"))},kq.get());St()[qg]=()=>{St().clearTimeout(s),delete St()[qg];const a=St().grecaptcha;if(!a){i(Xt(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${Rq}?${yl({onload:qg,render:"explicit",hl:n})}`;SR(o).catch(()=>{clearTimeout(s),i(Xt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=St().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Nq(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Pq{async load(e){return new Tq(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="recaptcha",Oq={theme:"light",type:"image"};let Dq=class{constructor(e,n=Object.assign({},Oq),r){this.parameters=n,this.type=_R,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(r),this.isInvisible=this.parameters.size==="invisible",U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pq:new Aq,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=St()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){U(Qw()&&!n1(),this.auth,"internal-error"),await $q(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Eq(this.auth);U(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function $q(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=io._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Mq(t,e,n){const r=Mt(t),i=await cm(r,e,ne(n));return new r1(i,s=>im(r,s))}async function Lq(t,e,n){const r=ne(t);await rm(!1,r,"phone");const i=await cm(r.auth,e,ne(n));return new r1(i,s=>uR(r,s))}async function Fq(t,e,n){const r=ne(t),i=await cm(r.auth,e,ne(n));return new r1(i,s=>cR(r,s))}async function cm(t,e,n){var r;const i=await n.verify();try{U(typeof i=="string",t,"argument-error"),U(n.type===_R,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return U(o.type==="enroll",t,"internal-error"),(await tq(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{U(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return U(a,t,"missing-multi-factor-info"),(await wq(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await vW(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function Uq(t,e){await Jw(ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go=class Sh{constructor(e){this.providerId=Sh.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,n){return cm(this.auth,e,ne(n))}static credential(e,n){return io._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Sh.credentialFromTaggedObject(n)}static credentialFromError(e){return Sh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?io._fromTokenResponse(n,r):null}};go.PROVIDER_ID="phone";go.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e){return e?Bn(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends bl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ii(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bq(t){return lR(t.auth,new i1(t),t.bypassAuthState)}function Vq(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),aR(n,new i1(t),t.bypassAuthState)}async function zq(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),Jw(n,new i1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bq;case"linkViaPopup":case"linkViaRedirect":return zq;case"reauthViaPopup":case"reauthViaRedirect":return Vq;default:$t(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new Qc(2e3,1e4);async function Wq(t,e,n){const r=Mt(t);vl(t,e,yi);const i=Po(r,n);return new Zr(r,"signInViaPopup",e,i).executeNotNull()}async function qq(t,e,n){const r=ne(t);vl(r.auth,e,yi);const i=Po(r.auth,n);return new Zr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Hq(t,e,n){const r=ne(t);vl(r.auth,e,yi);const i=Po(r.auth,n);return new Zr(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Zr extends TR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Yc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,jq.get())};e()}}Zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="pendingRedirect",Pu=new Map;class Gq extends TR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await Qq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qq(t,e){const n=xR(e),r=CR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function s1(t,e){return CR(t)._set(xR(e),"true")}function Xq(){Pu.clear()}function o1(t,e){Pu.set(t._key(),e)}function CR(t){return Bn(t._redirectPersistence)}function xR(t){return ro(Kq,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t,e,n){return Jq(t,e,n)}async function Jq(t,e,n){const r=Mt(t);vl(t,e,yi),await r._initializationPromise;const i=Po(r,n);return await s1(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Zq(t,e,n){return e6(t,e,n)}async function e6(t,e,n){const r=ne(t);vl(r.auth,e,yi),await r.auth._initializationPromise;const i=Po(r.auth,n);await s1(i,r.auth);const s=await kR(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function t6(t,e,n){return n6(t,e,n)}async function n6(t,e,n){const r=ne(t);vl(r.auth,e,yi),await r.auth._initializationPromise;const i=Po(r.auth,n);await rm(!1,r,e.providerId),await s1(i,r.auth);const s=await kR(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function r6(t,e){return await Mt(t)._initializationPromise,dm(t,e,!1)}async function dm(t,e,n=!1){const r=Mt(t),i=Po(r,e),o=await new Gq(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function kR(t){const e=Yc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=10*60*1e3;class RR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i6&&this.cachedEventUids.clear(),this.cachedEventUids.has(EI(e))}saveEventToCache(e){this.cachedEventUids.add(EI(e)),this.lastProcessedEventTime=Date.now()}}function EI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(t,e={}){return Ut(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a6=/^https?/;async function l6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NR(t);for(const n of e)try{if(u6(n))return}catch{}$t(t,"unauthorized-domain")}function u6(t){const e=mc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a6.test(n))return!1;if(o6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Qc(3e4,6e4);function SI(){const t=St().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d6(t){return new Promise((e,n)=>{var r,i,s;function o(){SI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SI(),n(Xt(t,"network-request-failed"))},timeout:c6.get()})}if(!((i=(r=St().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=St().gapi)===null||s===void 0)&&s.load)o();else{const a=IR("iframefcb");return St()[a]=()=>{gapi.load?o():n(Xt(t,"network-request-failed"))},SR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function h6(t){return Ih=Ih||d6(t),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Qc(5e3,15e3),p6="__/auth/iframe",m6="emulator/auth/iframe",g6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v6(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xw(e,m6):`https://${t.config.authDomain}/${p6}`,r={apiKey:e.apiKey,appName:t.name,v:No},i=y6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yl(r).slice(1)}`}async function w6(t){const e=await h6(t),n=St().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:v6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xt(t,"network-request-failed"),a=St().setTimeout(()=>{s(o)},f6.get());function l(){St().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E6=500,S6=600,I6="_blank",_6="http://localhost";class II{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T6(t,e,n,r=E6,i=S6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},b6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=Gk(u)?I6:n),Kk(u)&&(e=e||_6,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(nW(u)&&a!=="_self")return C6(e||"",a),new II(null);const d=window.open(e||"",a,c);U(d,t,"popup-blocked");try{d.focus()}catch{}return new II(d)}function C6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="__/auth/handler",k6="emulator/auth/handler";function Iv(t,e,n,r,i,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:i};if(e instanceof yi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof El){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${R6(t)}?${yl(a).slice(1)}`}function R6({config:t}){return t.emulator?Xw(t,k6):`https://${t.authDomain}/${x6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="webStorageSupport";class A6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ss,this._completeRedirectFn=dm,this._overrideRedirectResult=o1}async _openPopup(e,n,r,i){var s;wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Iv(e,n,r,mc(),i);return T6(e,o,Yc())}async _openRedirect(e,n,r,i){return await this._originValidation(e),cq(Iv(e,n,r,mc(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w6(e),r=new RR(e);return n.register("authEvent",i=>(U(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hg,{type:Hg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hg];o!==void 0&&n(!!o),$t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jk()||Yw()||wl()}}const PR=A6;class N6{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return $r("unexpected MultiFactorSessionType")}}}class a1 extends N6{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new a1(e)}_finalizeEnroll(e,n,r){return nq(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return bq(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class OR{constructor(){}static assertion(e){return a1._fromCredential(e)}}OR.FACTOR_ID="phone";var _I="@firebase/auth",TI="0.21.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function D6(t){is(new qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{U(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),U(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zk(t)},c=new oW(a,l,u);return Fj(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new qr("auth-internal",e=>{const n=Mt(e.getProvider("auth").getImmediate());return(r=>new P6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(_I,TI,O6(t)),yr(_I,TI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=5*60,M6=Ck("authIdTokenMaxAge")||$6;let CI=null;const L6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M6)return;const i=n==null?void 0:n.token;CI!==i&&(CI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l1(t=Hw()){const e=Gc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lj(t,{popupRedirectResolver:PR,persistence:[qa,am,ss]}),r=Ck("authTokenSyncURL");if(r){const s=L6(r);ZW(n,s,()=>s(n.currentUser)),JW(n,o=>s(o))}const i=Tk("auth");return i&&eR(n,`http://${i}`),n}D6("Browser");var F6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,u1=u1||{},le=F6||self;function If(){}function hm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function U6(t){return Object.prototype.hasOwnProperty.call(t,Kg)&&t[Kg]||(t[Kg]=++B6)}var Kg="closure_uid_"+(1e9*Math.random()>>>0),B6=0;function V6(t,e,n){return t.call.apply(t.bind,arguments)}function z6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=V6:an=z6,an.apply(null,arguments)}function Gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function en(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function bs(){this.s=this.s,this.o=this.o}var j6=0;bs.prototype.s=!1;bs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),j6!=0)&&U6(this)};bs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function c1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(hm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var W6=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",If,e),le.removeEventListener("test",If,e)}catch{}return t}();function _f(t){return/^[\s\xa0]*$/.test(t)}var kI=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gg(t,e){return t<e?-1:t>e?1:0}function fm(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return fm().indexOf(t)!=-1}function d1(t){return d1[" "](t),t}d1[" "]=If;function q6(t){var e=G6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var H6=Dr("Opera"),Ha=Dr("Trident")||Dr("MSIE"),$R=Dr("Edge"),_v=$R||Ha,MR=Dr("Gecko")&&!(fm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),K6=fm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function LR(){var t=le.document;return t?t.documentMode:void 0}var Tf;e:{var Qg="",Xg=function(){var t=fm();if(MR)return/rv:([^\);]+)(\)|;)/.exec(t);if($R)return/Edge\/([\d\.]+)/.exec(t);if(Ha)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(K6)return/WebKit\/(\S+)/.exec(t);if(H6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xg&&(Qg=Xg?Xg[1]:""),Ha){var Yg=LR();if(Yg!=null&&Yg>parseFloat(Qg)){Tf=String(Yg);break e}}Tf=Qg}var G6={};function Q6(){return q6(function(){let t=0;const e=kI(String(Tf)).split("."),n=kI("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Gg(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Gg(i[2].length==0,s[2].length==0)||Gg(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Tv;if(le.document&&Ha){var RI=LR();Tv=RI||parseInt(Tf,10)||void 0}else Tv=void 0;var X6=Tv;function wc(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MR){e:{try{d1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Y6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wc.X.h.call(this)}}en(wc,ln);var Y6={2:"touch",3:"pen",4:"mouse"};wc.prototype.h=function(){wc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ed="closure_listenable_"+(1e6*Math.random()|0),J6=0;function Z6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++J6,this.ba=this.ea=!1}function pm(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function h1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function FR(t){const e={};for(const n in t)e[n]=t[n];return e}const AI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<AI.length;s++)n=AI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mm(t){this.src=t,this.g={},this.h=0}mm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=xv(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new Z6(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Cv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function xv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var f1="closure_lm_"+(1e6*Math.random()|0),Jg={};function BR(t,e,n,r,i){if(r&&r.once)return zR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BR(t,e[s],n,r,i);return null}return n=g1(n),t&&t[ed]?t.N(e,n,Zc(r)?!!r.capture:!!r,i):VR(t,e,n,!1,r,i)}function VR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Zc(i)?!!i.capture:!!i,a=m1(t);if(a||(t[f1]=a=new mm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=eH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)W6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(WR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eH(){function t(n){return e.call(t.src,t.listener,n)}const e=tH;return t}function zR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zR(t,e[s],n,r,i);return null}return n=g1(n),t&&t[ed]?t.O(e,n,Zc(r)?!!r.capture:!!r,i):VR(t,e,n,!0,r,i)}function jR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jR(t,e[s],n,r,i);else r=Zc(r)?!!r.capture:!!r,n=g1(n),t&&t[ed]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=xv(s,n,r,i),-1<n&&(pm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=m1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xv(e,n,r,i)),(n=-1<t?e[t]:null)&&p1(n))}function p1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ed])Cv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(WR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=m1(e))?(Cv(n,t),n.h==0&&(n.src=null,e[f1]=null)):pm(t)}}}function WR(t){return t in Jg?Jg[t]:Jg[t]="on"+t}function tH(t,e){if(t.ba)t=!0;else{e=new wc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&p1(t),t=n.call(r,e)}return t}function m1(t){return t=t[f1],t instanceof mm?t:null}var Zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function g1(t){return typeof t=="function"?t:(t[Zg]||(t[Zg]=function(e){return t.handleEvent(e)}),t[Zg])}function Lt(){bs.call(this),this.i=new mm(this),this.P=this,this.I=null}en(Lt,bs);Lt.prototype[ed]=!0;Lt.prototype.removeEventListener=function(t,e,n,r){jR(this,t,e,n,r)};function Yt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var i=e;e=new ln(r,t),UR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qd(o,r,!0,e)&&i}if(o=e.g=t,i=Qd(o,r,!0,e)&&i,i=Qd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qd(o,r,!1,e)&&i}Lt.prototype.M=function(){if(Lt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pm(n[r]);delete t.g[e],t.h--}}this.I=null};Lt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Cv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var y1=le.JSON.stringify;function nH(){var t=KR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rH{constructor(){this.h=this.g=null}add(e,n){const r=qR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new iH,t=>t.reset());class iH{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sH(t){le.setTimeout(()=>{throw t},0)}function HR(t,e){kv||oH(),Rv||(kv(),Rv=!0),KR.add(t,e)}var kv;function oH(){var t=le.Promise.resolve(void 0);kv=function(){t.then(aH)}}var Rv=!1,KR=new rH;function aH(){for(var t;t=nH();){try{t.h.call(t.g)}catch(n){sH(n)}var e=qR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rv=!1}function gm(t,e){Lt.call(this),this.h=t||1,this.g=e||le,this.j=an(this.lb,this),this.l=Date.now()}en(gm,Lt);J=gm.prototype;J.ca=!1;J.R=null;J.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yt(this,"tick"),this.ca&&(v1(this),this.start()))}};J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function v1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}J.M=function(){gm.X.M.call(this),v1(this),delete this.g};function w1(t,e,n){if(typeof t=="function")n&&(t=an(t,n));else if(t&&typeof t.handleEvent=="function")t=an(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function GR(t){t.g=w1(()=>{t.g=null,t.i&&(t.i=!1,GR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class lH extends bs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GR(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bc(t){bs.call(this),this.h=t,this.g={}}en(bc,bs);var NI=[];function QR(t,e,n,r){Array.isArray(n)||(n&&(NI[0]=n.toString()),n=NI);for(var i=0;i<n.length;i++){var s=BR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XR(t){h1(t.g,function(e,n){this.g.hasOwnProperty(n)&&p1(e)},t),t.g={}}bc.prototype.M=function(){bc.X.M.call(this),XR(this)};bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ym(){this.g=!0}ym.prototype.Aa=function(){this.g=!1};function uH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function cH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+hH(t,n)+(r?" "+r:"")})}function dH(t,e){t.info(function(){return"TIMEOUT: "+e})}ym.prototype.info=function(){};function hH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return y1(n)}catch{return e}}var Oo={},PI=null;function vm(){return PI=PI||new Lt}Oo.Pa="serverreachability";function YR(t){ln.call(this,Oo.Pa,t)}en(YR,ln);function Ec(t){const e=vm();Yt(e,new YR(e))}Oo.STAT_EVENT="statevent";function JR(t,e){ln.call(this,Oo.STAT_EVENT,t),this.stat=e}en(JR,ln);function mn(t){const e=vm();Yt(e,new JR(e,t))}Oo.Qa="timingevent";function ZR(t,e){ln.call(this,Oo.Qa,t),this.size=e}en(ZR,ln);function td(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var wm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},eA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function b1(){}b1.prototype.h=null;function OI(t){return t.h||(t.h=t.i())}function tA(){}var nd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function E1(){ln.call(this,"d")}en(E1,ln);function S1(){ln.call(this,"c")}en(S1,ln);var Av;function bm(){}en(bm,b1);bm.prototype.g=function(){return new XMLHttpRequest};bm.prototype.i=function(){return{}};Av=new bm;function rd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new bc(this),this.O=fH,t=_v?125:void 0,this.T=new gm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new nA}function nA(){this.i=null,this.g="",this.h=!1}var fH=45e3,Nv={},Cf={};J=rd.prototype;J.setTimeout=function(t){this.O=t};function Pv(t,e,n){t.K=1,t.v=Sm(di(e)),t.s=n,t.P=!0,rA(t,null)}function rA(t,e){t.F=Date.now(),id(t),t.A=di(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),dA(n.i,"t",r),t.C=0,n=t.l.H,t.h=new nA,t.g=PA(t.l,n?e:null,!t.s),0<t.N&&(t.L=new lH(an(t.La,t,t.g),t.N)),QR(t.S,t.g,"readystatechange",t.ib),e=t.H?FR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ec(),uH(t.j,t.u,t.A,t.m,t.U,t.s)}J.ib=function(t){t=t.target;const e=this.L;e&&ei(t)==3?e.l():this.La(t)};J.La=function(t){try{if(t==this.g)e:{const c=ei(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||_v||this.g&&(this.h.h||this.g.fa()||LI(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Ec(3):Ec(2)),Em(this);var n=this.g.aa();this.Y=n;t:if(iA(this)){var r=LI(this.g);t="";var i=r.length,s=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),Ou(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,cH(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_f(a)){var u=a;break t}}u=null}if(n=u)ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ov(this,n);else{this.i=!1,this.o=3,mn(12),Ks(this),Ou(this);break e}}this.P?(sA(this,c,o),_v&&this.i&&c==3&&(QR(this.S,this.T,"tick",this.hb),this.T.start())):(ga(this.j,this.m,o,null),Ov(this,o)),c==4&&Ks(this),this.i&&!this.I&&(c==4?kA(this.l,this):(this.i=!1,id(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),Ks(this),Ou(this)}}}catch{}finally{}};function iA(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function sA(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=pH(t,n),i==Cf){e==4&&(t.o=4,mn(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Nv){t.o=4,mn(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ga(t.j,t.m,i,null),Ov(t,i);iA(t)&&i!=Cf&&i!=Nv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),R1(e),e.K=!0,mn(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),Ks(t),Ou(t))}J.hb=function(){if(this.g){var t=ei(this.g),e=this.g.fa();this.C<e.length&&(Em(this),sA(this,t,e),this.i&&t!=4&&id(this))}};function pH(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Cf:(n=Number(e.substring(n,r)),isNaN(n)?Nv:(r+=1,r+n>e.length?Cf:(e=e.substr(r,n),t.C=r+n,e)))}J.cancel=function(){this.I=!0,Ks(this)};function id(t){t.V=Date.now()+t.O,oA(t,t.O)}function oA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=td(an(t.gb,t),e)}function Em(t){t.B&&(le.clearTimeout(t.B),t.B=null)}J.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(dH(this.j,this.A),this.K!=2&&(Ec(),mn(17)),Ks(this),this.o=2,Ou(this)):oA(this,this.V-t)};function Ou(t){t.l.G==0||t.I||kA(t.l,t)}function Ks(t){Em(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,v1(t.T),XR(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ov(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Dv(n.h,t))){if(!t.J&&Dv(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Rf(n),Tm(n);else break e;k1(n),mn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=td(an(n.cb,n),6e3));if(1>=pA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Gs(n,11)}else if((t.J||n.g==t)&&Rf(n),!_f(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.h;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(I1(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Je(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=NA(r,r.H?r.ka:null,r.V),o.J){mA(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Em(a),id(a)),r.g=o}else CA(r);0<n.i.length&&Cm(n)}else u[0]!="stop"&&u[0]!="close"||Gs(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gs(n,7):x1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Ec(4)}catch{}}function mH(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(hm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gH(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function aA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gH(t),r=mH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var lA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function so(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof so){this.h=e!==void 0?e:t.h,xf(this,t.j),this.s=t.s,this.g=t.g,kf(this,t.m),this.l=t.l,e=t.i;var n=new Sc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DI(this,n),this.o=t.o}else t&&(n=String(t).match(lA))?(this.h=!!e,xf(this,n[1]||"",!0),this.s=pu(n[2]||""),this.g=pu(n[3]||"",!0),kf(this,n[4]),this.l=pu(n[5]||"",!0),DI(this,n[6]||"",!0),this.o=pu(n[7]||"")):(this.h=!!e,this.i=new Sc(null,this.h))}so.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mu(e,$I,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mu(e,$I,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(mu(n,n.charAt(0)=="/"?bH:wH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",mu(n,SH)),t.join("")};function di(t){return new so(t)}function xf(t,e,n){t.j=n?pu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DI(t,e,n){e instanceof Sc?(t.i=e,IH(t.i,t.h)):(n||(e=mu(e,EH)),t.i=new Sc(e,t.h))}function Je(t,e,n){t.i.set(e,n)}function Sm(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $I=/[#\/\?@]/g,wH=/[#\?:]/g,bH=/[#\?]/g,EH=/[#\?@]/g,SH=/#/g;function Sc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Es(t){t.g||(t.g=new Map,t.h=0,t.i&&yH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=Sc.prototype;J.add=function(t,e){Es(this),this.i=null,t=Sl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uA(t,e){Es(t),e=Sl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cA(t,e){return Es(t),e=Sl(t,e),t.g.has(e)}J.forEach=function(t,e){Es(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.oa=function(){Es(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.W=function(t){Es(this);let e=[];if(typeof t=="string")cA(this,t)&&(e=e.concat(this.g.get(Sl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Es(this),this.i=null,t=Sl(this,t),cA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function dA(t,e,n){uA(t,e),0<n.length&&(t.i=null,t.g.set(Sl(t,e),c1(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Sl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IH(t,e){e&&!t.j&&(Es(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uA(this,r),dA(this,i,n))},t)),t.j=e}var _H=class{constructor(e,n){this.h=e,this.g=n}};function hA(t){this.l=t||TH,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ga&&le.g.Ga()&&le.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TH=10;function fA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pA(t){return t.h?1:t.g?t.g.size:0}function Dv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function I1(t,e){t.g?t.g.add(e):t.h=e}function mA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hA.prototype.cancel=function(){if(this.i=gA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gA(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return c1(t.i)}function _1(){}_1.prototype.stringify=function(t){return le.JSON.stringify(t,void 0)};_1.prototype.parse=function(t){return le.JSON.parse(t,void 0)};function CH(){this.g=new _1}function xH(t,e,n){const r=n||"";try{aA(t,function(i,s){let o=i;Zc(i)&&(o=y1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kH(t,e){const n=new ym;if(le.Image){const r=new Image;r.onload=Gd(Xd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gd(Xd,n,r,"TestLoadImage: error",!1,e),r.onabort=Gd(Xd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gd(Xd,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sd(t){this.l=t.ac||null,this.j=t.jb||!1}en(sd,b1);sd.prototype.g=function(){return new Im(this.l,this.j)};sd.prototype.i=function(t){return function(){return t}}({});function Im(t,e){Lt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=T1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en(Im,Lt);var T1=0;J=Im.prototype;J.open=function(t,e){if(this.readyState!=T1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ic(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||le).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,od(this)),this.readyState=T1};J.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ic(this)),this.g&&(this.readyState=3,Ic(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yA(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function yA(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}J.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?od(this):Ic(this),this.readyState==3&&yA(this)}};J.Va=function(t){this.g&&(this.response=this.responseText=t,od(this))};J.Ua=function(t){this.g&&(this.response=t,od(this))};J.ga=function(){this.g&&od(this)};function od(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ic(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ic(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Im.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RH=le.JSON.parse;function ut(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vA,this.K=this.L=!1}en(ut,Lt);var vA="",AH=/^https?$/i,NH=["POST","PUT"];J=ut.prototype;J.Ka=function(t){this.L=t};J.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=this.u?OI(this.u):OI(Av),this.g.onreadystatechange=an(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){MI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=DR(NH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{EA(this),0<this.B&&((this.K=PH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.qa,this)):this.A=w1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){MI(this,s)}};function PH(t){return Ha&&Q6()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.qa=function(){typeof u1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))};function MI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wA(t),_m(t)}function wA(t){t.D||(t.D=!0,Yt(t,"complete"),Yt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yt(this,"complete"),Yt(this,"abort"),_m(this))};J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),ut.X.M.call(this)};J.Ha=function(){this.s||(this.F||this.v||this.l?bA(this):this.fb())};J.fb=function(){bA(this)};function bA(t){if(t.h&&typeof u1<"u"&&(!t.C[1]||ei(t)!=4||t.aa()!=2)){if(t.v&&ei(t)==4)w1(t.Ha,0,t);else if(Yt(t,"readystatechange"),ei(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(lA)[1]||null;if(!i&&le.self&&le.self.location){var s=le.self.location.protocol;i=s.substr(0,s.length-1)}r=!AH.test(i?i.toLowerCase():"")}n=r}if(n)Yt(t,"complete"),Yt(t,"success");else{t.m=6;try{var o=2<ei(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",wA(t)}}finally{_m(t)}}}}function _m(t,e){if(t.g){EA(t);const n=t.g,r=t.C[0]?If:null;t.g=null,t.C=null,e||Yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function EA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}function ei(t){return t.g?t.g.readyState:0}J.aa=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}};J.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RH(e)}};function LI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case vA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}J.Ea=function(){return this.m};J.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SA(t){let e="";return h1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function C1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Je(t,e,n))}function Yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IA(t){this.Ca=0,this.i=[],this.j=new ym,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yl("baseRetryDelayMs",5e3,t),this.bb=Yl("retryDelaySeedMs",1e4,t),this.$a=Yl("forwardChannelMaxRetries",2,t),this.ta=Yl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new hA(t&&t.concurrentRequestLimit),this.Fa=new CH,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}J=IA.prototype;J.ma=8;J.G=1;function x1(t){if(_A(t),t.G==3){var e=t.U++,n=di(t.F);Je(n,"SID",t.I),Je(n,"RID",e),Je(n,"TYPE","terminate"),ad(t,n),e=new rd(t,t.j,e,void 0),e.K=2,e.v=Sm(di(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(e.v.toString(),"")),!n&&le.Image&&(new Image().src=e.v,n=!0),n||(e.g=PA(e.l,null),e.g.da(e.v)),e.F=Date.now(),id(e)}AA(t)}function Tm(t){t.g&&(R1(t),t.g.cancel(),t.g=null)}function _A(t){Tm(t),t.u&&(le.clearTimeout(t.u),t.u=null),Rf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function Cm(t){fA(t.h)||t.m||(t.m=!0,HR(t.Ja,t),t.C=0)}function OH(t,e){return pA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=td(an(t.Ja,t,e),RA(t,t.C)),t.C++,!0)}J.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new rd(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=FR(s),UR(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TA(this,i,e),n=di(this.F),Je(n,"RID",t),Je(n,"CVER",22),this.D&&Je(n,"X-HTTP-Session-Id",this.D),ad(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(SA(s)))+"&"+e:this.o&&C1(n,this.o,s)),I1(this.h,i),this.Ya&&Je(n,"TYPE","init"),this.O?(Je(n,"$req",e),Je(n,"SID","null"),i.Z=!0,Pv(i,n,null)):Pv(i,n,e),this.G=2}}else this.G==3&&(t?FI(this,t):this.i.length==0||fA(this.h)||FI(this))};function FI(t,e){var n;e?n=e.m:n=t.U++;const r=di(t.F);Je(r,"SID",t.I),Je(r,"RID",n),Je(r,"AID",t.T),ad(t,r),t.o&&t.s&&C1(r,t.o,t.s),n=new rd(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=TA(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),I1(t.h,n),Pv(n,r,e)}function ad(t,e){t.ia&&h1(t.ia,function(n,r){Je(e,r,n)}),t.l&&aA({},function(n,r){Je(e,r,n)})}function TA(t,e,n){n=Math.min(t.i.length,n);var r=t.l?an(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{xH(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function CA(t){t.g||t.u||(t.Z=1,HR(t.Ia,t),t.A=0)}function k1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=td(an(t.Ia,t),RA(t,t.A)),t.A++,!0)}J.Ia=function(){if(this.u=null,xA(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=td(an(this.eb,this),t)}};J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mn(10),Tm(this),xA(this))};function R1(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function xA(t){t.g=new rd(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=di(t.sa);Je(e,"RID","rpc"),Je(e,"SID",t.I),Je(e,"CI",t.L?"0":"1"),Je(e,"AID",t.T),Je(e,"TYPE","xmlhttp"),ad(t,e),t.o&&t.s&&C1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Sm(di(e)),n.s=null,n.P=!0,rA(n,t)}J.cb=function(){this.v!=null&&(this.v=null,Tm(this),k1(this),mn(19))};function Rf(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function kA(t,e){var n=null;if(t.g==e){Rf(t),R1(t),t.g=null;var r=2}else if(Dv(t.h,e))n=e.D,mA(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=vm(),Yt(r,new ZR(r,n)),Cm(t)}else CA(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&OH(t,e)||r==2&&k1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}}function RA(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Gs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=an(t.kb,t);n||(n=new so("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||xf(n,"https"),Sm(n)),kH(n.toString(),r)}else mn(2);t.G=0,t.l&&t.l.va(e),AA(t),_A(t)}J.kb=function(t){t?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function AA(t){if(t.G=0,t.la=[],t.l){const e=gA(t.h);(e.length!=0||t.i.length!=0)&&(xI(t.la,e),xI(t.la,t.i),t.h.i.length=0,c1(t.i),t.i.length=0),t.l.ua()}}function NA(t,e,n){var r=n instanceof so?di(n):new so(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),kf(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new so(null,void 0);r&&xf(s,r),e&&(s.g=e),i&&kf(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Je(r,n,e),Je(r,"VER",t.ma),ad(t,r),r}function PA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ut(new sd({jb:!0})):new ut(t.ra),e.Ka(t.H),e}function OA(){}J=OA.prototype;J.xa=function(){};J.wa=function(){};J.va=function(){};J.ua=function(){};J.Ra=function(){};function Af(){if(Ha&&!(10<=Number(X6)))throw Error("Environmental error: no available transport.")}Af.prototype.g=function(t,e){return new Wn(t,e)};function Wn(t,e){Lt.call(this),this.g=new IA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!_f(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_f(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Il(this)}en(Wn,Lt);Wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=NA(t,null,t.V),Cm(t)};Wn.prototype.close=function(){x1(this.g)};Wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=y1(t),t=n);e.i.push(new _H(e.ab++,t)),e.G==3&&Cm(e)};Wn.prototype.M=function(){this.g.l=null,delete this.j,x1(this.g),delete this.g,Wn.X.M.call(this)};function DA(t){E1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}en(DA,E1);function $A(){S1.call(this),this.status=1}en($A,S1);function Il(t){this.g=t}en(Il,OA);Il.prototype.xa=function(){Yt(this.g,"a")};Il.prototype.wa=function(t){Yt(this.g,new DA(t))};Il.prototype.va=function(t){Yt(this.g,new $A)};Il.prototype.ua=function(){Yt(this.g,"b")};Af.prototype.createWebChannel=Af.prototype.g;Wn.prototype.send=Wn.prototype.u;Wn.prototype.open=Wn.prototype.m;Wn.prototype.close=Wn.prototype.close;wm.NO_ERROR=0;wm.TIMEOUT=8;wm.HTTP_ERROR=6;eA.COMPLETE="complete";tA.EventType=nd;nd.OPEN="a";nd.CLOSE="b";nd.ERROR="c";nd.MESSAGE="d";Lt.prototype.listen=Lt.prototype.N;ut.prototype.listenOnce=ut.prototype.O;ut.prototype.getLastError=ut.prototype.Oa;ut.prototype.getLastErrorCode=ut.prototype.Ea;ut.prototype.getStatus=ut.prototype.aa;ut.prototype.getResponseJson=ut.prototype.Sa;ut.prototype.getResponseText=ut.prototype.fa;ut.prototype.send=ut.prototype.da;ut.prototype.setWithCredentials=ut.prototype.Ka;var DH=function(){return new Af},$H=function(){return vm()},ey=wm,MH=eA,LH=Oo,UI={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},FH=sd,Yd=tA,UH=ut;const BI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="9.17.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Jp("@firebase/firestore");function $v(){return os.logLevel}function BH(t){os.setLogLevel(t)}function M(t,...e){if(os.logLevel<=Se.DEBUG){const n=e.map(A1);os.debug(`Firestore (${_l}): ${t}`,...n)}}function pt(t,...e){if(os.logLevel<=Se.ERROR){const n=e.map(A1);os.error(`Firestore (${_l}): ${t}`,...n)}}function Ka(t,...e){if(os.logLevel<=Se.WARN){const n=e.map(A1);os.warn(`Firestore (${_l}): ${t}`,...n)}}function A1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+t;throw pt(e),new Error(e)}function Z(t,e){t||K()}function VH(t,e){t||K()}function W(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class jH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WH{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new MA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new Nt(e)}}class qH{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Z(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class HH{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new qH(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GH{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.A=n.token,new KH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function FA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new et(0,0))}static max(){return new ee(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends _c{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const XH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends _c{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return XH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(we.fromString(e))}static fromName(e){return new j(we.fromString(e).popFirst(5))}static empty(){return new j(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new we(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Mv(t){return t.fields.find(e=>e.kind===2)}function Ds(t){return t.fields.filter(e=>e.kind!==2)}UA.UNKNOWN_ID=-1;class YH{constructor(e,n){this.fieldPath=e,this.kind=n}}class Nf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Nf(0,qn.min())}}function BA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new qn(i,j.empty(),e)}function VA(t){return new qn(t.readTime,t.key,-1)}class qn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qn(ee.min(),j.empty(),-1)}static max(){return new qn(ee.max(),j.empty(),-1)}}function N1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==zA)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Dt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Du(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=P1(r.target.error);this.v.reject(new Du(e,i))}}static open(e,n,r,i){try{return new xm(n,e.transaction(i,r))}catch(s){throw new Du(n,s)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ZH(n)}}class pr{constructor(e,n,r){this.name=e,this.version=n,this.S=r,pr.D(it())===12.2&&pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),Ms(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!hc())return!1;if(pr.N())return!0;const e=it(),n=pr.D(e),r=0<n&&n<10,i=pr.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(M("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Du(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Du(e,o))},i.onupgradeneeded=s=>{M("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{M("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=xm.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.V(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return l.catch(()=>{}),await a.P,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(M("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class JH{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ms(this.q.delete())}}class Du extends ${constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Is(t){return t.name==="IndexedDbTransactionError"}class ZH{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(M("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ms(r)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),Ms(this.store.add(e))}get(e){return Ms(this.store.get(e)).next(n=>(n===void 0&&(n=null),M("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),Ms(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),Ms(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new x((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){M("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{const o=P1(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new JH(a),u=n(a.primaryKey,a.value,l);if(u instanceof x){const c=u.catch(d=>(l.done(),x.reject(d)));r.push(c)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ms(t){return new x((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=P1(r.target.error);n(i)}})}let VI=!1;function P1(t){const e=pr.D(it());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VI||(VI=!0,setTimeout(()=>{throw r},0)),r}}return t}class eK{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){M("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{M("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Is(n)?M("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ss(n)}await this.nt(6e4)})}}class tK{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return M("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(M("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=VA(s);N1(o,r)>0&&(r=o)}),new qn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Tn.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class as{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new as("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof as&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function qA(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new rK("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const sK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(Z(!!t),typeof t=="string"){let e=0;const n=sK.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HA(t){const e=t.mapValue.fields.__previous_value__;return O1(e)?HA(e):e}function Cc(t){const e=ls(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_h={nullValue:"NULL_VALUE"};function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O1(t)?4:KA(t)?9007199254740991:10:K()}function Kr(t,e){if(t===e)return!0;const n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cc(t).isEqual(Cc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ls(r.timestampValue),o=ls(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return yo(r.bytesValue).isEqual(yo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?Tc(s)===Tc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zI(s)!==zI(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Kr(s[a],o[a])))return!1;return!0}(t,e);default:return K()}}function xc(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function us(t,e){if(t===e)return 0;const n=vo(t),r=vo(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return jI(t.timestampValue,e.timestampValue);case 4:return jI(Cc(t),Cc(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,s){const o=yo(i),a=yo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ce(o[l],a[l]);if(u!==0)return u}return ce(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ce(lt(i.latitude),lt(s.latitude));return o!==0?o:ce(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=us(o[l],a[l]);if(u)return u}return ce(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ui.mapValue&&s===Ui.mapValue)return 0;if(i===Ui.mapValue)return 1;if(s===Ui.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ce(a[c],u[c]);if(d!==0)return d;const h=us(o[a[c]],l[u[c]]);if(h!==0)return h}return ce(a.length,u.length)}(t.mapValue,e.mapValue);default:throw K()}}function jI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=ls(t),r=ls(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Qa(t){return Lv(t)}function Lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ls(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?yo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,j.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Lv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Lv(r.fields[a])}`;return s+"}"}(t.mapValue):K();var e,n}function wo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fv(t){return!!t&&"integerValue"in t}function kc(t){return!!t&&"arrayValue"in t}function WI(t){return!!t&&"nullValue"in t}function qI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function $u(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$u(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function oK(t){return"nullValue"in t?_h:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?wo(as.empty(),j.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:K()}function aK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?wo(as.empty(),j.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ui:K()}function HI(t,e){const n=us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function KI(t,e){const n=us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.position=e,this.inclusive=n}}function GI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=us(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{}class me extends GA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lK(e,n,r):n==="array-contains"?new dK(e,r):n==="in"?new eN(e,r):n==="not-in"?new hK(e,r):n==="array-contains-any"?new fK(e,r):new me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uK(e,r):new cK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(us(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pe extends GA{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new Pe(e,n)}matches(e){return Xa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Xa(t){return t.op==="and"}function Uv(t){return t.op==="or"}function D1(t){return QA(t)&&Xa(t)}function QA(t){for(const e of t.filters)if(e instanceof Pe)return!1;return!0}function Bv(t){if(t instanceof me)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(D1(t))return t.filters.map(e=>Bv(e)).join(",");{const e=t.filters.map(n=>Bv(n)).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof me?function(n,r){return r instanceof me&&n.op===r.op&&n.field.isEqual(r.field)&&Kr(n.value,r.value)}(t,e):t instanceof Pe?function(n,r){return r instanceof Pe&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&XA(s,r.filters[o]),!0):!1}(t,e):void K()}function YA(t,e){const n=t.filters.concat(e);return Pe.create(n,t.op)}function JA(t){return t instanceof me?function(e){return`${e.field.canonicalString()} ${e.op} ${Qa(e.value)}`}(t):t instanceof Pe?function(e){return e.op.toString()+" {"+e.getFilters().map(JA).join(" ,")+"}"}(t):"Filter"}class lK extends me{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}}class uK extends me{constructor(e,n){super(e,"in",n),this.keys=ZA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cK extends me{constructor(e,n){super(e,"not-in",n),this.keys=ZA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}class dK extends me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kc(n)&&xc(n.arrayValue,this.value)}}class eN extends me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xc(this.value.arrayValue,n)}}class hK extends me{constructor(e,n){super(e,"not-in",n)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xc(this.value.arrayValue,n)}}class fK extends me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function pK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XI(this.data.getIterator())}getIteratorFrom(e){return new XI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class XI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ko(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ue(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$u(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Do(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt($u(this.value))}}function tN(t){const e=[];return Do(t.fields,(n,r)=>{const i=new mt([n]);if(Th(r)){const s=tN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,ee.min(),ee.min(),ee.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new He(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new He(e,2,n,ee.min(),ee.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,ee.min(),ee.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function Vv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mK(t,e,n,r,i,s,o)}function bo(t){const e=W(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e._t=n}return e._t}function ud(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QI(t.startAt,e.startAt)&&QI(t.endAt,e.endAt)}function Pf(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Of(t,e){return t.filters.filter(n=>n instanceof me&&n.field.isEqual(e))}function YI(t,e,n){let r=_h,i=!0;for(const s of Of(t,e)){let o=_h,a=!0;switch(s.op){case"<":case"<=":o=oK(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=_h}HI({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];HI({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function JI(t,e,n){let r=Ui,i=!0;for(const s of Of(t,e)){let o=Ui,a=!0;switch(s.op){case">=":case">":o=aK(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ui}KI({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];KI({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this.gt=null,this.startAt,this.endAt}}function nN(t,e,n,r,i,s,o,a){return new vi(t,e,n,r,i,s,o,a)}function Tl(t){return new vi(t)}function ZI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function km(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function M1(t){return t.collectionGroup!==null}function oo(t){const e=W(t);if(e.wt===null){e.wt=[];const n=km(e),r=$1(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Aa(n)),e.wt.push(new Aa(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Aa(mt.keyField(),s))}}}return e.wt}function On(t){const e=W(t);if(!e.gt)if(e.limitType==="F")e.gt=Vv(e.path,e.collectionGroup,oo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of oo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Aa(s.field,o))}const r=e.endAt?new cs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new cs(e.startAt.position,e.startAt.inclusive):null;e.gt=Vv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function zv(t,e){e.getFirstInequalityField(),km(t);const n=t.filters.concat([e]);return new vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Df(t,e,n){return new vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return ud(On(t),On(e))&&t.limitType===e.limitType}function rN(t){return`${bo(On(t))}|lt:${t.limitType}`}function jv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>JA(r)).join(", ")}]`),ld(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),`Target(${n})`}(On(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):j.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of oo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=GI(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,oo(n),r)||n.endAt&&!function(i,s,o){const a=GI(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,oo(n),r))}(t,e)}function iN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sN(t){return(e,n)=>{let r=!1;for(const i of oo(t)){const s=gK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gK(t,e,n){const r=t.field.isKeyField()?j.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?us(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function aN(t){return{integerValue:""+t}}function lN(t,e){return qA(e)?aN(e):oN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this._=void 0}}function yK(t,e,n){return t instanceof Ya?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Eo?cN(t,e):t instanceof So?dN(t,e):function(r,i){const s=uN(r,i),o=e_(s)+e_(r.It);return Fv(s)&&Fv(r.It)?aN(o):oN(r.Tt,o)}(t,e)}function vK(t,e,n){return t instanceof Eo?cN(t,e):t instanceof So?dN(t,e):n}function uN(t,e){return t instanceof Ja?Fv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ya extends Rm{}class Eo extends Rm{constructor(e){super(),this.elements=e}}function cN(t,e){const n=hN(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class So extends Rm{constructor(e){super(),this.elements=e}}function dN(t,e){let n=hN(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class Ja extends Rm{constructor(e,n){super(),this.Tt=e,this.It=n}}function e_(t){return lt(t.integerValue||t.doubleValue)}function hN(t){return kc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.field=e,this.transform=n}}function wK(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Eo&&r instanceof Eo||n instanceof So&&r instanceof So?Ga(n.elements,r.elements,Kr):n instanceof Ja&&r instanceof Ja?Kr(n.It,r.It):n instanceof Ya&&r instanceof Ya}(t.transform,e.transform)}class bK{constructor(e,n){this.version=e,this.transformResults=n}}class Ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Am{}function fN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xl(t.key,Ze.none()):new Cl(t.key,t.data,Ze.none());{const n=t.data,r=Gt.empty();let i=new Ue(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wi(t.key,r,new Cn(i.toArray()),Ze.none())}}function EK(t,e,n){t instanceof Cl?function(r,i,s){const o=r.value.clone(),a=n_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof wi?function(r,i,s){if(!Ch(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=n_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(pN(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mu(t,e,n,r){return t instanceof Cl?function(i,s,o,a){if(!Ch(i.precondition,s))return o;const l=i.value.clone(),u=r_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof wi?function(i,s,o,a){if(!Ch(i.precondition,s))return o;const l=r_(i.fieldTransforms,a,s),u=s.data;return u.setAll(pN(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Ch(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function SK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uN(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ga(n,r,(i,s)=>wK(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends Am{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wi extends Am{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n_(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vK(o,a,n[i]))}return r}function r_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yK(s,o,e))}return r}class xl extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L1 extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ve;function mN(t){switch(t){default:return K();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function gN(t){if(t===void 0)return pt("GRPC error has no .code"),R.UNKNOWN;switch(t){case vt.OK:return R.OK;case vt.CANCELLED:return R.CANCELLED;case vt.UNKNOWN:return R.UNKNOWN;case vt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case vt.INTERNAL:return R.INTERNAL;case vt.UNAVAILABLE:return R.UNAVAILABLE;case vt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case vt.NOT_FOUND:return R.NOT_FOUND;case vt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case vt.ABORTED:return R.ABORTED;case vt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case vt.DATA_LOSS:return R.DATA_LOSS;default:return K()}}(ve=vt||(vt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=new ct(j.comparator);function xn(){return _K}const yN=new ct(j.comparator);function gu(...t){let e=yN;for(const n of t)e=e.insert(n.key,n);return e}function vN(t){let e=yN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mr(){return Lu()}function wN(){return Lu()}function Lu(){return new _s(t=>t.toString(),(t,e)=>t.isEqual(e))}const TK=new ct(j.comparator),CK=new Ue(j.comparator);function de(...t){let e=CK;for(const n of t)e=e.add(n);return e}const xK=new Ue(ce);function Nm(){return xK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fd(ee.min(),i,Nm(),xn(),de())}}class pd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pd(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class bN{constructor(e,n){this.targetId=e,this.Rt=n}}class EN{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i_{constructor(){this.bt=0,this.vt=o_(),this.Pt=_t.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return this.bt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=de(),n=de(),r=de();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new pd(this.Pt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=o_()}Ot(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class kK{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=xn(),this.Kt=s_(),this.Gt=new Ue(ce)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(Pf(s))if(r===0){const o=new j(s.path);this.zt(n,o,He.newNoDocument(o,ee.min()))}else Z(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Pf(a.target)){const l=new j(a.target.path);this.Ut.get(l)!==null||this.ne(o,l)||this.zt(o,l,He.newNoDocument(l,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=de();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new fd(e,n,this.Gt,this.Ut,r);return this.Ut=xn(),this.Kt=s_(),this.Gt=new Ue(ce),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).Ot(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.Ot(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let n=this.qt.get(e);return n||(n=new i_,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new Ue(ce),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new i_),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function s_(){return new ct(j.comparator)}function o_(){return new ct(j.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),AK=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),NK=(()=>({and:"AND",or:"OR"}))();class PK{constructor(e,n){this.databaseId=e,this.yt=n}}function Za(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SN(t,e){return t.yt?e.toBase64():e.toUint8Array()}function OK(t,e){return Za(t,e.toTimestamp())}function gt(t){return Z(!!t),ee.fromTimestamp(function(e){const n=ls(e);return new et(n.seconds,n.nanos)}(t))}function F1(t,e){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function IN(t){const e=we.fromString(t);return Z(PN(e)),e}function Rc(t,e){return F1(t.databaseId,e.path)}function jr(t,e){const n=IN(e);if(n.get(1)!==t.databaseId.projectId)throw new $(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(TN(n))}function Wv(t,e){return F1(t.databaseId,e)}function _N(t){const e=IN(t);return e.length===4?we.emptyPath():TN(e)}function Ac(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TN(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function a_(t,e,n){return{name:Rc(t,e),fields:n.value.mapValue.fields}}function CN(t,e,n){const r=jr(t,e.name),i=gt(e.updateTime),s=e.createTime?gt(e.createTime):ee.min(),o=new Gt({mapValue:{fields:e.fields}}),a=He.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function DK(t,e){return"found"in e?function(n,r){Z(!!r.found),r.found.name,r.found.updateTime;const i=jr(n,r.found.name),s=gt(r.found.updateTime),o=r.found.createTime?gt(r.found.createTime):ee.min(),a=new Gt({mapValue:{fields:r.found.fields}});return He.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){Z(!!r.missing),Z(!!r.readTime);const i=jr(n,r.missing),s=gt(r.readTime);return He.newNoDocument(i,s)}(t,e):K()}function $K(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.yt?(Z(u===void 0||typeof u=="string"),_t.fromBase64String(u||"")):(Z(u===void 0||u instanceof Uint8Array),_t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?R.UNKNOWN:gN(l.code);return new $(u,l.message||"")}(o);n=new EN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jr(t,r.document.name),s=gt(r.document.updateTime),o=r.document.createTime?gt(r.document.createTime):ee.min(),a=new Gt({mapValue:{fields:r.document.fields}}),l=He.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jr(t,r.document),s=r.readTime?gt(r.readTime):ee.min(),o=He.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jr(t,r.document),s=r.removedTargetIds||[];n=new xh([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new IK(i),o=r.targetId;n=new bN(o,s)}}return n}function Nc(t,e){let n;if(e instanceof Cl)n={update:a_(t,e.key,e.value)};else if(e instanceof xl)n={delete:Rc(t,e.key)};else if(e instanceof wi)n={update:a_(t,e.key,e.data),updateMask:VK(e.fieldMask)};else{if(!(e instanceof L1))return K();n={verify:Rc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ya)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof So)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ja)return{fieldPath:s.field.canonicalString(),increment:o.It};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:OK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:K()}(t,e.precondition)),n}function qv(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ze.updateTime(gt(i.updateTime)):i.exists!==void 0?Ze.exists(i.exists):Ze.none()}(e.currentDocument):Ze.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)Z(o.setToServerValue==="REQUEST_TIME"),a=new Ya;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new Eo(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new So(u)}else"increment"in o?a=new Ja(s,o.increment):K();const l=mt.fromServerFormat(o.fieldPath);return new hd(l,a)}(t,i)):[];if(e.update){e.update.name;const i=jr(t,e.update.name),s=new Gt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Cn(l.map(u=>mt.fromServerFormat(u)))}(e.updateMask);return new wi(i,s,o,n,r)}return new Cl(i,s,n,r)}if(e.delete){const i=jr(t,e.delete);return new xl(i,n)}if(e.verify){const i=jr(t,e.verify);return new L1(i,n)}return K()}function MK(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?gt(r.updateTime):gt(i);return s.isEqual(ee.min())&&(s=gt(i)),new bK(s,r.transformResults||[])}(n,e))):[]}function xN(t,e){return{documents:[Wv(t,e.path)]}}function kN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Wv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return NN(Pe.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Xo(c.field),direction:FK(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.yt||ld(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function RN(t){let e=_N(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=AN(c);return d instanceof Pe&&D1(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Aa(Yo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ld(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new cs(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new cs(h,d)}(n.endAt)),nN(e,i,o,s,a,"F",l,u)}function LK(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function AN(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Yo(e.unaryFilter.field);return me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Yo(e.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yo(e.unaryFilter.field);return me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yo(e.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(e){return me.create(Yo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Pe.create(e.compositeFilter.filters.map(n=>AN(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(t):K()}function FK(t){return RK[t]}function UK(t){return AK[t]}function BK(t){return NK[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return mt.fromServerFormat(t.fieldPath)}function NN(t){return t instanceof me?function(e){if(e.op==="=="){if(qI(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NAN"}};if(WI(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qI(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NAN"}};if(WI(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(e.field),op:UK(e.op),value:e.value}}}(t):t instanceof Pe?function(e){const n=e.getFilters().map(r=>NN(r));return n.length===1?n[0]:{compositeFilter:{op:BK(e.op),filters:n}}}(t):K()}function VK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l_(e)),e=zK(t.get(n),e);return l_(e)}function zK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function l_(t){return t+""}function Lr(t){const e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),we.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&K(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:K()}s=o+2}return new we(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e){return[t,vn(e)]}function ON(t,e,n){return[t,vn(e),n]}const jK={},WK=["prefixPath","collectionGroup","readTime","documentId"],qK=["prefixPath","collectionGroup","documentId"],HK=["collectionGroup","readTime","prefixPath","documentId"],KK=["canonicalId","targetId"],GK=["targetId","path"],QK=["path","targetId"],XK=["collectionId","parent"],YK=["indexId","uid"],JK=["uid","sequenceNumber"],ZK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],e8=["indexId","uid","orderedDocumentKey"],t8=["userId","collectionPath","documentId"],n8=["userId","collectionPath","largestBatchId"],r8=["userId","collectionGroup","largestBatchId"],DN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],i8=[...DN,"documentOverlays"],$N=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MN=$N,s8=[...MN,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends jA{constructor(e,n){super(),this.re=e,this.currentSequenceNumber=n}}function Bt(t,e){const n=W(t);return pr.M(n.re,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>t_(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>t_(n,r))}}class B1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=TK;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new B1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=_t.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.oe=e}}function o8(t,e){let n;if(e.document)n=CN(t.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=j.fromSegments(e.noDocument.path),i=_o(e.noDocument.readTime);n=He.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return K();{const r=j.fromSegments(e.unknownDocument.path),i=_o(e.unknownDocument.version);n=He.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new et(r[0],r[1]);return ee.fromTimestamp(i)}(e.readTime)),n}function c_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$f(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Rc(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Za(i,s.version.toTimestamp()),createTime:Za(i,s.createTime.toTimestamp())}}(t.oe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Io(e.version)};else{if(!e.isUnknownDocument())return K();r.unknownDocument={path:n.path.toArray(),version:Io(e.version)}}return r}function $f(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Io(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _o(t){const e=new et(t.seconds,t.nanoseconds);return ee.fromTimestamp(e)}function Ls(t,e){const n=(e.baseMutations||[]).map(s=>qv(t.oe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>qv(t.oe,s)),i=et.fromMillis(e.localWriteTimeMs);return new U1(e.batchId,i,n,r)}function yu(t){const e=_o(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_o(t.lastLimboFreeSnapshotVersion):ee.min();let r;var i;return t.query.documents!==void 0?(Z((i=t.query).documents.length===1),r=On(Tl(_N(i.documents[0])))):r=function(s){return On(RN(s))}(t.query),new Xi(r,t.targetId,0,t.lastListenSequenceNumber,e,n,_t.fromBase64String(t.resumeToken))}function FN(t,e){const n=Io(e.snapshotVersion),r=Io(e.lastLimboFreeSnapshotVersion);let i;i=Pf(e.target)?xN(t.oe,e.target):kN(t.oe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function z1(t){const e=RN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Df(e,e.limit,"L"):e}function ty(t,e){return new V1(e.largestBatchId,qv(t.oe,e.overlayMutation))}function d_(t,e){const n=e.path.lastSegment();return[t,vn(e.path.popLast()),n]}function h_(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Io(r.readTime),documentKey:vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{getBundleMetadata(e,n){return f_(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:_o(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return f_(e).put({bundleId:(r=n).id,createTime:Io(gt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return p_(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:z1(i.bundledQuery),readTime:_o(i.readTime)};var i})}saveNamedQuery(e,n){return p_(e).put(function(r){return{name:r.name,readTime:Io(gt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function f_(t){return Bt(t,"bundles")}function p_(t){return Bt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.Tt=e,this.userId=n}static ue(e,n){const r=n.uid||"";return new Pm(e,r)}getOverlay(e,n){return Jl(e).get(d_(this.userId,n)).next(r=>r?ty(this.Tt,r):null)}getOverlays(e,n){const r=Mr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new V1(n,o);i.push(this.ce(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(vn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Jl(e).Y("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Mr(),s=vn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Jl(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=ty(this.Tt,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Mr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Jl(e).X({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=ty(this.Tt,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}ce(e,n){return Jl(e).put(function(r,i,s){const[o,a,l]=d_(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Nc(r.oe,s.mutation)}}(this.Tt,this.userId,n))}}function Jl(t){return Bt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){}ae(e,n){this.he(e,n),n.le()}he(e,n){if("nullValue"in e)this.fe(n,5);else if("booleanValue"in e)this.fe(n,10),n.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(n,15),n.de(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.fe(n,13):(this.fe(n,15),Tc(r)?n.de(0):n.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(n,20),typeof r=="string"?n._e(r):(n._e(`${r.seconds||""}`),n.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,n),this.me(n);else if("bytesValue"in e)this.fe(n,30),n.ge(yo(e.bytesValue)),this.me(n);else if("referenceValue"in e)this.ye(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(n,45),n.de(r.latitude||0),n.de(r.longitude||0)}else"mapValue"in e?KA(e)?this.fe(n,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,n),this.me(n)):"arrayValue"in e?(this.Ie(e.arrayValue,n),this.me(n)):K()}we(e,n){this.fe(n,25),this.Te(e,n)}Te(e,n){n._e(e)}pe(e,n){const r=e.fields||{};this.fe(n,55);for(const i of Object.keys(r))this.we(i,n),this.he(r[i],n)}Ie(e,n){const r=e.values||[];this.fe(n,50);for(const i of r)this.he(i,n)}ye(e,n){this.fe(n,37),j.fromName(e).path.forEach(r=>{this.fe(n,60),this.Te(r,n)})}fe(e,n){e.de(n)}me(e){e.de(2)}}Fs.Ee=new Fs;function l8(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function m_(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=l8(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class u8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.be()}ve(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Pe(r.value),r=n.next();this.Ve()}Se(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.be()}De(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=n.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.Ve()}Ce(e){const n=this.xe(e),r=m_(n);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}ke(e){const n=this.xe(e),r=m_(n);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Re(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;n===0?(this.$e(0),this.$e(255)):n===255?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class c8{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class d8{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class Zl{constructor(){this.Le=new u8,this.qe=new c8(this.Le),this.Ue=new d8(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return e===0?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ge(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Us(this.indexId,this.documentKey,this.arrayValue,r)}}function Ci(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=g_(t.arrayValue,e.arrayValue),n!==0?n:(n=g_(t.directionalValue,e.directionalValue),n!==0?n:j.comparator(t.documentKey,e.documentKey)))}function g_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const n of e.filters){const r=n;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){Z(e.collectionGroup===this.collectionId);const n=Mv(e);if(n!==void 0&&!this.He(n))return!1;const r=Ds(e);let i=0,s=0;for(;i<r.length&&this.He(r[i]);++i);if(i===r.length)return!0;if(this.ze!==void 0){const o=r[i];if(!this.Je(this.ze,o)||!this.Ye(this.Qe[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Qe.length||!this.Ye(this.Qe[s++],o))return!1}return!0}He(e){for(const n of this.je)if(this.Je(n,e))return!0;return!1}Je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Ye(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){var e,n;if(Z(t instanceof me||t instanceof Pe),t instanceof me){if(t instanceof eN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>me.create(t.field,"==",s)))||[];return Pe.create(i,"or")}return t}const r=t.filters.map(i=>UN(i));return Pe.create(r,t.op)}function f8(t){if(t.getFilters().length===0)return[];const e=Qv(UN(t));return Z(BN(e)),Kv(e)||Gv(e)?[e]:e.getFilters()}function Kv(t){return t instanceof me}function Gv(t){return t instanceof Pe&&D1(t)}function BN(t){return Kv(t)||Gv(t)||function(e){if(e instanceof Pe&&Uv(e)){for(const n of e.getFilters())if(!Kv(n)&&!Gv(n))return!1;return!0}return!1}(t)}function Qv(t){if(Z(t instanceof me||t instanceof Pe),t instanceof me)return t;if(t.filters.length===1)return Qv(t.filters[0]);const e=t.filters.map(r=>Qv(r));let n=Pe.create(e,t.op);return n=Mf(n),BN(n)?n:(Z(n instanceof Pe),Z(Xa(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>j1(r,i)))}function j1(t,e){let n;return Z(t instanceof me||t instanceof Pe),Z(e instanceof me||e instanceof Pe),n=t instanceof me?e instanceof me?function(r,i){return Pe.create([r,i],"and")}(t,e):y_(t,e):e instanceof me?y_(e,t):function(r,i){if(Z(r.filters.length>0&&i.filters.length>0),Xa(r)&&Xa(i))return YA(r,i.getFilters());const s=Uv(r)?r:i,o=Uv(r)?i:r,a=s.filters.map(l=>j1(l,o));return Pe.create(a,"or")}(t,e),Mf(n)}function y_(t,e){if(Xa(e))return YA(e,t.getFilters());{const n=e.filters.map(r=>j1(t,r));return Pe.create(n,"or")}}function Mf(t){if(Z(t instanceof me||t instanceof Pe),t instanceof me)return t;const e=t.getFilters();if(e.length===1)return Mf(e[0]);if(QA(t))return t;const n=e.map(i=>Mf(i)),r=[];return n.forEach(i=>{i instanceof me?r.push(i):i instanceof Pe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Pe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.Ze=new W1}addToCollectionParentIndex(e,n){return this.Ze.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(qn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class W1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ue(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Uint8Array(0);class m8{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new W1,this.tn=new _s(r=>bo(r),(r,i)=>ud(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const s={collectionId:r,parent:vn(i)};return v_(e).put(s)}return x.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[FA(n),""],!1,!0);return v_(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Lr(o.parent))}return r})}addFieldIndex(e,n){const r=eh(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=tu(e);return s.next(a=>{o.put(h_(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=eh(e),i=tu(e),s=eu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=eu(e);let i=!0;const s=new Map;return x.forEach(this.en(n),o=>this.nn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=de();const a=[];return x.forEach(s,(l,u)=>{var c;M("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${bo(n)}`);const d=function(v,b){const _=Mv(b);if(_===void 0)return null;for(const C of Of(v,_.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,l),h=function(v,b){const _=new Map;for(const C of Ds(b))for(const T of Of(v,C.fieldPath))switch(T.op){case"==":case"in":_.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return _.set(C.fieldPath.canonicalString(),T.value),Array.from(_.values())}return null}(u,l),p=function(v,b){const _=[];let C=!0;for(const T of Ds(b)){const k=T.kind===0?YI(v,T.fieldPath,v.startAt):JI(v,T.fieldPath,v.startAt);_.push(k.value),C&&(C=k.inclusive)}return new cs(_,C)}(u,l),f=function(v,b){const _=[];let C=!0;for(const T of Ds(b)){const k=T.kind===0?JI(v,T.fieldPath,v.endAt):YI(v,T.fieldPath,v.endAt);_.push(k.value),C&&(C=k.inclusive)}return new cs(_,C)}(u,l),m=this.sn(l,u,p),E=this.sn(l,u,f),y=this.rn(l,u,h),g=this.on(l.indexId,d,m,p.inclusive,E,f.inclusive,y);return x.forEach(g,v=>r.J(v,n.limit).next(b=>{b.forEach(_=>{const C=j.fromSegments(_.documentKey);o.has(C)||(o=o.add(C),a.push(C))})}))}).next(()=>a)}return x.resolve(null)})}en(e){let n=this.tn.get(e);return n||(e.filters.length===0?n=[e]:n=f8(Pe.create(e.filters,"and")).map(r=>Vv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,n),n)}on(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.un(n[d/u]):Zd,p=this.cn(e,h,r[d%u],i),f=this.an(e,h,s[d%u],o),m=a.map(E=>this.cn(e,h,E,!0));c.push(...this.createRange(p,f,m))}return c}cn(e,n,r,i){const s=new Us(e,j.empty(),n,r);return i?s:s.Ge()}an(e,n,r,i){const s=new Us(e,j.empty(),n,r);return i?s.Ge():s}nn(e,n){const r=new h8(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.We(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.en(n);return x.forEach(i,s=>this.nn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new Ue(mt.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}hn(e,n){const r=new Zl;for(const i of Ds(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ke(i.kind);Fs.Ee.ae(s,o)}return r.Be()}un(e){const n=new Zl;return Fs.Ee.ae(e,n.Ke(0)),n.Be()}ln(e,n){const r=new Zl;return Fs.Ee.ae(wo(this.databaseId,n),r.Ke(function(i){const s=Ds(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Be()}rn(e,n,r){if(r===null)return[];let i=[];i.push(new Zl);let s=0;for(const o of Ds(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&kc(a))i=this.dn(i,o,a);else{const u=l.Ke(o.kind);Fs.Ee.ae(a,u)}}return this._n(i)}sn(e,n,r){return this.rn(e,n,r.position)}_n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Be();return n}dn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Zl;l.seed(a.Be()),Fs.Ee.ae(o,l.Ke(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof me&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=eh(e),i=tu(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new Nf(c.sequenceNumber,new qn(_o(c.readTime),new j(Lr(c.documentKey)),c.largestBatchId)):Nf.empty(),h=u.fields.map(([p,f])=>new YH(mt.fromServerFormat(p),f));return new UA(u.indexId,u.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ce(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=eh(e),s=tu(e);return this.wn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,l=>s.put(h_(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return x.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,l=>this.mn(e,i,l).next(u=>{const c=this.gn(s,l);return u.isEqual(c)?x.resolve():this.yn(e,s,l,u,c)}))))})}pn(e,n,r,i){return eu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.ln(r,n.key),documentKey:n.key.path.toArray()})}In(e,n,r,i){return eu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.ln(r,n.key),n.key.path.toArray()])}mn(e,n,r){const i=eu(e);let s=new Ue(Ci);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,n)])},(o,a)=>{s=s.add(new Us(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}gn(e,n){let r=new Ue(Ci);const i=this.hn(n,e);if(i==null)return r;const s=Mv(n);if(s!=null){const o=e.data.field(s.fieldPath);if(kc(o))for(const a of o.arrayValue.values||[])r=r.add(new Us(n.indexId,e.key,this.un(a),i))}else r=r.add(new Us(n.indexId,e.key,Zd,i));return r}yn(e,n,r,i,s){M("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const h=a.getIterator(),p=l.getIterator();let f=Ko(h),m=Ko(p);for(;f||m;){let E=!1,y=!1;if(f&&m){const g=u(f,m);g<0?y=!0:g>0&&(E=!0)}else f!=null?y=!0:E=!0;E?(c(m),m=Ko(p)):y?(d(f),f=Ko(h)):(f=Ko(h),m=Ko(p))}}(i,s,Ci,a=>{o.push(this.pn(e,n,r,a))},a=>{o.push(this.In(e,n,r,a))}),x.waitFor(o)}wn(e){let n=1;return tu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ci(o,a)).filter((o,a,l)=>!a||Ci(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ci(o,e),l=Ci(o,n);if(a===0)i[0]=e.Ge();else if(a>0&&l<0)i.push(o),i.push(o.Ge());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Tn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Zd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Zd,[]];s.push(IDBKeyRange.bound(a,l))}return s}Tn(e,n){return Ci(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(w_)}getMinOffset(e,n){return x.mapArray(this.en(n),r=>this.nn(e,r).next(i=>i||K())).next(w_)}}function v_(t){return Bt(t,"collectionParents")}function eu(t){return Bt(t,"indexEntries")}function eh(t){return Bt(t,"indexConfiguration")}function tu(t){return Bt(t,"indexState")}function w_(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;N1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new qn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class En{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{Z(a===1)}));const u=[];for(const c of n.mutations){const d=ON(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return x.waitFor(s).next(()=>u)}function Lf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw K();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Om{constructor(e,n,r,i){this.userId=e,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}static ue(e,n,r,i){Z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Om(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xi(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Jo(e),o=xi(e);return o.add({}).next(a=>{Z(typeof a=="number");const l=new U1(a,n,r,i),u=function(h,p,f){const m=f.baseMutations.map(y=>Nc(h.oe,y)),E=f.mutations.map(y=>Nc(h.oe,y));return{userId:p,batchId:f.batchId,localWriteTimeMs:f.localWriteTime.toMillis(),baseMutations:m,mutations:E}}(this.Tt,this.userId,l),c=[];let d=new Ue((h,p)=>ce(h.canonicalString(),p.canonicalString()));for(const h of i){const p=ON(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,jK))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.En[a]=l.keys()}),x.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return xi(e).get(n).next(r=>r?(Z(r.userId===this.userId),Ls(this.Tt,r)):null)}An(e,n){return this.En[n]?x.resolve(this.En[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.En[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return xi(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=Ls(this.Tt,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xi(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xi(e).W("userMutationsIndex",n).next(r=>r.map(i=>Ls(this.Tt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=kh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Jo(e).X({range:i},(o,a,l)=>{const[u,c,d]=o,h=Lr(c);if(u===this.userId&&n.path.isEqual(h))return xi(e).get(d).next(p=>{if(!p)throw K();Z(p.userId===this.userId),s.push(Ls(this.Tt,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ue(ce);const i=[];return n.forEach(s=>{const o=kh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Jo(e).X({range:a},(u,c,d)=>{const[h,p,f]=u,m=Lr(p);h===this.userId&&s.path.isEqual(m)?r=r.add(f):d.done()});i.push(l)}),x.waitFor(i).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=kh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ue(ce);return Jo(e).X({range:o},(l,u,c)=>{const[d,h,p]=l,f=Lr(h);d===this.userId&&r.isPrefixOf(f)?f.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Rn(e,a))}Rn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(xi(e).get(s).next(o=>{if(o===null)throw K();Z(o.userId===this.userId),r.push(Ls(this.Tt,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return VN(e.re,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.bn(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Jo(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Lr(s[1]);i.push(l)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return zN(e,this.userId,n)}vn(e){return jN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zN(t,e,n){const r=kh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Jo(t).X({range:s,Z:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function xi(t){return Bt(t,"mutations")}function Jo(t){return Bt(t,"documentMutations")}function jN(t){return Bt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new To(0)}static Sn(){return new To(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.referenceDelegate=e,this.Tt=n}allocateTargetId(e){return this.Dn(e).next(n=>{const r=new To(n.highestTargetId);return n.highestTargetId=r.next(),this.Cn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(n=>ee.fromTimestamp(new et(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Dn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Cn(e,i)))}addTargetData(e,n){return this.xn(e,n).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(n,r),this.Cn(e,r))))}updateTargetData(e,n){return this.xn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Go(e).delete(n.targetId)).next(()=>this.Dn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Go(e).X((o,a)=>{const l=yu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Go(e).X((r,i)=>{const s=yu(i);n(s)})}Dn(e){return E_(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}Cn(e,n){return E_(e).put("targetGlobalKey",n)}xn(e,n){return Go(e).put(FN(this.Tt,n))}Nn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=bo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Go(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=yu(a);ud(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Oi(e);return n.forEach(o=>{const a=vn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){const i=Oi(e);return x.forEach(n,s=>{const o=vn(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Oi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Oi(e);let s=de();return i.X({range:r,Z:!0},(o,a,l)=>{const u=Lr(o[1]),c=new j(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=vn(n.path),i=IDBKeyRange.bound([r],[FA(r)],!1,!0);let s=0;return Oi(e).X({index:"documentTargetsIndex",Z:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ie(e,n){return Go(e).get(n).next(r=>r?yu(r):null)}}function Go(t){return Bt(t,"targets")}function E_(t){return Bt(t,"targetGlobal")}function Oi(t){return Bt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class y8{constructor(e){this.kn=e,this.buffer=new Ue(S_),this.On=0}Mn(){return++this.On}Fn(e){const n=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();S_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.$n=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return this.$n!==null}Bn(e){M("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.$n=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Is(n)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ss(n)}await this.Bn(3e5)})}}class w8{constructor(e,n){this.Ln=e,this.params=n}calculateTargetCount(e,n){return this.Ln.qn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(Tn.at);const r=new y8(n);return this.Ln.forEachTarget(e,i=>r.Fn(i.sequenceNumber)).next(()=>this.Ln.Un(e,i=>r.Fn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Ln.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Ln.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(M("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(b_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.Kn(e,n))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),$v()<=Se.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new w8(r,i)}(this,n)}qn(e){const n=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Gn(e){let n=0;return this.Un(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Un(e,n){return this.Qn(e,(r,i)=>n(i))}addReference(e,n,r){return th(e,r)}removeReference(e,n,r){return th(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return th(e,n)}jn(e,n){return function(r,i){let s=!1;return jN(r).tt(o=>zN(r,o,i).next(a=>(a&&(s=!0),x.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Qn(e,(o,a)=>{if(a<=n){const l=this.jn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ee.min()),Oi(e).delete([0,vn(o.path)])))});i.push(l)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return th(e,n)}Qn(e,n){const r=Oi(e);let i,s=Tn.at;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Tn.at&&n(new j(Lr(i)),s),s=u,i=l):s=Tn.at}).next(()=>{s!==Tn.at&&n(new j(Lr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function th(t,e){return Oi(t).put(function(n,r){return{targetId:0,path:vn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.changes=new _s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return xs(e).put(r)}removeEntry(e,n,r){return xs(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],$f(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.zn(e,r)))}getEntry(e,n){let r=He.newInvalidDocument(n);return xs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nu(n))},(i,s)=>{r=this.Wn(n,s)}).next(()=>r)}Hn(e,n){let r={size:0,document:He.newInvalidDocument(n)};return xs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nu(n))},(i,s)=>{r={document:this.Wn(n,s),size:Lf(s)}}).next(()=>r)}getEntries(e,n){let r=xn();return this.Jn(e,n,(i,s)=>{const o=this.Wn(i,s);r=r.insert(i,o)}).next(()=>r)}Yn(e,n){let r=xn(),i=new ct(j.comparator);return this.Jn(e,n,(s,o)=>{const a=this.Wn(s,o);r=r.insert(s,a),i=i.insert(s,Lf(o))}).next(()=>({documents:r,Zn:i}))}Jn(e,n,r){if(n.isEmpty())return x.resolve();let i=new Ue(T_);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(nu(i.first()),nu(i.last())),o=i.getIterator();let a=o.getNext();return xs(e).X({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=j.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&T_(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.j(nu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),$f(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xs(e).W(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=xn();for(const c of l){const d=this.Wn(j.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(dd(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=xn();const o=__(n,r),a=__(n,qn.max());return xs(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.Wn(j.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new S8(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return I_(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}zn(e,n){return I_(e).put("remoteDocumentGlobalKey",n)}Wn(e,n){if(n){const r=o8(this.Tt,n);if(!(r.isNoDocument()&&r.version.isEqual(ee.min())))return r}return He.newInvalidDocument(e)}}function qN(t){return new E8(t)}class S8 extends WN{constructor(e,n){super(),this.Xn=e,this.trackRemovals=n,this.ts=new _s(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ue((s,o)=>ce(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ts.get(s);if(n.push(this.Xn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=c_(this.Xn.Tt,o);i=i.add(s.path.popLast());const u=Lf(l);r+=u-a.size,n.push(this.Xn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=c_(this.Xn.Tt,o.convertToNoDocument(ee.min()));n.push(this.Xn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Xn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Xn.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.Xn.Hn(e,n).next(r=>(this.ts.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Xn.Yn(e,n).next(({documents:r,Zn:i})=>(i.forEach((s,o)=>{this.ts.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function I_(t){return Bt(t,"remoteDocumentGlobal")}function xs(t){return Bt(t,"remoteDocumentsV14")}function nu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function __(t,e){const n=e.documentKey.path.toArray();return[t,$f(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function T_(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ce(n[s],r[s]),i)return i;return i=ce(n.length,r.length),i||(i=ce(n[n.length-2],r[r.length-2]),i||ce(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mu(r.mutation,i,Cn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=gu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn();const o=Lu(),a=Lu();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Mu(c.mutation,u,c.mutation.getFieldMask(),et.now())):o.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new I8(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Lu();let i=new ct((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Cn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=wN();c.forEach(h=>{if(!s.has(h)){const p=fN(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return j.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Mr());let a=-1,l=s;return o.next(u=>x.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,de())).next(c=>({batchId:a,changes:vN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=gu();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const l=function(u,c){return new vi(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,He.newInvalidDocument(u)))});let o=gu();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Mu(u.mutation,l,Cn.empty(),et.now()),dd(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return x.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:gt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(r){return{name:r.name,query:z1(r.bundledQuery),readTime:gt(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.overlays=new ct(j.comparator),this.ss=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Mr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ct((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Mr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Mr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V1(n,r));let s=this.ss.get(n);s===void 0&&(s=de(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.rs=new Ue(Rt.os),this.us=new Ue(Rt.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new Rt(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new j(new we([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new j(new we([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=de();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return j.comparator(e.key,n.key)||ce(e.gs,n.gs)}static cs(e,n){return ce(e.gs,n.gs)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ue(Rt.os)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new U1(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ue(ce);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),x.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new j(s),0);let a=new Ue(ce);return this.ps.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gs)),!0)},o),x.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return x.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}bn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.ps.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.Rs=e,this.docs=new ct(j.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():He.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||N1(VA(c),r)<=0||(i.has(c.key)||dd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}bs(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new k8(this)}getSize(e){return x.resolve(this.size)}}class k8 extends WN{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.persistence=e,this.vs=new _s(n=>bo(n),ud),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new q1,this.targetCount=0,this.Ss=To.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ps&&(this.Ps=n),x.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new To(n),this.highestTargetId=n),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.xn(n),x.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new Tn(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new R8(this),this.indexManager=new p8,this.remoteDocumentCache=function(r){return new x8(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new LN(n),this.Os=new _8(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new C8(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const i=new A8(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Fs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}$s(e,n){return x.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class A8 extends jA{constructor(e){super(),this.currentSequenceNumber=e}}class Dm{constructor(e){this.persistence=e,this.Bs=new q1,this.Ls=null}static qs(e){return new Dm(e)}get Us(){if(this.Ls)return this.Ls;throw K()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),x.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Fs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Us,r=>{const i=j.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return x.or([()=>x.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.$s(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.Tt=e}$(e,n,r,i){const s=new xm("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",u_,{unique:!0}),a.createObjectStore("documentMutations")}(e),C_(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),C_(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ee.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",u_,{unique:!0});const c=l.store("mutations"),d=u.map(h=>c.put(h));return x.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Gs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(s)))),r<7&&i>=7&&(o=o.next(()=>this.js(s))),r<8&&i>=8&&(o=o.next(()=>this.zs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Ws(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:t8});l.createIndex("collectionPathOverlayIndex",n8,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",r8,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:WK});l.createIndex("documentKeyIndex",qK),l.createIndex("collectionGroupIndex",HK)}(e)).next(()=>this.Hs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.Js(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:YK}).createIndex("sequenceNumberIndex",JK,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:ZK}).createIndex("documentKeyIndex",e8,{unique:!1})}(e))),o}Qs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=Lf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>x.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>x.forEach(a,l=>{Z(l.userId===s.userId);const u=Ls(this.Tt,l);return VN(e,s.userId,u).next(()=>{})}))}))}js(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new we(o),u=function(c){return[0,vn(c)]}(l);s.push(n.get(u).next(c=>c?x.resolve():(d=>n.put({targetId:0,path:vn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>x.waitFor(s))})}zs(e,n){e.createObjectStore("collectionParents",{keyPath:XK});const r=n.store("collectionParents"),i=new W1,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:vn(l)})}};return n.store("remoteDocuments").X({Z:!0},(o,a)=>{const l=new we(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Z:!0},([o,a,l],u)=>{const c=Lr(a);return s(c.popLast())}))}Ws(e){const n=e.store("targets");return n.X((r,i)=>{const s=yu(i),o=FN(this.Tt,s);return n.put(o)})}Hs(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new j(we.fromString(u.document.name).popFirst(5)):u.noDocument?j.fromSegments(u.noDocument.path):u.unknownDocument?j.fromSegments(u.unknownDocument.path):K()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>x.waitFor(i))}Js(e,n){const r=n.store("mutations"),i=qN(this.Tt),s=new KN(Dm.qs,this.Tt.oe);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:de();Ls(this.Tt,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),x.forEach(a,(l,u)=>{const c=new Nt(u),d=Pm.ue(this.Tt,c),h=s.getIndexManager(c),p=Om.ue(c,this.Tt,h,s.referenceDelegate);return new HN(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Hv(n,Tn.at),l).next()})})}}function C_(t){t.createObjectStore("targetDocuments",{keyPath:GK}).createIndex("documentTargetsIndex",QK,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KK,{unique:!0}),t.createObjectStore("targetGlobal")}const ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class H1{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ys=s,this.window=o,this.document=a,this.Zs=u,this.Xs=c,this.ti=d,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=h=>Promise.resolve(),!H1.C())throw new $(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new b8(this,i),this.oi=n+"main",this.Tt=new LN(l),this.ui=new pr(this.oi,this.ti,new N8(this.Tt)),this.Ns=new g8(this.referenceDelegate,this.Tt),this.remoteDocumentCache=qN(this.Tt),this.Os=new a8,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,c===!1&&pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(R.FAILED_PRECONDITION,ny);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Tn(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){return this.ri=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(async()=>{this.started&&await this.ai()}))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(n=>{n||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(n=>this.isPrimary&&!n?this.mi(e).next(()=>!1):!!n&&this.gi(e).next(()=>!0))).catch(e=>{if(Is(e))return M("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return ru(e).get("owner").next(n=>x.resolve(this.yi(n)))}pi(e){return nh(e).delete(this.clientId)}async Ii(){if(this.isPrimary&&!this.Ti(this.ii,18e5)){this.ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Bt(n,"clientMetadata");return r.W().next(i=>{const s=this.Ei(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ci)for(const n of e)this.ci.removeItem(this.Ai(n.clientId))}}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?x.resolve(!0):ru(e).get("owner").next(n=>{if(n!==null&&this.Ti(n.leaseTimestampMs,5e3)&&!this.Ri(n.ownerId)){if(this.yi(n)&&this.networkEnabled)return!0;if(!this.yi(n)){if(!n.allowTabSynchronization)throw new $(R.FAILED_PRECONDITION,ny);return!1}}return!(!this.networkEnabled||!this.inForeground)||nh(e).W().next(r=>this.Ei(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&M("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),await this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Hv(e,Tn.at);return this.mi(n).next(()=>this.pi(n))}),this.ui.close(),this.Vi()}Ei(e,n){return e.filter(r=>this.Ti(r.updateTimeMs,n)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>nh(e).W().next(n=>this.Ei(n,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,n){return Om.ue(e,this.Tt,n,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new m8(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return Pm.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,n,r){M("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ti)===15?s8:o===14?MN:o===13?$N:o===12?i8:o===11?DN:void K();var o;let a;return this.ui.runTransaction(e,i,s,l=>(a=new Hv(l,this.Cs?this.Cs.next():Tn.at),n==="readwrite-primary"?this._i(a).next(u=>!!u||this.wi(a)).next(u=>{if(!u)throw pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new $(R.FAILED_PRECONDITION,zA);return r(a)}).next(u=>this.gi(a).next(()=>u)):this.Di(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Di(e){return ru(e).get("owner").next(n=>{if(n!==null&&this.Ti(n.leaseTimestampMs,5e3)&&!this.Ri(n.ownerId)&&!this.yi(n)&&!(this.Xs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(R.FAILED_PRECONDITION,ny)})}gi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ru(e).put("owner",n)}static C(){return pr.C()}mi(e){const n=ru(e);return n.get("owner").next(r=>this.yi(r)?(M("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}Ti(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}hi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground=this.document.visibilityState==="visible")}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ei=()=>{this.bi(),m4()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var n;try{const r=((n=this.ci)===null||n===void 0?void 0:n.getItem(this.Ai(e)))!==null;return M("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){pt("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ru(t){return Bt(t,"owner")}function nh(t){return Bt(t,"clientMetadata")}function K1(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.ki=!1}initialize(e,n){this.Oi=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Fi(e,n,i,r)).next(s=>s||this.$i(e,n))}Mi(e,n){if(ZI(n))return x.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Df(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Oi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Bi(n,a);return this.Li(n,u,o,l.readTime)?this.Mi(e,Df(n,null,"F")):this.qi(e,u,n,l)}))})))}Fi(e,n,r,i){return ZI(n)||i.isEqual(ee.min())?this.$i(e,n):this.Oi.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.$i(e,n):($v()<=Se.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jv(n)),this.qi(e,o,n,BA(i,-1)))})}Bi(e,n){let r=new Ue(sN(e));return n.forEach((i,s)=>{dd(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}$i(e,n){return $v()<=Se.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",jv(n)),this.Oi.getDocumentsMatchingQuery(e,n,qn.min())}qi(e,n,r,i){return this.Oi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new ct(ce),this.Gi=new _s(s=>bo(s),ud),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HN(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function QN(t,e,n,r){return new P8(t,e,n,r)}async function XN(t,e){const n=W(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}function O8(t,e){const n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=x.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(f=>{const m=l.docVersions.get(p);Z(m!==null),f.version.compareTo(m)<0&&(c.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),u.addEntry(f)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=de();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YN(t){const e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function D8(t,e){const n=W(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(_t.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(f,m,E){return f.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,p,c)&&a.push(n.Ns.updateTargetData(s,p))});let l=xn(),u=de();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(JN(s,o,e.documentUpdates).next(c=>{l=c.Hi,u=c.Ji})),!r.isEqual(ee.min())){const c=n.Ns.getLastRemoteSnapshotVersion(s).next(d=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ki=i,s))}function JN(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Hi:o,Ji:i}})}function $8(t,e){const n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function el(t,e){const n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new Xi(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}async function tl(t,e,n){const r=W(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Is(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function Ff(t,e,n){const r=W(t);let i=ee.min(),s=de();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=W(a),d=c.Gi.get(u);return d!==void 0?x.resolve(c.Ki.get(d)):c.Ns.getTargetData(l,u)}(r,o,On(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:de())).next(a=>(tP(r,iN(e),a),{documents:a,Yi:s})))}function ZN(t,e){const n=W(t),r=W(n.Ns),i=n.Ki.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ie(s,e).next(o=>o?o.target:null))}function eP(t,e){const n=W(t),r=n.Qi.get(e)||ee.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ji.getAllFromCollectionGroup(i,e,BA(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(tP(n,e,i),i))}function tP(t,e,n){let r=t.Qi.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}async function M8(t,e,n,r){const i=W(t);let s=de(),o=xn();for(const u of n){const c=e.Zi(u.metadata.name);u.document&&(s=s.add(c));const d=e.Xi(u);d.setReadTime(e.tr(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ji.newChangeBuffer({trackRemovals:!0}),l=await el(i,function(u){return On(Tl(we.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>JN(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Ns.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ns.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Hi,c.Ji)).next(()=>c.Hi)))}async function L8(t,e,n=de()){const r=await el(t,On(z1(e.bundledQuery))),i=W(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=gt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Os.saveNamedQuery(s,e);const a=r.withResumeToken(_t.EMPTY_BYTE_STRING,o);return i.Ki=i.Ki.insert(a.targetId,a),i.Ns.updateTargetData(s,a).next(()=>i.Ns.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ns.addMatchingKeys(s,n,r.targetId)).next(()=>i.Os.saveNamedQuery(s,e))})}function x_(t,e){return`firestore_clients_${t}_${e}`}function k_(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ry(t,e){return`firestore_targets_${t}_${e}`}class Uf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static er(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new Uf(e,n,i.state,s):(pt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static er(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new Fu(e,r.state,i):(pt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static er(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Nm();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=qA(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Bf(e,s):(pt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Q1{constructor(e,n){this.clientId=e,this.onlineState=n}static er(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Q1(n.clientId,n.onlineState):(pt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xv{constructor(){this.activeTargetIds=Nm()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iy{constructor(e,n,r,i,s){this.window=e,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new ct(ce),this.started=!1,this.hr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.lr=x_(this.persistenceKey,this.rr),this.dr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new Xv),this._r=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.gr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.yr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Si();for(const r of e){if(r===this.rr)continue;const i=this.getItem(x_(this.persistenceKey,r));if(i){const s=Bf.er(r,i);s&&(this.ar=this.ar.insert(s.clientId,s))}}this.pr();const n=this.storage.getItem(this.gr);if(n){const r=this.Ir(n);r&&this.Tr(r)}for(const r of this.hr)this.cr(r);this.hr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,n,r){this.Ar(e,n,r),this.Rr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ry(this.persistenceKey,e));if(r){const i=Fu.er(e,r);i&&(n=i.state)}}return this.br.sr(e),this.pr(),n}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ry(this.persistenceKey,e))}updateQueryState(e,n,r){this.vr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Rr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return M("SharedClientState","READ",e,n),n}setItem(e,n){M("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){M("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){const n=e;if(n.storageArea===this.storage){if(M("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this._r.test(n.key)){if(n.newValue==null){const r=this.Sr(n.key);return this.Dr(r,null)}{const r=this.Cr(n.key,n.newValue);if(r)return this.Dr(r.clientId,r)}}else if(this.wr.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(this.mr.test(n.key)){if(n.newValue!==null){const r=this.Or(n.key,n.newValue);if(r)return this.Mr(r)}}else if(n.key===this.gr){if(n.newValue!==null){const r=this.Ir(n.newValue);if(r)return this.Tr(r)}}else if(n.key===this.dr){const r=function(i){let s=Tn.at;if(i!=null)try{const o=JSON.parse(i);Z(typeof o=="number"),s=o}catch(o){pt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Tn.at&&this.sequenceNumberHandler(r)}else if(n.key===this.yr){const r=this.Fr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.$r(i)))}}}else this.hr.push(n)})}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,n,r){const i=new Uf(this.currentUser,e,n,r),s=k_(this.persistenceKey,this.currentUser,e);this.setItem(s,i.nr())}Rr(e){const n=k_(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Pr(e){const n={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(n))}vr(e,n,r){const i=ry(this.persistenceKey,e),s=new Fu(e,n,r);this.setItem(i,s.nr())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.yr,n)}Sr(e){const n=this._r.exec(e);return n?n[1]:null}Cr(e,n){const r=this.Sr(e);return Bf.er(r,n)}Nr(e,n){const r=this.wr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Uf.er(new Nt(s),i,n)}Or(e,n){const r=this.mr.exec(e),i=Number(r[1]);return Fu.er(i,n)}Ir(e){return Q1.er(e)}Fr(e){return JSON.parse(e)}async kr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Br(e.batchId,e.state,e.error);M("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,n){const r=n?this.ar.insert(e,n):this.ar.remove(e),i=this.Er(this.ar),s=this.Er(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.qr(o,a).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let n=Nm();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class nP{constructor(){this.Ur=new Xv,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Xv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=this.fo(e,n);M("RestConnection","Sending: ",o,r);const a={};return this._o(a,i,s),this.wo(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw Ka("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){const r=U8[e];return`${this.co}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){return new Promise((s,o)=>{const a=new UH;a.setWithCredentials(!0),a.listenOnce(MH.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ey.NO_ERROR:const u=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(u)),s(u);break;case ey.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new $(R.DEADLINE_EXCEEDED,"Request time out"));break;case ey.HTTP_ERROR:const c=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(f){const m=f.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(m)>=0?m:R.UNKNOWN}(h.status);o(new $(p,h.message))}else o(new $(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new $(R.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}yo(e,n,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DH(),o=$H(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new FH({})),this._o(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new B8({Yr:f=>{d?M("Connection","Not sending because WebChannel is closed:",f):(c||(M("Connection","Opening WebChannel transport."),u.open(),c=!0),M("Connection","WebChannel sending:",f),u.send(f))},Zr:()=>u.close()}),p=(f,m,E)=>{f.listen(m,y=>{try{E(y)}catch(g){setTimeout(()=>{throw g},0)}})};return p(u,Yd.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),p(u,Yd.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.oo())}),p(u,Yd.EventType.ERROR,f=>{d||(d=!0,Ka("Connection","WebChannel transport errored:",f),h.oo(new $(R.UNAVAILABLE,"The operation could not be completed")))}),p(u,Yd.EventType.MESSAGE,f=>{var m;if(!d){const E=f.data[0];Z(!!E);const y=E,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){M("Connection","WebChannel received error:",g);const v=g.status;let b=function(C){const T=vt[C];if(T!==void 0)return gN(T)}(v),_=g.message;b===void 0&&(b=R.INTERNAL,_="Unknown error status: "+v+" with message "+g.message),d=!0,h.oo(new $(b,_)),u.close()}else M("Connection","WebChannel received:",E),h.uo(E)}}),p(o,LH.STAT_EVENT,f=>{f.stat===UI.PROXY?M("Connection","Detected buffering proxy"):f.stat===UI.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.ro()},0),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof window<"u"?window:null}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){return new PK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,i,s,o,a,l){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new X1(e,n)}Oo(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Fo()}async stop(){this.Oo()&&await this.close(0)}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(pt(n.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new $(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z8 extends iP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=$K(this.Tt,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?gt(s.readTime):ee.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=Ac(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=Pf(a)?{documents:xN(i,a)}:{query:kN(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=SN(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Za(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=LK(this.Tt,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=Ac(this.Tt),n.removeTarget=e,this.qo(n)}}class j8 extends iP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=MK(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.eu(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Ac(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Nc(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new $(R.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(R.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(R.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class q8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(pt(n),this.cu=!1):M("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=W(a);l.mu.add(4),await kl(l),l.pu.set("Unknown"),l.mu.delete(4),await gd(l)}(this))})}),this.pu=new q8(r,i)}}async function gd(t){if(Ts(t))for(const e of t.gu)await e(!0)}async function kl(t){for(const e of t.gu)await e(!1)}function $m(t,e){const n=W(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),Z1(n)?J1(n):Al(n).Mo()&&Y1(n,e))}function Pc(t,e){const n=W(t),r=Al(n);n.wu.delete(e),r.Mo()&&sP(n,e),n.wu.size===0&&(r.Mo()?r.Bo():Ts(n)&&n.pu.set("Unknown"))}function Y1(t,e){t.Iu.Ft(e.targetId),Al(t).Jo(e)}function sP(t,e){t.Iu.Ft(e),Al(t).Yo(e)}function J1(t){t.Iu=new kK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),Al(t).start(),t.pu.au()}function Z1(t){return Ts(t)&&!Al(t).Oo()&&t.wu.size>0}function Ts(t){return W(t).mu.size===0}function oP(t){t.Iu=void 0}async function K8(t){t.wu.forEach((e,n)=>{Y1(t,e)})}async function G8(t,e){oP(t),Z1(t)?(t.pu.fu(e),J1(t)):t.pu.set("Unknown")}async function Q8(t,e,n){if(t.pu.set("Online"),e instanceof EN&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(t,r)}else if(e instanceof xh?t.Iu.Qt(e):e instanceof bN?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(ee.min()))try{const r=await YN(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.wu.get(l);u&&i.wu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.wu.get(a);if(!l)return;i.wu.set(a,l.withResumeToken(_t.EMPTY_BYTE_STRING,l.snapshotVersion)),sP(i,a);const u=new Xi(l.target,a,1,l.sequenceNumber);Y1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await Vf(t,r)}}async function Vf(t,e,n){if(!Is(e))throw e;t.mu.add(1),await kl(t),t.pu.set("Offline"),n||(n=()=>YN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await gd(t)})}function aP(t,e){return e().catch(n=>Vf(t,n,e))}async function Rl(t){const e=W(t),n=ds(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;X8(e);)try{const i=await $8(e.localStore,r);if(i===null){e._u.length===0&&n.Bo();break}r=i.batchId,Y8(e,i)}catch(i){await Vf(e,i)}lP(e)&&uP(e)}function X8(t){return Ts(t)&&t._u.length<10}function Y8(t,e){t._u.push(e);const n=ds(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function lP(t){return Ts(t)&&!ds(t).Oo()&&t._u.length>0}function uP(t){ds(t).start()}async function J8(t){ds(t).su()}async function Z8(t){const e=ds(t);for(const n of t._u)e.tu(n.mutations)}async function eG(t,e,n){const r=t._u.shift(),i=B1.from(r,e,n);await aP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rl(t)}async function tG(t,e){e&&ds(t).Xo&&await async function(n,r){if(i=r.code,mN(i)&&i!==R.ABORTED){const s=n._u.shift();ds(n).$o(),await aP(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Rl(n)}var i}(t,e),lP(t)&&uP(t)}async function A_(t,e){const n=W(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.mu.add(3),await kl(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await gd(n)}async function Yv(t,e){const n=W(t);e?(n.mu.delete(2),await gd(n)):e||(n.mu.add(2),await kl(n),n.pu.set("Unknown"))}function Al(t){return t.Tu||(t.Tu=function(e,n,r){const i=W(e);return i.ru(),new z8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:K8.bind(null,t),no:G8.bind(null,t),Ho:Q8.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.$o(),Z1(t)?J1(t):t.pu.set("Unknown")):(await t.Tu.stop(),oP(t))})),t.Tu}function ds(t){return t.Eu||(t.Eu=function(e,n,r){const i=W(e);return i.ru(),new j8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:J8.bind(null,t),no:tG.bind(null,t),nu:Z8.bind(null,t),eu:eG.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.$o(),await Rl(t)):(await t.Eu.stop(),t._u.length>0&&(M("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nl(t,e){if(pt("AsyncQueue",`${e}: ${t}`),Is(t))return new $(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new Na(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Au=new ct(j.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(n,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(n):e.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):K():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class nl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nl(e,n,Na.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(){this.bu=void 0,this.listeners=[]}}class rG{constructor(){this.queries=new _s(e=>rN(e),cd),this.onlineState="Unknown",this.vu=new Set}}async function tb(t,e){const n=W(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nG),i)try{s.bu=await n.onListen(r)}catch(o){const a=Nl(o,`Initialization of query '${jv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.bu&&e.Vu(s.bu)&&rb(n)}async function nb(t,e){const n=W(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iG(t,e){const n=W(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.bu=i}}r&&rb(n)}function sG(t,e,n){const r=W(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function rb(t){t.vu.forEach(e=>{e.next()})}class ib{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ou||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n){this.Mu=e,this.byteLength=n}Fu(){return"metadata"in this.Mu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.Tt=e}Zi(e){return jr(this.Tt,e)}Xi(e){return e.metadata.exists?CN(this.Tt,e.document,!1):He.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return gt(e)}}class aG{constructor(e,n,r){this.$u=e,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cP(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++n;const r=we.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Lu(e){const n=new Map,r=new P_(this.Tt);for(const i of e)if(i.metadata.queries){const s=r.Zi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||de()).add(s);n.set(o,a)}}return n}async complete(){const e=await M8(this.localStore,new P_(this.Tt),this.documents,this.$u.id),n=this.Lu(this.documents);for(const r of this.queries)await L8(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:e}}}function cP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.key=e}}class hP{constructor(e){this.key=e}}class fP{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=de(),this.mutatedKeys=de(),this.ju=sN(e),this.zu=new Na(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new N_,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=dd(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),E=!0):this.Yu(h,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ju(p,l)>0||u&&this.ju(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((u,c)=>function(d,h){const p=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return p(d)-p(h)}(u.type,c.type)||this.ju(u.doc,c.doc)),this.Zu(r);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,l=a!==this.Gu;return this.Gu=a,s.length!==0||l?{snapshot:new nl(this.query,e.zu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new N_,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=de(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new hP(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new dP(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=de();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return nl.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class lG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uG{constructor(e){this.key=e,this.ic=!1}}class cG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new _s(a=>rN(a),cd),this.uc=new Map,this.cc=new Set,this.ac=new ct(j.comparator),this.hc=new Map,this.lc=new q1,this.fc={},this.dc=new Map,this._c=To.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function dG(t,e){const n=ub(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await el(n.localStore,On(e));n.isPrimaryClient&&$m(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await sb(n,e,r,a==="current",o.resumeToken)}return i}async function sb(t,e,n,r,i){t.mc=(d,h,p)=>async function(f,m,E,y){let g=m.view.Hu(E);g.Li&&(g=await Ff(f.localStore,m.query,!1).then(({documents:_})=>m.view.Hu(_,g)));const v=y&&y.targetChanges.get(m.targetId),b=m.view.applyChanges(g,f.isPrimaryClient,v);return Jv(f,m.targetId,b.tc),b.snapshot}(t,d,h,p);const s=await Ff(t.localStore,e,!0),o=new fP(e,s.Yi),a=o.Hu(s.documents),l=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Jv(t,n,u.tc);const c=new lG(e,n,o);return t.oc.set(e,c),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),u.snapshot}async function hG(t,e){const n=W(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!cd(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Pc(n.remoteStore,r.targetId),rl(n,r.targetId)}).catch(Ss)):(rl(n,r.targetId),await tl(n.localStore,r.targetId,!0))}async function fG(t,e,n){const r=cb(t);try{const i=await function(s,o){const a=W(s),l=et.now(),u=o.reduce((h,p)=>h.add(p.key),de());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=xn(),f=de();return a.ji.getEntries(h,u).next(m=>{p=m,p.forEach((E,y)=>{y.isValidDocument()||(f=f.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{c=m;const E=[];for(const y of o){const g=SK(y,c.get(y.key).overlayedDocument);g!=null&&E.push(new wi(y.key,g,tN(g.value.mapValue),Ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(m=>{d=m;const E=m.applyToLocalDocumentSet(c,f);return a.documentOverlayCache.saveOverlays(h,m.batchId,E)})}).then(()=>({batchId:d.batchId,changes:vN(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.fc[s.currentUser.toKey()];l||(l=new ct(ce)),l=l.insert(o,a),s.fc[s.currentUser.toKey()]=l}(r,i.batchId,n),await bi(r,i.changes),await Rl(r.remoteStore)}catch(i){const s=Nl(i,"Failed to persist write");n.reject(s)}}async function pP(t,e){const n=W(t);try{const r=await D8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?Z(o.ic):i.removedDocuments.size>0&&(Z(o.ic),o.ic=!1))}),await bi(n,r,e)}catch(r){await Ss(r)}}function O_(t,e,n){const r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=W(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Pu(o)&&(l=!0)}),l&&rb(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pG(t,e,n){const r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new ct(j.comparator);o=o.insert(s,He.newNoDocument(s,ee.min()));const a=de().add(s),l=new fd(ee.min(),new Map,new Ue(ce),o,a);await pP(r,l),r.ac=r.ac.remove(s),r.hc.delete(e),lb(r)}else await tl(r.localStore,e,!1).then(()=>rl(r,e,n)).catch(Ss)}async function mG(t,e){const n=W(t),r=e.batch.batchId;try{const i=await O8(n.localStore,e);ab(n,r,null),ob(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bi(n,i)}catch(i){await Ss(i)}}async function gG(t,e,n){const r=W(t);try{const i=await function(s,o){const a=W(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Z(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);ab(r,e,n),ob(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bi(r,i)}catch(i){await Ss(i)}}async function yG(t,e){const n=W(t);Ts(n.remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=W(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.dc.get(r)||[];i.push(e),n.dc.set(r,i)}catch(r){const i=Nl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function ob(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function ab(t,e,n){const r=W(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function rl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||mP(t,r)})}function mP(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(Pc(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),lb(t))}function Jv(t,e,n){for(const r of n)r instanceof dP?(t.lc.addReference(r.key,e),vG(t,r)):r instanceof hP?(M("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||mP(t,r.key)):K()}function vG(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(M("SyncEngine","New document in limbo: "+n),t.cc.add(r),lb(t))}function lb(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new j(we.fromString(e)),r=t._c.next();t.hc.set(r,new uG(n)),t.ac=t.ac.insert(n,r),$m(t.remoteStore,new Xi(On(Tl(n.path)),r,2,Tn.at))}}async function bi(t,e,n){const r=W(t),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((a,l)=>{o.push(r.mc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=G1.Ni(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(a,l){const u=W(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(l,d=>x.forEach(d.Ci,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>x.forEach(d.xi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Is(c))throw c;M("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ki.get(d),p=h.snapshotVersion,f=h.withLastLimboFreeSnapshotVersion(p);u.Ki=u.Ki.insert(d,f)}}}(r.localStore,s))}async function wG(t,e){const n=W(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=await XN(n.localStore,e);n.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(a=>{a.reject(new $(R.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bi(n,r.Wi)}}function bG(t,e){const n=W(t),r=n.hc.get(e);if(r&&r.ic)return de().add(r.key);{let i=de();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}async function EG(t,e){const n=W(t),r=await Ff(n.localStore,e.query,!0),i=e.view.nc(r);return n.isPrimaryClient&&Jv(n,e.targetId,i.tc),i}async function SG(t,e){const n=W(t);return eP(n.localStore,e).then(r=>bi(n,r))}async function IG(t,e,n,r){const i=W(t),s=await function(o,a){const l=W(o),u=W(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.An(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Rl(i.remoteStore):n==="acknowledged"||n==="rejected"?(ab(i,e,r||null),ob(i,e),function(o,a){W(W(o).mutationQueue).bn(a)}(i.localStore,e)):K(),await bi(i,s)):M("SyncEngine","Cannot apply mutation batch with id: "+e)}async function _G(t,e){const n=W(t);if(ub(n),cb(n),e===!0&&n.wc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await D_(n,r.toArray());n.wc=!0,await Yv(n.remoteStore,!0);for(const s of i)$m(n.remoteStore,s)}else if(e===!1&&n.wc!==!1){const r=[];let i=Promise.resolve();n.uc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(rl(n,o),tl(n.localStore,o,!0))),Pc(n.remoteStore,o)}),await i,await D_(n,r),function(s){const o=W(s);o.hc.forEach((a,l)=>{Pc(o.remoteStore,l)}),o.lc._s(),o.hc=new Map,o.ac=new ct(j.comparator)}(n),n.wc=!1,await Yv(n.remoteStore,!1)}}async function D_(t,e,n){const r=W(t),i=[],s=[];for(const o of e){let a;const l=r.uc.get(o);if(l&&l.length!==0){a=await el(r.localStore,On(l[0]));for(const u of l){const c=r.oc.get(u),d=await EG(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await ZN(r.localStore,o);a=await el(r.localStore,u),await sb(r,gP(u),o,!1,a.resumeToken)}i.push(a)}return r.rc.Ho(s),i}function gP(t){return nN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function TG(t){const e=W(t);return W(W(e.localStore).persistence).Si()}async function CG(t,e,n,r){const i=W(t);if(i.wc)return void M("SyncEngine","Ignoring unexpected query state notification.");const s=i.uc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await eP(i.localStore,iN(s[0])),a=fd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",_t.EMPTY_BYTE_STRING);await bi(i,o,a);break}case"rejected":await tl(i.localStore,e,!0),rl(i,e,r);break;default:K()}}async function xG(t,e,n){const r=ub(t);if(r.wc){for(const i of e){if(r.uc.has(i)){M("SyncEngine","Adding an already active target "+i);continue}const s=await ZN(r.localStore,i),o=await el(r.localStore,s);await sb(r,gP(s),o.targetId,!1,o.resumeToken),$m(r.remoteStore,o)}for(const i of n)r.uc.has(i)&&await tl(r.localStore,i,!1).then(()=>{Pc(r.remoteStore,i),rl(r,i)}).catch(Ss)}}function ub(t){const e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pG.bind(null,e),e.rc.Ho=iG.bind(null,e.eventManager),e.rc.gc=sG.bind(null,e.eventManager),e}function cb(t){const e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gG.bind(null,e),e}function kG(t,e,n){const r=W(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const p=W(d),f=gt(h.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",m=>p.Os.getBundleMetadata(m,h.id)).then(m=>!!m&&m.createTime.compareTo(f)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(cP(a));const l=new aG(a,i.localStore,s.Tt);let u=await s.yc();for(;u;){const d=await l.Bu(u);d&&o._updateProgress(d),u=await s.yc()}const c=await l.complete();return await bi(i,c.Uu,void 0),await function(d,h){const p=W(d);return p.persistence.runTransaction("Save bundle","readwrite",f=>p.Os.saveBundleMetadata(f,h))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.qu)}catch(a){return Ka("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class yP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=md(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return QN(this.persistence,new GN,e.initialUser,this.Tt)}Tc(e){return new KN(Dm.qs,this.Tt)}Ic(e){return new nP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vP extends yP{constructor(e,n,r){super(),this.bc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.bc.initialize(this,e),await cb(this.bc.syncEngine),await Rl(this.bc.remoteStore),await this.persistence.di(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ec(e){return QN(this.persistence,new GN,e.initialUser,this.Tt)}Ac(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new v8(r,e.asyncQueue,n)}Rc(e,n){const r=new tK(n,this.persistence);return new eK(e.asyncQueue,r)}Tc(e){const n=K1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new H1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rP(),Rh(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new nP}}class RG extends vP{constructor(e,n){super(e,n,!1),this.bc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.bc.syncEngine;this.sharedClientState instanceof iy&&(this.sharedClientState.syncEngine={Br:IG.bind(null,n),Lr:CG.bind(null,n),qr:xG.bind(null,n),Si:TG.bind(null,n),$r:SG.bind(null,n)},await this.sharedClientState.start()),await this.persistence.di(async r=>{await _G(this.bc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Ic(e){const n=rP();if(!iy.C(n))throw new $(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=K1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class db{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wG.bind(null,this.syncEngine),await Yv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rG}createDatastore(e){const n=md(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new V8(i));var i;return function(s,o,a,l){return new W8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>O_(this.syncEngine,a,0),o=R_.C()?new R_:new F8,new H8(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new cG(r,i,s,o,a,l);return u&&(c.wc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=W(e);M("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await kl(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n){this.Vc=e,this.Tt=n,this.metadata=new Dt,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Fu()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}async getMetadata(){return this.metadata.promise}async yc(){return await this.getMetadata(),this.Dc()}async Dc(){const e=await this.Cc();if(e===null)return null;const n=this.Sc.decode(e),r=Number(n);isNaN(r)&&this.xc(`length string (${n}) is not valid number`);const i=await this.Nc(r);return new oG(JSON.parse(i),e.length+r)}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Cc(){for(;this.kc()<0&&!await this.Oc(););if(this.buffer.length===0)return null;const e=this.kc();e<0&&this.xc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Nc(e){for(;this.buffer.length<e;)await this.Oc()&&this.xc("Reached the end of bundle when more is expected.");const n=this.Sc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Oc(){const e=await this.Vc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=W(r),o=Ac(s.Tt)+"/documents",a={documents:i.map(d=>Rc(s.Tt,d))},l=await s.mo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const h=DK(s.Tt,d);u.set(h.key.toString(),h)});const c=[];return i.forEach(d=>{const h=u.get(d.toString());Z(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new xl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=j.fromPath(r);this.mutations.push(new L1(i,this.precondition(i)))}),await async function(n,r){const i=W(n),s=Ac(i.Tt)+"/documents",o={writes:r.map(a=>Nc(i.Tt,a))};await i.lo("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw K();n=ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ee.min())?Ze.exists(!1):Ze.updateTime(n):Ze.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ee.min()))throw new $(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(n)}return Ze.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Mc=r.maxAttempts,this.ko=new X1(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){this.ko.vo(async()=>{const e=new NG(this.datastore),n=this.$c(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Bc(i)}))}).catch(r=>{this.Bc(r)})})}$c(e){try{const n=this.updateFunction(e);return!ld(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!mN(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=LA.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{M("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wP(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function bP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hb(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>A_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>A_(e.remoteStore,s)),t.onlineComponents=e}async function hb(t){return t.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),await wP(t,new yP)),t.offlineComponents}async function Lm(t){return t.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),await bP(t,new db)),t.onlineComponents}function EP(t){return hb(t).then(e=>e.persistence)}function fb(t){return hb(t).then(e=>e.localStore)}function SP(t){return Lm(t).then(e=>e.remoteStore)}function pb(t){return Lm(t).then(e=>e.syncEngine)}function DG(t){return Lm(t).then(e=>e.datastore)}async function il(t){const e=await Lm(t),n=e.eventManager;return n.onListen=dG.bind(null,e.syncEngine),n.onUnlisten=hG.bind(null,e.syncEngine),n}function $G(t){return t.asyncQueue.enqueue(async()=>{const e=await EP(t),n=await SP(t);return e.setNetworkEnabled(!0),function(r){const i=W(r);return i.mu.delete(0),gd(i)}(n)})}function MG(t){return t.asyncQueue.enqueue(async()=>{const e=await EP(t),n=await SP(t);return e.setNetworkEnabled(!1),async function(r){const i=W(r);i.mu.add(0),await kl(i),i.pu.set("Offline")}(n)})}function LG(t,e){const n=new Dt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=W(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new $(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Nl(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await fb(t),e,n)),n.promise}function IP(t,e,n={}){const r=new Dt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Mm({next:d=>{s.enqueueAndForget(()=>nb(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new $(R.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new $(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new ib(Tl(o.path),u,{includeMetadataChanges:!0,Ou:!0});return tb(i,c)}(await il(t),t.asyncQueue,e,n,r)),r.promise}function FG(t,e){const n=new Dt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Ff(r,i,!0),a=new fP(i,o.Yi),l=a.Hu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=Nl(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await fb(t),e,n)),n.promise}function _P(t,e,n={}){const r=new Dt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Mm({next:d=>{s.enqueueAndForget(()=>nb(i,c)),d.fromCache&&a.source==="server"?l.reject(new $(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new ib(o,u,{includeMetadataChanges:!0,Ou:!0});return tb(i,c)}(await il(t),t.asyncQueue,e,n,r)),r.promise}function UG(t,e){const n=new Mm(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){W(r).vu.add(i),i.next()}(await il(t),n)),()=>{n.Pc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){W(r).vu.delete(i)}(await il(t),n))}}function BG(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new AG(l,u)}(function(l,u){if(l instanceof Uint8Array)return $_(l,u);if(l instanceof ArrayBuffer)return $_(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,md(e));t.asyncQueue.enqueueAndForget(async()=>{kG(await pb(t),i,r)})}function VG(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=W(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Os.getNamedQuery(s,r))}(await fb(t),e))}const M_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e,n){if(!n)throw new $(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TP(t,e,n,r){if(e===!0&&r===!0)throw new $(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L_(t){if(!j.isDocumentKey(t))throw new $(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F_(t){if(j.isDocumentKey(t))throw new $(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Te(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fm(t);throw new $(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function CP(t,e){if(e<=0)throw new $(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,TP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new zH;switch(n.type){case"gapi":const r=n.client;return new HH(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=M_.get(e);n&&(M("ComponentProvider","Removing Datastore"),M_.delete(e),n.terminate())}(this),Promise.resolve()}}function xP(t,e,n,r={}){var i;const s=(t=Te(t,yd))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Nt.MOCK_USER;else{o=h4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(l)}t._authCredentials=new jH(new MA(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}}class Zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class Wr extends Zt{constructor(e,n,r){super(e,n,Tl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new j(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Yi(t,e,...n){if(t=ne(t),mb("collection","path",e),t instanceof yd){const r=we.fromString(e,...n);return F_(r),new Wr(t,null,r)}{if(!(t instanceof Ge||t instanceof Wr))throw new $(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return F_(r),new Wr(t.firestore,null,r)}}function zG(t,e){if(t=Te(t,yd),mb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zt(t,null,function(n){return new vi(we.emptyPath(),n)}(e))}function sl(t,e,...n){if(t=ne(t),arguments.length===1&&(e=LA.R()),mb("doc","path",e),t instanceof yd){const r=we.fromString(e,...n);return L_(r),new Ge(t,null,new j(r))}{if(!(t instanceof Ge||t instanceof Wr))throw new $(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return L_(r),new Ge(t.firestore,t instanceof Wr?t.converter:null,new j(r))}}function kP(t,e){return t=ne(t),e=ne(e),(t instanceof Ge||t instanceof Wr)&&(e instanceof Ge||e instanceof Wr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function RP(t,e){return t=ne(t),e=ne(e),t instanceof Zt&&e instanceof Zt&&t.firestore===e.firestore&&cd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new X1(this,"async_queue_retry"),this.Hc=()=>{const n=Rh();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=Rh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=Rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Dt;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Is(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw pt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=eb.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&K()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function Zv(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class WG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=-1;class dt extends yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jG,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AP(this),this._firestoreClient.terminate()}}function HG(t,e){const n=typeof t=="object"?t:Hw(),r=typeof t=="string"?t:e||"(default)",i=Gc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=u4("firestore");s&&xP(i,...s)}return i}function Vt(t){return t._firestoreClient||AP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AP(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new nK(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new OG(t._authCredentials,t._appCheckCredentials,t._queue,r)}function KG(t,e){PP(t=Te(t,dt));const n=Vt(t),r=t._freezeSettings(),i=new db;return NP(n,i,new vP(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function GG(t){PP(t=Te(t,dt));const e=Vt(t),n=t._freezeSettings(),r=new db;return NP(e,r,new RG(r,n.cacheSizeBytes))}function NP(t,e,n){const r=new Dt;return t.asyncQueue.enqueue(async()=>{try{await wP(t,n),await bP(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===R.FAILED_PRECONDITION||o.code===R.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Ka("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function QG(t){if(t._initialized&&!t._terminated)throw new $(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!pr.C())return Promise.resolve();const r=n+"main";await pr.delete(r)}(K1(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function XG(t){return function(e){const n=new Dt;return e.asyncQueue.enqueueAndForget(async()=>yG(await pb(e),n)),n.promise}(Vt(t=Te(t,dt)))}function YG(t){return $G(Vt(t=Te(t,dt)))}function JG(t){return MG(Vt(t=Te(t,dt)))}function ZG(t,e){const n=Vt(t=Te(t,dt)),r=new WG;return BG(n,t._databaseId,e,r),r}function e9(t,e){return VG(Vt(t=Te(t,dt)),e).then(n=>n?new Zt(t,null,n.query):null)}function PP(t){if(t._initialized||t._terminated)throw new $(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(_t.fromBase64String(e))}catch(n){throw new $(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gr(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=/^__.*__$/;class n9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}class OP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Bm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return zf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(DP(this.ra)&&t9.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class r9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||md(e)}wa(e,n,r,i=!1){return new Bm({ra:e,methodName:n,_a:r,path:mt.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Mo(t){const e=t._freezeSettings(),n=md(t._databaseId);return new r9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vm(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);wb("Data must be an object, but it was:",o,r);const a=LP(r,o);let l,u;if(s.merge)l=new Cn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=e0(e,d,n);if(!o.contains(h))throw new $(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);UP(c,h)||c.push(h)}l=new Cn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new n9(new Gt(a),l,u)}class vd extends $o{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vd}}function $P(t,e,n){return new Bm({ra:3,_a:e.settings._a,methodName:t._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class gb extends $o{_toFieldTransform(e){return new hd(e.path,new Ya)}isEqual(e){return e instanceof gb}}class i9 extends $o{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=$P(this,e,!0),r=this.ma.map(s=>Lo(s,n)),i=new Eo(r);return new hd(e.path,i)}isEqual(e){return this===e}}class s9 extends $o{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=$P(this,e,!0),r=this.ma.map(s=>Lo(s,n)),i=new So(r);return new hd(e.path,i)}isEqual(e){return this===e}}class o9 extends $o{constructor(e,n){super(e),this.ga=n}_toFieldTransform(e){const n=new Ja(e.Tt,lN(e.Tt,this.ga));return new hd(e.path,n)}isEqual(e){return this===e}}function yb(t,e,n,r){const i=t.wa(1,e,n);wb("Data must be an object, but it was:",i,r);const s=[],o=Gt.empty();Do(r,(l,u)=>{const c=bb(e,l,n);u=ne(u);const d=i.ha(c);if(u instanceof vd)s.push(c);else{const h=Lo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Cn(s);return new OP(o,a,i.fieldTransforms)}function vb(t,e,n,r,i,s){const o=t.wa(1,e,n),a=[e0(e,r,n)],l=[i];if(s.length%2!=0)throw new $(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(e0(e,s[h])),l.push(s[h+1]);const u=[],c=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!UP(u,a[h])){const p=a[h];let f=l[h];f=ne(f);const m=o.ha(p);if(f instanceof vd)u.push(p);else{const E=Lo(f,m);E!=null&&(u.push(p),c.set(p,E))}}const d=new Cn(u);return new OP(c,d,o.fieldTransforms)}function MP(t,e,n,r=!1){return Lo(n,t.wa(r?4:3,e))}function Lo(t,e){if(FP(t=ne(t)))return wb("Unsupported field value:",e,t),LP(t,e);if(t instanceof $o)return function(n,r){if(!DP(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Lo(o,r.la(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ne(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return lN(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=et.fromDate(n);return{timestampValue:Za(r.Tt,i)}}if(n instanceof et){const i=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Za(r.Tt,i)}}if(n instanceof Um)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gr)return{bytesValue:SN(r.Tt,n._byteString)};if(n instanceof Ge){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:F1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${Fm(n)}`)}(t,e)}function LP(t,e){const n={};return WA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,(r,i)=>{const s=Lo(i,e.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Um||t instanceof Gr||t instanceof Ge||t instanceof $o)}function wb(t,e,n){if(!FP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Fm(n);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function e0(t,e,n){if((e=ne(e))instanceof hs)return e._internalPath;if(typeof e=="string")return bb(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const a9=new RegExp("[~\\*/\\[\\]]");function bb(t,e,n){if(e.search(a9)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hs(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(R.INVALID_ARGUMENT,a+t+l)}function UP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l9 extends Oc{data(){return super.data()}}function zm(t,e){return typeof e=="string"?bb(t,e):e instanceof hs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}class wd extends Eb{}function Tr(t,e,...n){let r=[];e instanceof Eb&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Ib).length,o=i.filter(a=>a instanceof jm).length;if(s>1||s>0&&o>0)throw new $(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jm extends wd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jm(e,n,r)}_apply(e){const n=this._parse(e);return zP(e._query,n),new Zt(e.firestore,e.converter,zv(e._query,n))}_parse(e){const n=Mo(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new $(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){V_(c,u);const h=[];for(const p of c)h.push(B_(a,i,p));d={arrayValue:{values:h}}}else d=B_(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||V_(c,u),d=MP(o,s,c,u==="in"||u==="not-in");return me.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sb(t,e,n){const r=e,i=zm("where",t);return jm._create(i,r,n)}class Ib extends Eb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ib(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)zP(s,a),s=zv(s,a)}(e._query,n),new Zt(e.firestore,e.converter,zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _b extends wd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _b(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new $(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new $(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Aa(i,s);return function(a,l){if($1(a)===null){const u=km(a);u!==null&&jP(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Zt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new vi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function u9(t,e="asc"){const n=e,r=zm("orderBy",t);return _b._create(r,n)}class Wm extends wd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wm(e,n,r)}_apply(e){return new Zt(e.firestore,e.converter,Df(e._query,this._limit,this._limitType))}}function c9(t){return CP("limit",t),Wm._create("limit",t,"F")}function d9(t){return CP("limitToLast",t),Wm._create("limitToLast",t,"L")}class qm extends wd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qm(e,n,r)}_apply(e){const n=VP(e,this.type,this._docOrFields,this._inclusive);return new Zt(e.firestore,e.converter,function(r,i){return new vi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function h9(...t){return qm._create("startAt",t,!0)}function f9(...t){return qm._create("startAfter",t,!1)}class Hm extends wd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){const n=VP(e,this.type,this._docOrFields,this._inclusive);return new Zt(e.firestore,e.converter,function(r,i){return new vi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function p9(...t){return Hm._create("endBefore",t,!1)}function m9(...t){return Hm._create("endAt",t,!0)}function VP(t,e,n,r){if(n[0]=ne(n[0]),n[0]instanceof Oc)return function(i,s,o,a,l){if(!a)throw new $(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of oo(i))if(c.field.isKeyField())u.push(wo(s,a.key));else{const d=a.data.field(c.field);if(O1(d))throw new $(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new $(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new cs(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Mo(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new $(R.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let p=0;p<u.length;p++){const f=u[p];if(d[p].field.isKeyField()){if(typeof f!="string")throw new $(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof f}`);if(!M1(s)&&f.indexOf("/")!==-1)throw new $(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${f}' contains a slash.`);const m=s.path.child(we.fromString(f));if(!j.isDocumentKey(m))throw new $(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const E=new j(m);h.push(wo(o,E))}else{const m=MP(a,l,f);h.push(m)}}return new cs(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function B_(t,e,n){if(typeof(n=ne(n))=="string"){if(n==="")throw new $(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(e)&&n.indexOf("/")!==-1)throw new $(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!j.isDocumentKey(r))throw new $(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wo(t,new j(r))}if(n instanceof Ge)return wo(t,n._key);throw new $(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fm(n)}.`)}function V_(t,e){if(!Array.isArray(t)||t.length===0)throw new $(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zP(t,e){if(e.isInequality()){const r=km(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new $(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=$1(t);s!==null&&jP(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function jP(t,e,n){if(!n.isEqual(e))throw new $(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Tb{convertValue(e,n="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){const r={};return Do(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Um(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=HA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const n=ls(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);Z(PN(r));const i=new as(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class g9 extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hi extends Oc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uu extends hi{data(e={}){return super.data(e)}}class fs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Uu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Uu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:y9(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function WP(t,e){return t instanceof hi&&e instanceof hi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof fs&&e instanceof fs&&t._firestore===e._firestore&&RP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){t=Te(t,Ge);const e=Te(t.firestore,dt);return IP(Vt(e),t._key).then(n=>Cb(e,t,n))}class Fo extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}function w9(t){t=Te(t,Ge);const e=Te(t.firestore,dt),n=Vt(e),r=new Fo(e);return LG(n,t._key).then(i=>new hi(e,r,t._key,i,new Qs(i!==null&&i.hasLocalMutations,!0),t.converter))}function b9(t){t=Te(t,Ge);const e=Te(t.firestore,dt);return IP(Vt(e),t._key,{source:"server"}).then(n=>Cb(e,t,n))}function Dc(t){t=Te(t,Zt);const e=Te(t.firestore,dt),n=Vt(e),r=new Fo(e);return BP(t._query),_P(n,t._query).then(i=>new fs(e,r,t,i))}function E9(t){t=Te(t,Zt);const e=Te(t.firestore,dt),n=Vt(e),r=new Fo(e);return FG(n,t._query).then(i=>new fs(e,r,t,i))}function S9(t){t=Te(t,Zt);const e=Te(t.firestore,dt),n=Vt(e),r=new Fo(e);return _P(n,t._query,{source:"server"}).then(i=>new fs(e,r,t,i))}function z_(t,e,n){t=Te(t,Ge);const r=Te(t.firestore,dt),i=Km(t.converter,e,n);return bd(r,[Vm(Mo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ze.none())])}function t0(t,e,n,...r){t=Te(t,Ge);const i=Te(t.firestore,dt),s=Mo(i);let o;return o=typeof(e=ne(e))=="string"||e instanceof hs?vb(s,"updateDoc",t._key,e,n,r):yb(s,"updateDoc",t._key,e),bd(i,[o.toMutation(t._key,Ze.exists(!0))])}function qP(t){return bd(Te(t.firestore,dt),[new xl(t._key,Ze.none())])}function HP(t,e){const n=Te(t.firestore,dt),r=sl(t),i=Km(t.converter,e);return bd(n,[Vm(Mo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}function KP(t,...e){var n,r,i;t=ne(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Zv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Zv(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ge)u=Te(t.firestore,dt),c=Tl(t._key.path),l={next:d=>{e[o]&&e[o](Cb(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Te(t,Zt);u=Te(d.firestore,dt),c=d._query;const h=new Fo(u);l={next:p=>{e[o]&&e[o](new fs(u,h,d,p))},error:e[o+1],complete:e[o+2]},BP(t._query)}return function(d,h,p,f){const m=new Mm(f),E=new ib(h,m,p);return d.asyncQueue.enqueueAndForget(async()=>tb(await il(d),E)),()=>{m.Pc(),d.asyncQueue.enqueueAndForget(async()=>nb(await il(d),E))}}(Vt(u),c,a,l)}function I9(t,e){return UG(Vt(t=Te(t,dt)),Zv(e)?e:{next:e})}function bd(t,e){return function(n,r){const i=new Dt;return n.asyncQueue.enqueueAndForget(async()=>fG(await pb(n),r,i)),i.promise}(Vt(t),e)}function Cb(t,e,n){const r=n.docs.get(e._key),i=new Fo(t);return new hi(t,i,e._key,r,new Qs(n.hasPendingWrites,n.fromCache),e.converter)}const _9={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mo(e)}set(e,n,r){this._verifyNotCommitted();const i=Di(e,this._firestore),s=Km(i.converter,n,r),o=Vm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ze.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Di(e,this._firestore);let o;return o=typeof(n=ne(n))=="string"||n instanceof hs?vb(this._dataReader,"WriteBatch.update",s._key,n,r,i):yb(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ze.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Di(e,this._firestore);return this._mutations=this._mutations.concat(new xl(n._key,Ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Di(t,e){if((t=ne(t)).firestore!==e)throw new $(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Mo(e)}get(e){const n=Di(e,this._firestore),r=new g9(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return K();const s=i[0];if(s.isFoundDocument())return new Oc(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Oc(this._firestore,r,n._key,null,n.converter);throw K()})}set(e,n,r){const i=Di(e,this._firestore),s=Km(i.converter,n,r),o=Vm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Di(e,this._firestore);let o;return o=typeof(n=ne(n))=="string"||n instanceof hs?vb(this._dataReader,"Transaction.update",s._key,n,r,i):yb(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Di(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Di(e,this._firestore),r=new Fo(this._firestore);return super.get(e).then(i=>new hi(this._firestore,r,n._key,i._document,new Qs(!1,!1),n.converter))}}function x9(t,e,n){t=Te(t,dt);const r=Object.assign(Object.assign({},_9),n);return function(i){if(i.maxAttempts<1)throw new $(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Dt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await DG(i);new PG(i.asyncQueue,l,o,s,a).run()}),a.promise}(Vt(t),i=>e(new C9(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(){return new vd("deleteField")}function R9(){return new gb("serverTimestamp")}function A9(...t){return new i9("arrayUnion",t)}function N9(...t){return new s9("arrayRemove",t)}function P9(t){return new o9("increment",t)}(function(t,e=!0){(function(n){_l=n})(No),is(new qr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new dt(new WH(n.getProvider("auth-internal")),new GH(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new $(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),yr(BI,"3.8.4",t),yr(BI,"3.8.4","esm2017")})();const O9={apiKey:"AIzaSyCJo0MkWchkHgXIY0SoJ-lBsC5r-UJM1yU",authDomain:"cinema-elk-d003c.firebaseapp.com",projectId:"cinema-elk-d003c",storageBucket:"cinema-elk-d003c.appspot.com",messagingSenderId:"86288383529",appId:"1:86288383529:web:700752b46a4639d302a638"},GP=Zp(O9),ol=l1(GP),Xs=HG(GP);function D9(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1);let o=fl();w.useEffect(()=>ol.onAuthStateChanged(u=>{s(!!u)}),[]);async function a(){fR(ol,t,n).then(l=>{console.log(l),s(!0),o("/home")}).catch(l=>{console.log(l)})}return S("div",{className:"loginScreen",style:{height:"99vh",width:"99vw",background:"#f15a24",overflow:"hidden"},children:G(Fi,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[S(Fi,{item:!0,xs:6,children:S("div",{style:{padding:"6rem"},children:S("img",{src:Vw,style:{height:"40rem"}})})}),S(Fi,{item:!0,xs:6,children:G("div",{style:{padding:"15rem 7rem 0 8rem"},children:[S("h2",{style:{fontFamily:"Rubik Marker Hatch",fontSize:"3rem",display:"flex",justifyContent:"center",color:"white"},children:"CINEMA ELK"}),G(Jx,{component:"div",sx:{mt:1},children:[S(to,{onChange:l=>e(l.currentTarget.value),style:{marginRight:"3rem",background:"white",borderRadius:"10px"},required:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),S(to,{onChange:l=>r(l.currentTarget.value),style:{background:"white",borderRadius:"10px"},required:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),S("br",{}),G(zr,{onClick:a,type:"submit",sx:{mt:3,mb:2},style:{width:"85%",marginLeft:"2rem",marginBottom:"2rem",background:"#f15a24",border:"2px solid white",color:"white"},children:["Login Now"," ",S("img",{style:{height:"2rem",width:"4rem",marginLeft:"2rem"},src:Ek})]}),S(Fi,{container:!0})]}),G("h3",{style:{display:"flex",justifyContent:"center",color:"white"},children:["Join the club,"," ",S("a",{onClick:()=>o("/register"),children:"Click here"})]})]})})]})})}function $9(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1);let o=fl();w.useEffect(()=>ol.onAuthStateChanged(u=>{s(!!u)}),[]);async function a(){try{const l=await hR(ol,t,n);console.log(l),o("/",{state:{message:"You have successfully created an account. Please log in to continue."}})}catch(l){console.log(l)}}return i&&o("/home"),S("div",{style:{height:"100vh",width:"100vw",background:"#f15a24",overflow:"hidden"},children:G(Fi,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[S(Fi,{item:!0,xs:6,children:S("div",{style:{padding:"6rem"},children:S("img",{src:Vw,style:{height:"40rem"}})})}),S(Fi,{item:!0,xs:6,children:G("div",{style:{padding:"15rem 7rem 0 8rem"},children:[S("h2",{style:{fontFamily:"Rubik Marker Hatch",fontSize:"3rem",display:"flex",justifyContent:"center",color:"white"},children:"CINEMA ELK"}),G(Jx,{component:"form",sx:{mt:1},children:[S(to,{onChange:l=>e(l.currentTarget.value),style:{marginRight:"3rem",background:"white",borderRadius:"10px"},required:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),S(to,{onChange:l=>r(l.currentTarget.value),style:{background:"white",borderRadius:"10px"},required:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),S("br",{}),S(to,{style:{background:"white",borderRadius:"10px",margin:"1rem 0 0 0"},required:!0,fullWidth:!0,name:"name",label:"Enter Full Name",type:"text",autoComplete:"current-password"}),S("br",{}),G(zr,{onClick:a,type:"submit",sx:{mt:3,mb:2},style:{width:"85%",marginLeft:"2rem",marginBottom:"2rem",background:"#f15a24",border:"2px solid white",color:"white"},children:["Join the club"," ",S("img",{style:{height:"2rem",width:"4rem",marginLeft:"2rem"},src:Ek})]}),S(Fi,{container:!0})]}),G("h3",{style:{display:"flex",justifyContent:"center",color:"white"},children:["Already a member?"," ",S("a",{onClick:()=>o("/"),children:"Click here"})]})]})})]})})}function QP(t,e){return function(){return t.apply(e,arguments)}}const{toString:XP}=Object.prototype,{getPrototypeOf:xb}=Object,kb=(t=>e=>{const n=XP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ei=t=>(t=t.toLowerCase(),e=>kb(e)===t),Gm=t=>e=>typeof e===t,{isArray:Pl}=Array,$c=Gm("undefined");function M9(t){return t!==null&&!$c(t)&&t.constructor!==null&&!$c(t.constructor)&&ps(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const YP=Ei("ArrayBuffer");function L9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&YP(t.buffer),e}const F9=Gm("string"),ps=Gm("function"),JP=Gm("number"),Rb=t=>t!==null&&typeof t=="object",U9=t=>t===!0||t===!1,Ah=t=>{if(kb(t)!=="object")return!1;const e=xb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},B9=Ei("Date"),V9=Ei("File"),z9=Ei("Blob"),j9=Ei("FileList"),W9=t=>Rb(t)&&ps(t.pipe),q9=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||XP.call(t)===e||ps(t.toString)&&t.toString()===e)},H9=Ei("URLSearchParams"),K9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ed(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Pl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function ZP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const eO=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),tO=t=>!$c(t)&&t!==eO;function n0(){const{caseless:t}=tO(this)&&this||{},e={},n=(r,i)=>{const s=t&&ZP(e,i)||i;Ah(e[s])&&Ah(r)?e[s]=n0(e[s],r):Ah(r)?e[s]=n0({},r):Pl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ed(arguments[r],n);return e}const G9=(t,e,n,{allOwnKeys:r}={})=>(Ed(e,(i,s)=>{n&&ps(i)?t[s]=QP(i,n):t[s]=i},{allOwnKeys:r}),t),Q9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),X9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Y9=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&xb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},J9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Z9=t=>{if(!t)return null;if(Pl(t))return t;let e=t.length;if(!JP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},e7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&xb(Uint8Array)),t7=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},n7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},r7=Ei("HTMLFormElement"),i7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),j_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),s7=Ei("RegExp"),nO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ed(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},o7=t=>{nO(t,(e,n)=>{if(ps(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ps(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},a7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Pl(t)?r(t):r(String(t).split(e)),n},l7=()=>{},u7=(t,e)=>(t=+t,Number.isFinite(t)?t:e),sy="abcdefghijklmnopqrstuvwxyz",W_="0123456789",rO={DIGIT:W_,ALPHA:sy,ALPHA_DIGIT:sy+sy.toUpperCase()+W_},c7=(t=16,e=rO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function d7(t){return!!(t&&ps(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const h7=t=>{const e=new Array(10),n=(r,i)=>{if(Rb(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Pl(r)?[]:{};return Ed(r,(o,a)=>{const l=n(o,i+1);!$c(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},P={isArray:Pl,isArrayBuffer:YP,isBuffer:M9,isFormData:q9,isArrayBufferView:L9,isString:F9,isNumber:JP,isBoolean:U9,isObject:Rb,isPlainObject:Ah,isUndefined:$c,isDate:B9,isFile:V9,isBlob:z9,isRegExp:s7,isFunction:ps,isStream:W9,isURLSearchParams:H9,isTypedArray:e7,isFileList:j9,forEach:Ed,merge:n0,extend:G9,trim:K9,stripBOM:Q9,inherits:X9,toFlatObject:Y9,kindOf:kb,kindOfTest:Ei,endsWith:J9,toArray:Z9,forEachEntry:t7,matchAll:n7,isHTMLForm:r7,hasOwnProperty:j_,hasOwnProp:j_,reduceDescriptors:nO,freezeMethods:o7,toObjectSet:a7,toCamelCase:i7,noop:l7,toFiniteNumber:u7,findKey:ZP,global:eO,isContextDefined:tO,ALPHABET:rO,generateString:c7,isSpecCompliantForm:d7,toJSONObject:h7};function Ie(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}P.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const iO=Ie.prototype,sO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sO[t]={value:t}});Object.defineProperties(Ie,sO);Object.defineProperty(iO,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,i,s)=>{const o=Object.create(iO);return P.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ie.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const f7=null;function r0(t){return P.isPlainObject(t)||P.isArray(t)}function oO(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function q_(t,e,n){return t?t.concat(e).map(function(i,s){return i=oO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function p7(t){return P.isArray(t)&&!t.some(r0)}const m7=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Qm(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,E){return!P.isUndefined(E[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(P.isDate(f))return f.toISOString();if(!l&&P.isBlob(f))throw new Ie("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(f)||P.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,m,E){let y=f;if(f&&!E&&typeof f=="object"){if(P.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(P.isArray(f)&&p7(f)||(P.isFileList(f)||P.endsWith(m,"[]"))&&(y=P.toArray(f)))return m=oO(m),y.forEach(function(v,b){!(P.isUndefined(v)||v===null)&&e.append(o===!0?q_([m],b,s):o===null?m:m+"[]",u(v))}),!1}return r0(f)?!0:(e.append(q_(E,m,s),u(f)),!1)}const d=[],h=Object.assign(m7,{defaultVisitor:c,convertValue:u,isVisitable:r0});function p(f,m){if(!P.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(f),P.forEach(f,function(y,g){(!(P.isUndefined(y)||y===null)&&i.call(e,y,P.isString(g)?g.trim():g,m,h))===!0&&p(y,m?m.concat(g):[g])}),d.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return p(t),e}function H_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ab(t,e){this._pairs=[],t&&Qm(t,this,e)}const aO=Ab.prototype;aO.append=function(e,n){this._pairs.push([e,n])};aO.toString=function(e){const n=e?function(r){return e.call(this,r,H_)}:H_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function g7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lO(t,e,n){if(!e)return t;const r=n&&n.encode||g7,i=n&&n.serialize;let s;if(i?s=i(e,n):s=P.isURLSearchParams(e)?e.toString():new Ab(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class y7{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(r){r!==null&&e(r)})}}const K_=y7,uO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v7=typeof URLSearchParams<"u"?URLSearchParams:Ab,w7=typeof FormData<"u"?FormData:null,b7=typeof Blob<"u"?Blob:null,E7=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),S7=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fr={isBrowser:!0,classes:{URLSearchParams:v7,FormData:w7,Blob:b7},isStandardBrowserEnv:E7,isStandardBrowserWebWorkerEnv:S7,protocols:["http","https","file","blob","url","data"]};function I7(t,e){return Qm(t,new Fr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Fr.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _7(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T7(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function cO(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&P.isArray(i[o])&&(i[o]=T7(i[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(r,i)=>{e(_7(r),i,n,0)}),n}return null}const C7={"Content-Type":void 0};function x7(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xm={transitional:uO,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=P.isObject(e);if(s&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return i&&i?JSON.stringify(cO(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return I7(e,this.formSerializer).toString();if((a=P.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Qm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),x7(e)):e}],transformResponse:[function(e){const n=this.transitional||Xm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&P.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ie.from(a,Ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fr.classes.FormData,Blob:Fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};P.forEach(["delete","get","head"],function(e){Xm.headers[e]={}});P.forEach(["post","put","patch"],function(e){Xm.headers[e]=P.merge(C7)});const Nb=Xm,k7=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),R7=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&k7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},G_=Symbol("internals");function iu(t){return t&&String(t).trim().toLowerCase()}function Nh(t){return t===!1||t==null?t:P.isArray(t)?t.map(Nh):String(t)}function A7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function N7(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function oy(t,e,n,r,i){if(P.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!P.isString(e)){if(P.isString(r))return e.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(e)}}function P7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function O7(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ym{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=iu(l);if(!c)throw new Error("header name must be a non-empty string");const d=P.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Nh(a))}const o=(a,l)=>P.forEach(a,(u,c)=>s(u,c,l));return P.isPlainObject(e)||e instanceof this.constructor?o(e,n):P.isString(e)&&(e=e.trim())&&!N7(e)?o(R7(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=iu(e),e){const r=P.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return A7(i);if(P.isFunction(n))return n.call(this,i,r);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=iu(e),e){const r=P.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||oy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=iu(o),o){const a=P.findKey(r,o);a&&(!n||oy(r,r[a],a,n))&&(delete r[a],i=!0)}}return P.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||oy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return P.forEach(this,(i,s)=>{const o=P.findKey(r,s);if(o){n[o]=Nh(i),delete n[s];return}const a=e?P7(s):String(s).trim();a!==s&&delete n[s],n[a]=Nh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[G_]=this[G_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=iu(o);r[a]||(O7(i,o),r[a]=!0)}return P.isArray(e)?e.forEach(s):s(e),this}}Ym.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.freezeMethods(Ym.prototype);P.freezeMethods(Ym);const si=Ym;function ay(t,e){const n=this||Nb,r=e||n,i=si.from(r.headers);let s=r.data;return P.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function dO(t){return!!(t&&t.__CANCEL__)}function Sd(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(Sd,Ie,{__CANCEL__:!0});function D7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const $7=Fr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),P.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),P.isString(s)&&l.push("path="+s),P.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function M7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function L7(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function hO(t,e){return t&&!M7(e)?L7(t,e):e}const F7=Fr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=P.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function U7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function B7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(h*1e3/p):void 0}}function Q_(t,e){let n=0;const r=B7(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const V7=typeof XMLHttpRequest<"u",z7=V7&&function(t){return new Promise(function(n,r){let i=t.data;const s=si.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}P.isFormData(i)&&(Fr.isStandardBrowserEnv||Fr.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+f))}const c=hO(t.baseURL,t.url);u.open(t.method.toUpperCase(),lO(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const p=si.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};D7(function(y){n(y),l()},function(y){r(y),l()},m),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let f=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||uO;t.timeoutErrorMessage&&(f=t.timeoutErrorMessage),r(new Ie(f,m.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,u)),u=null},Fr.isStandardBrowserEnv){const p=(t.withCredentials||F7(c))&&t.xsrfCookieName&&$7.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&P.forEach(s.toJSON(),function(f,m){u.setRequestHeader(m,f)}),P.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Q_(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Q_(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(r(!p||p.type?new Sd(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=U7(c);if(h&&Fr.protocols.indexOf(h)===-1){r(new Ie("Unsupported protocol "+h+":",Ie.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Ph={http:f7,xhr:z7};P.forEach(Ph,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const j7={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=P.isString(n)?Ph[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Ie(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(P.hasOwnProp(Ph,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!P.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ph};function ly(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sd(null,t)}function X_(t){return ly(t),t.headers=si.from(t.headers),t.data=ay.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),j7.getAdapter(t.adapter||Nb.adapter)(t).then(function(r){return ly(t),r.data=ay.call(t,t.transformResponse,r),r.headers=si.from(r.headers),r},function(r){return dO(r)||(ly(t),r&&r.response&&(r.response.data=ay.call(t,t.transformResponse,r.response),r.response.headers=si.from(r.response.headers))),Promise.reject(r)})}const Y_=t=>t instanceof si?t.toJSON():t;function al(t,e){e=e||{};const n={};function r(u,c,d){return P.isPlainObject(u)&&P.isPlainObject(c)?P.merge.call({caseless:d},u,c):P.isPlainObject(c)?P.merge({},c):P.isArray(c)?c.slice():c}function i(u,c,d){if(P.isUndefined(c)){if(!P.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!P.isUndefined(c))return r(void 0,c)}function o(u,c){if(P.isUndefined(c)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(Y_(u),Y_(c),!0)};return P.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);P.isUndefined(h)&&d!==a||(n[c]=h)}),n}const fO="1.3.4",Pb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const J_={};Pb.transitional=function(e,n,r){function i(s,o){return"[Axios v"+fO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ie(i(o," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!J_[o]&&(J_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function W7(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const i0={assertOptions:W7,validators:Pb},ki=i0.validators;class jf{constructor(e){this.defaults=e,this.interceptors={request:new K_,response:new K_}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=al(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&i0.assertOptions(r,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),i!==void 0&&i0.assertOptions(i,{encode:ki.function,serialize:ki.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&P.merge(s.common,s[n.method]),o&&P.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),n.headers=si.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,h;if(!l){const f=[X_.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),h=f.length,c=Promise.resolve(n);d<h;)c=c.then(f[d++],f[d++]);return c}h=a.length;let p=n;for(d=0;d<h;){const f=a[d++],m=a[d++];try{p=f(p)}catch(E){m.call(this,E);break}}try{c=X_.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=al(this.defaults,e);const n=hO(e.baseURL,e.url);return lO(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){jf.prototype[e]=function(n,r){return this.request(al(r||{},{method:e,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(al(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}jf.prototype[e]=n(),jf.prototype[e+"Form"]=n(!0)});const Oh=jf;class Ob{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Sd(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ob(function(i){e=i}),cancel:e}}}const q7=Ob;function H7(t){return function(n){return t.apply(null,n)}}function K7(t){return P.isObject(t)&&t.isAxiosError===!0}const s0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(s0).forEach(([t,e])=>{s0[e]=t});const G7=s0;function pO(t){const e=new Oh(t),n=QP(Oh.prototype.request,e);return P.extend(n,Oh.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return pO(al(t,i))},n}const Tt=pO(Nb);Tt.Axios=Oh;Tt.CanceledError=Sd;Tt.CancelToken=q7;Tt.isCancel=dO;Tt.VERSION=fO;Tt.toFormData=Qm;Tt.AxiosError=Ie;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=H7;Tt.isAxiosError=K7;Tt.mergeConfig=al;Tt.AxiosHeaders=si;Tt.formToJSON=t=>cO(P.isHTMLForm(t)?new FormData(t):t);Tt.HttpStatusCode=G7;Tt.default=Tt;const ya=Tt;function Q7(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState([]),[o,a]=w.useState([]);let l=fl();const u="https://image.tmdb.org/t/p/w500/",c=" https://api.themoviedb.org/3/movie/now_playing?api_key=cb390091f1e2835553da41fa333cf620&language=en-US&page=5",d="https://api.themoviedb.org/3/movie/popular?api_key=cb390091f1e2835553da41fa333cf620&language=en-US&page=8",h="https://api.themoviedb.org/3/movie/top_rated?api_key=cb390091f1e2835553da41fa333cf620&language=en-US&page=3",p=" https://api.themoviedb.org/3/movie/upcoming?api_key=cb390091f1e2835553da41fa333cf620&language=en-US&page=2";return w.useEffect(()=>{ya.get(c).then(f=>{e(f.data.results)})},[]),w.useEffect(()=>{ya.get(d).then(f=>{r(f.data.results)})},[]),w.useEffect(()=>{ya.get(h).then(f=>{s(f.data.results)})},[]),w.useEffect(()=>{ya.get(p).then(f=>{a(f.data.results)})},[]),S("div",{className:"scroll",children:G("div",{className:"home-dev",children:[S("h1",{style:{color:"white",fontFamily:"Source Code Pro"},children:"Now Playing"}),S("div",{className:"nowplaying",children:t.map(f=>S("div",{children:S(ha,{onClick:()=>{l(`/movie/${f.id}`,{state:f,id:f.id})},sx:{height:"18rem",width:"10rem",margin:"0.5rem"},children:G(qd,{children:[S(pa,{component:"img",height:"auto",image:u+f.poster_path}),S(fa,{children:S(Un,{gutterBottom:!0,variant:"p",component:"div",children:f.title})})]})})}))}),S("h1",{style:{color:"white",fontFamily:"Source Code Pro"},children:"POPULAR"}),S("div",{className:"popular",children:n.map(f=>S("div",{children:S(ha,{onClick:()=>{l(`/movie/${f.id}`,{state:f,id:f.id})},sx:{height:"18rem",width:"10rem",margin:"0.5rem"},children:G(qd,{children:[S(pa,{component:"img",height:"auto",image:u+f.poster_path}),S(fa,{children:S(Un,{gutterBottom:!0,variant:"p",component:"div",children:f.title})})]})})}))}),S("h1",{style:{color:"white",fontFamily:"Source Code Pro"},children:"TOP-Rated"}),S("div",{className:"toprated",children:i.map(f=>S("div",{children:S(ha,{onClick:()=>{l(`/movie/${f.id}`,{state:f,id:f.id})},sx:{height:"18rem",width:"10rem",margin:"0.5rem"},children:G(qd,{children:[S(pa,{component:"img",height:"auto",image:u+f.poster_path}),S(fa,{children:S(Un,{gutterBottom:!0,variant:"p",component:"div",children:f.title})})]})})}))}),S("h1",{style:{color:"white",fontFamily:"Source Code Pro"},children:"UpComming"}),S("div",{className:"upcomming",children:o.map(f=>S("div",{children:S(ha,{onClick:()=>{l(`/movie/${f.id}`,{state:f,id:f.id})},sx:{height:"18rem",width:"10rem",margin:"0.5rem"},children:G(qd,{children:[S(pa,{component:"img",height:"auto",image:u+f.poster_path}),S(fa,{children:S(Un,{gutterBottom:!0,variant:"p",component:"div",children:f.title})})]})})}))})]})})}var Db={},ms={},X7={get exports(){return ms},set exports(t){ms=t}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(X7);var uy={};const Y7=lT(mB);var Z_;function Ol(){return Z_||(Z_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Y7}(uy)),uy}const Dl=lT(sD);var J7=ms;Object.defineProperty(Db,"__esModule",{value:!0});var mO=Db.default=void 0,Z7=J7(Ol()),eQ=Dl,tQ=(0,Z7.default)((0,eQ.jsx)("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"}),"HomeRounded");mO=Db.default=tQ;var $b={},nQ=ms;Object.defineProperty($b,"__esModule",{value:!0});var gO=$b.default=void 0,rQ=nQ(Ol()),iQ=Dl,sQ=(0,rQ.default)((0,iQ.jsx)("path",{d:"M3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1zm17-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l5.47 4.1c.27.2.27.6 0 .8L12 14.5z"}),"VideoLibraryRounded");gO=$b.default=sQ;var Mb={},oQ=ms;Object.defineProperty(Mb,"__esModule",{value:!0});var yO=Mb.default=void 0,aQ=oQ(Ol()),lQ=Dl,uQ=(0,aQ.default)((0,lQ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircleRounded");yO=Mb.default=uQ;function cQ(){let t=fl();const e=()=>{ol.signOut().then(()=>{t("/")}).catch(n=>{console.log(n)})};return G("div",{children:[S("div",{className:"navbar-container-top",children:S(pf,{sx:{flexGrow:1},children:S(sV,{position:"fixed",children:G(G5,{variant:"dense",children:[S("img",{src:Vw,style:{height:70,marginRight:30},onClick:()=>t("/home")}),S(Un,{onClick:()=>t("/home"),style:{fontFamily:"Rubik Marker Hatch",fontSize:"1.6rem"},variant:"h6",color:"inherit",component:"div",sx:{flexGrow:1},children:"CINEMA ELK"}),S(zr,{color:"inherit",onClick:()=>e(),children:"Logout"})]})})})}),S("div",{className:"navbar-container-left",children:G("div",{className:"navbar",children:[G("div",{className:"navbar__item",onClick:()=>t("/home"),children:[S(mO,{}),S("p",{children:"Home"})]}),G("div",{className:"navbar__item",onClick:()=>t("/reviews"),children:[S(gO,{}),G("p",{children:["Movie ",S("br",{})," Reviews"]})]}),G("div",{className:"navbar__item",onClick:()=>t("/profile"),children:[S(yO,{}),S("p",{children:"Profile"})]})]})})]})}var Lb={},dQ=ms;Object.defineProperty(Lb,"__esModule",{value:!0});var vO=Lb.default=void 0,hQ=dQ(Ol()),fQ=Dl,pQ=(0,hQ.default)((0,fQ.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");vO=Lb.default=pQ;const mQ={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},gQ=()=>{const t=cw(),{title:e,overview:n,poster_path:r}=t.state,i=t.state.id,s=fl(),[o,a]=w.useState(!0),[l,u]=w.useState(""),[c,d]=w.useState(1),[h,p]=w.useState([]),[f,m]=Ln.useState(!1),E=()=>m(!0),y=()=>m(!1),[g,v]=w.useState([]),[b,_]=w.useState([]),[C,T]=w.useState([]),k="https://image.tmdb.org/t/p/w500/",D=`https://api.themoviedb.org/3/movie/${i}/similar?api_key=cb390091f1e2835553da41fa333cf620&language=en-US&page=1`,A=`https://api.themoviedb.org/3/movie/${i}/credits?api_key=cb390091f1e2835553da41fa333cf620`,se=l1().currentUser;async function X(){const N=Yi(Xs,"User-Reviews");await HP(N,{userEmail:se.email,movie_name:e,review:l,rating:c,image:r}).then(()=>{console.log("document ID :")}).catch(V=>{console.log(V)})}return w.useEffect(()=>{ya.get(A).then(N=>{console.log(N.data),_(N.data.cast),T(N.data.crew)})},[]),w.useEffect(()=>{ya.get(D).then(N=>{console.log(N.data.results),v(N.data.results)})},[]),w.useEffect(()=>{async function N(){const V=Tr(Yi(Xs,"User-Reviews"),Sb("movie_name","==",e));(await Dc(V)).forEach(ae=>{p(O=>[...O,ae.data()])})}N()},[]),w.useEffect(()=>{a(!1)},[]),S("div",{className:"moviejsx",style:{padding:"4rem"},children:o?S("div",{children:"Loading..."}):G("div",{style:{padding:31,display:"flex"},children:[G("div",{style:{width:"40%",borderRight:"2px solid black"},children:[S("img",{src:k+r,style:{borderRadius:8,height:500,width:500}}),S("h2",{children:e}),G("div",{style:{fontFamily:"Teko",fontSize:"1.5rem"},children:[S("h3",{children:"Movie Overview :"})," ",n]}),G("div",{children:[S(zr,{onClick:E,variant:"contained",endIcon:S(vO,{}),children:"Post Review"}),S(Fw,{open:f,onClose:y,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:G(pf,{sx:mQ,children:[S(to,{style:{width:"100%"},id:"outlined-multiline-static",label:"Review",multiline:!0,rows:4,onChange:N=>u(N.target.value),placeholder:"Write your Review here!"}),S("br",{})," ",S("br",{}),S("h3",{style:{margin:0,display:"flex",justifyContent:"center"},children:"Rate Us :"})," ",S("br",{}),S(dc,{onChange:N=>d(N.target.value),style:{width:"100%"},name:"size-large",defaultValue:2,size:"large"}),S("br",{})," ",S("br",{}),S(zr,{onClick:()=>{X(),y()},fullWidth:!0,variant:"contained",children:"Submit"})]})})]}),G("div",{children:[S("h2",{children:"Cast & Crew"}),S("div",{className:"scrollable",style:{display:"flex",width:"90%",overflow:"auto",height:"22vh"},children:b.map(N=>G("div",{style:{marginRight:"1rem"},children:[S("img",{style:{height:"100px",borderRadius:"50%"},src:`https://image.tmdb.org/t/p/w500${N.profile_path}`,alt:N.name}),S("br",{}),S("span",{children:N.name})]},N.id))}),S("div",{className:"scrollable",style:{display:"flex",width:"90%",overflow:"auto",height:"29vh",marginTop:20},children:C.map(N=>G("div",{style:{marginRight:"1.5rem"},children:[S("img",{style:{height:"100px",borderRadius:"50%"},src:`https://image.tmdb.org/t/p/w500${N.profile_path}`,alt:N.name}),S("br",{}),G("span",{children:[N.name," (",N.job,")"]})]},N.id))})]}),G("div",{style:{width:"100%",padding:"0 3rem"},children:[S("h2",{children:"Similar Movies:"}),S("div",{style:{display:"flex",flexWrap:"wrap"},children:g.map(N=>G("div",{style:{margin:"1rem",cursor:"pointer",width:"40%"},onClick:()=>s(`/movie/${N.id}`,{state:{title:N.original_title,overview:N.overview,poster_path:N.poster_path,id:N.id}}),children:[S("img",{src:k+N.poster_path,style:{borderRadius:8,height:200,width:150}}),S("p",{children:N.original_title})]},N.id))})]})]}),G("div",{style:{width:"60%",padding:30},children:[S("h2",{style:{fontFamily:"Teko",textAlign:"center"},children:"Reviews By Cinema Elk Users"}),S("div",{style:{width:"100%",padding:30},children:h.map(N=>G(pf,{sx:{p:2,border:"1px solid gray",borderRadius:"4px",margin:"1rem 0"},children:[S(Un,{style:{borderBottom:"1px solid black"},variant:"body1",sx:{margin:"0.5rem 0"},children:N.review}),G(Un,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},variant:"h6",children:[N.userEmail.split("@")[0],S(dc,{style:{display:"flex"},name:"read-only",value:N.rating,readOnly:!0})]})]},N.id))})]})]})})},rh={root:{display:"flex",maxWidth:800,padding:"1.4rem",marginRight:"0.5rem",marginBottom:"0.5rem"},details:{display:"flex",flexDirection:"column",justifyContent:"center",width:"50%",padding:"1rem"},content:{flex:"1 0 auto"},cover:{width:"50%",objectFit:"contain"}};function yQ(){const[t,e]=w.useState([]),[n,r]=w.useState(null);return w.useEffect(()=>{async function i(){const s=Yi(Xs,"User-Reviews"),a=(await Dc(s)).docs.map(l=>({id:l.id,...l.data()}));e(a)}i()},[]),G("div",{children:[S("div",{style:{fontFamily:"Tilt Warp",textAlign:"center",marginTop:"6rem",fontSize:"2rem"},children:"Reviews By Cinema Elk Users"}),S("div",{className:"allReviewsScreen",children:t.map(i=>G(ha,{className:"root",style:rh.root,children:[S("div",{className:"details",style:rh.details,children:G(fa,{className:"content",style:rh.content,children:[S(Un,{variant:"h5",style:{borderBottom:"1px solid black"},children:i.userEmail.split("@")[0]}),S(Un,{variant:"subtitle1",color:"textSecondary",children:i.movie_name}),S(dc,{variant:"body2",name:"read-only",value:i.rating,readOnly:!0}),S(Un,{variant:"body2",component:"p",children:i.id===n?i.review:i.review.slice(0,100)+"..."}),i.id===n?S(zr,{variant:"contained",onClick:()=>r(null),children:"Read less"}):S(zr,{variant:"contained",onClick:()=>r(i.id),children:"Read more"})]})}),S(pa,{className:"cover",style:rh.cover,image:`https://image.tmdb.org/t/p/w500${i.image}`,title:i.movie_name})]},i.id))})]})}var Fb={},vQ=ms;Object.defineProperty(Fb,"__esModule",{value:!0});var wO=Fb.default=void 0,wQ=vQ(Ol()),bQ=Dl,EQ=(0,wQ.default)((0,bQ.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");wO=Fb.default=EQ;var Ub={},SQ=ms;Object.defineProperty(Ub,"__esModule",{value:!0});var bO=Ub.default=void 0,IQ=SQ(Ol()),_Q=Dl,TQ=(0,IQ.default)((0,_Q.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");bO=Ub.default=TQ;const CQ={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},ih={root:{display:"flex",maxWidth:800,padding:"1.4rem",marginRight:"0.5rem",marginBottom:"0.5rem"},details:{display:"flex",flexDirection:"column",justifyContent:"center",width:"50%",padding:"1rem"},content:{flex:"1 0 auto"},cover:{width:"50%"}};function xQ(){const t=l1(),[e,n]=w.useState([]),[r,i]=Ln.useState(!1),s=()=>i(!0),o=()=>i(!1),[a,l]=w.useState(""),[u,c]=w.useState(1),[d,h]=w.useState(null);w.useEffect(()=>{async function E(){const y=Yi(Xs,"User-Reviews"),v=(await Dc(y)).docs.map(b=>({id:b.id,...b.data()}));n(v)}E()},[]);async function p(){const E=Yi(Xs,"User-Reviews"),y=Tr(E,Sb("userEmail","==",t.currentUser.email)),v=(await Dc(y)).docs.map(b=>({id:b.id,...b.data()}));n(v)}p();async function f(E){await qP(sl(Xs,"User-Reviews",E))}async function m(E){const y=Yi(Xs,"User-Reviews"),g=sl(y,E);await t0(g,{review:a,rating:u}).then(()=>{console.log("Document updated successfully")}).catch(v=>{console.log(v)})}return G("div",{children:[G("div",{style:{fontFamily:"Tilt Warp",textAlign:"center",marginTop:"6rem",fontSize:"2rem"},children:["Reviews By ",t.currentUser.email.split("@")[0]]}),S("div",{className:"allReviewsScreen",children:e.map(E=>G(ha,{className:"root",style:ih.root,children:[S("div",{className:"details",style:ih.details,children:G(fa,{className:"content",style:ih.content,children:[S(Un,{variant:"h5",style:{borderBottom:"1px solid black"},children:E.userEmail.split("@")[0]}),S(Un,{variant:"subtitle1",color:"textSecondary",children:E.movie_name}),S(dc,{variant:"body2",name:"read-only",value:E.rating,readOnly:!0}),S(Un,{variant:"body2",component:"p",children:E.id===d?E.review:E.review.slice(0,100)+"..."}),E.id===d?S(zr,{variant:"contained",onClick:()=>h(null),children:"Read less"}):S(zr,{variant:"contained",onClick:()=>h(E.id),children:"Read more"}),S(wO,{onClick:s,style:{marginRight:"1.5rem"}}),S(Fw,{open:r,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:G(pf,{sx:CQ,children:[S(to,{style:{width:"100%"},id:"outlined-multiline-static",label:"Review",multiline:!0,rows:4,onChange:y=>l(y.target.value),defaultValue:E.review}),S("br",{})," ",S("br",{}),S("h3",{style:{margin:0,display:"flex",justifyContent:"center"},children:"Rate Us :"})," ",S("br",{}),S(dc,{onChange:y=>c(y.target.value),style:{width:"100%"},name:"size-large",defaultValue:E.rating,size:"large"}),S("br",{})," ",S("br",{}),S(zr,{onClick:()=>{m(E.id),o()},fullWidth:!0,variant:"contained",children:"Submit"})]})}),S(bO,{onClick:()=>f(E.id)})]})}),S(pa,{className:"cover",style:ih.cover,image:`https://image.tmdb.org/t/p/w500${E.image}`,title:E.movie_name})]},E.id))})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e,n){this._delegate=e,this.firebase=n,vf(e,new qr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Dk(this._delegate)))}_getService(e,n=ns){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ns){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){vf(this._delegate,e)}_addOrOverwriteComponent(e){Ok(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},eT=new Ao("app-compat","Firebase",RQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:yr,setLogLevel:Mk,onLog:$k,apps:null,SDK_VERSION:No,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Nj}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ns,!rI(e,u))throw eT.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=Zp(u,c);if(rI(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(is(u)&&u.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw eT.create("invalid-app-argument",{appName:c});return p[d]()};u.serviceProps!==void 0&&gf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){const t=AQ(kQ);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:EO,extendNamespace:e,createSubscribe:Rk,ErrorFactory:Ao,deepExtend:gf});function e(n){gf(t,n)}return t}const NQ=EO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Jp("@firebase/app-compat"),PQ="@firebase/app-compat",OQ="0.2.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){yr(PQ,OQ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(p4()&&self.firebase!==void 0){tT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&tT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Jm=NQ;DQ();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=2e3;async function MQ(t,e,n){var r;const{BuildInfo:i}=Co();wr(e.sessionId,"AuthEvent did not contain a session ID");const s=await VQ(e.sessionId),o={};return wl()?o.ibi=i.packageName:Xc()?o.apn=i.packageName:$t(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Iv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function LQ(t){const{BuildInfo:e}=Co(),n={};wl()?n.iosBundleId=e.packageName:Xc()?n.androidPackageName=e.packageName:$t(t,"operation-not-supported-in-this-environment"),await NR(t,n)}function FQ(t){const{cordova:e}=Co();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,tW()?"_blank":"_system","location=yes"),n(i)})})}async function UQ(t,e,n){const{cordova:r}=Co();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Xt(t,"redirect-cancelled-by-user"))},$Q))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Xc()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function BQ(t){var e,n,r,i,s,o,a,l,u,c;const d=Co();U(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function VQ(t){const e=zQ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function zQ(t){if(wr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=20;class WQ extends RR{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function qQ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:GQ(),postBody:null,tenantId:t.tenantId,error:Xt(t,"no-auth-event")}}function HQ(t,e){return o0()._set(a0(t),e)}async function nT(t){const e=await o0()._get(a0(t));return e&&await o0()._remove(a0(t)),e}function KQ(t,e){var n,r;const i=XQ(e);if(i.includes("/__/auth/callback")){const s=Dh(i),o=s.firebaseError?QQ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Xt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function GQ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<jQ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function o0(){return Bn(am)}function a0(t){return ro("authEvent",t.config.apiKey,t.name)}function QQ(t){try{return JSON.parse(t)}catch{return null}}function XQ(t){const e=Dh(t),n=e.link?decodeURIComponent(e.link):void 0,r=Dh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Dh(i).link||i||r||n||t}function Dh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ma(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=500;class JQ{constructor(){this._redirectPersistence=ss,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dm,this._overrideRedirectResult=o1}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new WQ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){$t(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){BQ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Xq(),await this._originValidation(e);const o=qQ(e,r,i);await HQ(e,o);const a=await MQ(e,o,n),l=await FQ(a);return UQ(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LQ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Co(),o=setTimeout(async()=>{await nT(e),n.onEvent(rT())},YQ),a=async c=>{clearTimeout(o);const d=await nT(e);let h=null;d&&(c!=null&&c.url)&&(h=KQ(d,c.url)),n.onEvent(h||rT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;Co().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const ZQ=JQ;function rT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t,e){Mt(t)._logFramework(e)}var tX="@firebase/auth-compat",nX="0.3.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=1e3;function Bu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function iX(){return Bu()==="http:"||Bu()==="https:"}function SO(t=it()){return!!((Bu()==="file:"||Bu()==="ionic:"||Bu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function sX(){return jw()||zw()}function oX(){return kk()&&(document==null?void 0:document.documentMode)===11}function aX(t=it()){return/Edge\/\d+/.test(t)}function lX(t=it()){return oX()||aX(t)}function IO(){try{const t=self.localStorage,e=Yc();if(t)return t.setItem(e,"1"),t.removeItem(e),lX()?hc():!0}catch{return Bb()&&hc()}return!1}function Bb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cy(){return(iX()||xk()||SO())&&!sX()&&IO()&&!Bb()}function _O(){return SO()&&typeof document<"u"}async function uX(){return _O()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},rX);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function cX(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={LOCAL:"local",NONE:"none",SESSION:"session"},su=U,TO="persistence";function dX(t,e){if(su(Object.values($n).includes(e),t,"invalid-persistence-type"),jw()){su(e!==$n.SESSION,t,"unsupported-persistence-type");return}if(zw()){su(e===$n.NONE,t,"unsupported-persistence-type");return}if(Bb()){su(e===$n.NONE||e===$n.LOCAL&&hc(),t,"unsupported-persistence-type");return}su(e===$n.NONE||IO(),t,"unsupported-persistence-type")}async function l0(t){await t._initializationPromise;const e=CO(),n=ro(TO,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function hX(t,e){const n=CO();if(!n)return[];const r=ro(TO,t,e);switch(n.getItem(r)){case $n.NONE:return[ja];case $n.LOCAL:return[qa,ss];case $n.SESSION:return[ss];default:return[]}}function CO(){var t;try{return((t=cX())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX=U;class Bi{constructor(){this.browserResolver=Bn(PR),this.cordovaResolver=Bn(ZQ),this.underlyingResolver=null,this._redirectPersistence=ss,this._completeRedirectFn=dm,this._overrideRedirectResult=o1}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _O()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fX(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await uX();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){return t.unwrap()}function pX(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t){return kO(t)}function gX(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new yX(t,eq(t,e))}else if(r){const i=kO(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function kO(t){const{_tokenResponse:e}=t instanceof yn?t.customData:t;if(!e)return null;if(!(t instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return go.credentialFromResult(t);const n=e.providerId;if(!n||n===Xl.PASSWORD)return null;let r;switch(n){case Xl.GOOGLE:r=Nr;break;case Xl.FACEBOOK:r=Ar;break;case Xl.GITHUB:r=Pr;break;case Xl.TWITTER:r=Or;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Wa._create(n,a):Hr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new ka(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof yn?r.credentialFromError(t):r.credentialFromResult(t)}function Sn(t,e){return e.catch(n=>{throw n instanceof yn&&gX(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:mX(n),additionalUserInfo:YW(n),user:ti.getOrCreate(i)}})}async function u0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Sn(t,n.confirm(r))}}class yX{constructor(e,n){this.resolver=n,this.auth=pX(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Sn(xO(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._delegate=e,this.multiFactor=iq(e)}static getOrCreate(e){return ti.USER_MAP.has(e)||ti.USER_MAP.set(e,new ti(e)),ti.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Sn(this.auth,uR(this._delegate,e))}async linkWithPhoneNumber(e,n){return u0(this.auth,Lq(this._delegate,e,n))}async linkWithPopup(e){return Sn(this.auth,Hq(this._delegate,e,Bi))}async linkWithRedirect(e){return await l0(Mt(this.auth)),t6(this._delegate,e,Bi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Sn(this.auth,cR(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return u0(this.auth,Fq(this._delegate,e,n))}reauthenticateWithPopup(e){return Sn(this.auth,qq(this._delegate,e,Bi))}async reauthenticateWithRedirect(e){return await l0(Mt(this.auth)),Zq(this._delegate,e,Bi)}sendEmailVerification(e){return BW(this._delegate,e)}async unlink(e){return await kW(this._delegate,e),this}updateEmail(e){return WW(this._delegate,e)}updatePassword(e){return qW(this._delegate,e)}updatePhoneNumber(e){return Uq(this._delegate,e)}updateProfile(e){return jW(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return VW(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ti.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=U;class c0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ou(r,"invalid-api-key",{appName:e.name}),ou(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Bi:void 0;this._delegate=n.initialize({options:{persistence:vX(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap($j),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ti.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){eR(this._delegate,e,n)}applyActionCode(e){return OW(this._delegate,e)}checkActionCode(e){return dR(this._delegate,e)}confirmPasswordReset(e,n){return PW(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Sn(this._delegate,hR(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return UW(this._delegate,e)}isSignInWithEmailLink(e){return MW(this._delegate,e)}async getRedirectResult(){ou(cy(),this._delegate,"operation-not-supported-in-this-environment");const e=await r6(this._delegate,Bi);return e?Sn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){eX(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=iT(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=iT(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return $W(this._delegate,e,n)}sendPasswordResetEmail(e,n){return NW(this._delegate,e,n||void 0)}async setPersistence(e){dX(this._delegate,e);let n;switch(e){case $n.SESSION:n=ss;break;case $n.LOCAL:n=await Bn(qa)._isAvailable()?qa:am;break;case $n.NONE:n=ja;break;default:return $t("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Sn(this._delegate,xW(this._delegate))}signInWithCredential(e){return Sn(this._delegate,im(this._delegate,e))}signInWithCustomToken(e){return Sn(this._delegate,AW(this._delegate,e))}signInWithEmailAndPassword(e,n){return Sn(this._delegate,fR(this._delegate,e,n))}signInWithEmailLink(e,n){return Sn(this._delegate,LW(this._delegate,e,n))}signInWithPhoneNumber(e,n){return u0(this._delegate,Mq(this._delegate,e,n))}async signInWithPopup(e){return ou(cy(),this._delegate,"operation-not-supported-in-this-environment"),Sn(this._delegate,Wq(this._delegate,e,Bi))}async signInWithRedirect(e){return ou(cy(),this._delegate,"operation-not-supported-in-this-environment"),await l0(this._delegate),Yq(this._delegate,e,Bi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return DW(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}c0.Persistence=$n;function iT(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ti.getOrCreate(o)),error:e,complete:n}}function vX(t,e){const n=hX(t,e);if(typeof self<"u"&&!n.includes(qa)&&n.push(qa),typeof window<"u")for(const r of[am,ss])n.includes(r)||n.push(r);return n.includes(ja)||n.push(ja),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.providerId="phone",this._delegate=new go(xO(Jm.auth()))}static credential(e,n){return go.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Vb.PHONE_SIGN_IN_METHOD=go.PHONE_SIGN_IN_METHOD;Vb.PROVIDER_ID=go.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=U;class bX{constructor(e,n,r=Jm.app()){var i;wX((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Dq(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX="auth-compat";function SX(t){t.INTERNAL.registerComponent(new qr(EX,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new c0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ho.EMAIL_SIGNIN,PASSWORD_RESET:Ho.PASSWORD_RESET,RECOVER_EMAIL:Ho.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ho.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ho.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ho.VERIFY_EMAIL}},EmailAuthProvider:ws,FacebookAuthProvider:Ar,GithubAuthProvider:Pr,GoogleAuthProvider:Nr,OAuthProvider:ka,SAMLAuthProvider:wf,PhoneAuthProvider:Vb,PhoneMultiFactorGenerator:OR,RecaptchaVerifier:bX,TwitterAuthProvider:Or,Auth:c0,AuthCredential:bl,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(tX,nX)}SX(Jm);const IX="@firebase/firestore-compat",_X="0.3.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function oT(){if(!iK())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}let RO=class d0{constructor(e){this._delegate=e}static fromBase64String(e){return oT(),new d0(Gr.fromBase64String(e))}static fromUint8Array(e){return sT(),new d0(Gr.fromUint8Array(e))}toBase64(){return oT(),this._delegate.toBase64()}toUint8Array(){return sT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){return TX(t,["next","error","complete"])}function TX(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{enableIndexedDbPersistence(e,n){return KG(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return GG(e._delegate)}clearIndexedDbPersistence(e){return QG(e._delegate)}}class AO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof as||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){xP(this._delegate,e,n,r)}enableNetwork(){return YG(this._delegate)}disableNetwork(){return JG(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,TP("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XG(this._delegate)}onSnapshotsInSync(e){return I9(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ll(this,Yi(this._delegate,e))}catch(n){throw pn(n,"collection()","Firestore.collection()")}}doc(e){try{return new tr(this,sl(this._delegate,e))}catch(n){throw pn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fn(this,zG(this._delegate,e))}catch(n){throw pn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return x9(this._delegate,n=>e(new NO(this,n)))}batch(){return Vt(this._delegate),new PO(new T9(this._delegate,e=>bd(this._delegate,e)))}loadBundle(e){return ZG(this._delegate,e)}namedQuery(e){return e9(this._delegate,e).then(n=>n?new fn(this,n):null)}}class Zm extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new RO(new Gr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return tr.forKey(n,this.firestore,null)}}function xX(t){BH(t)}class NO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Zm(e)}get(e){const n=Ys(e);return this._delegate.get(n).then(r=>new Mc(this._firestore,new hi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ys(e);return r?(zb("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ys(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ys(e);return this._delegate.delete(n),this}}class PO{constructor(e){this._delegate=e}set(e,n,r){const i=Ys(e);return r?(zb("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ys(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ys(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class xo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Uu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=xo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new xo(e,new Zm(e),n),i.set(n,s)),s}}xo.INSTANCES=new WeakMap;class tr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Zm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tr(n,new Ge(n._delegate,r,new j(e)))}static forKey(e,n,r){return new tr(n,new Ge(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ll(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ll(this.firestore,Yi(this._delegate,e))}catch(n){throw pn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ne(e),e instanceof Ge?kP(this._delegate,e):!1}set(e,n){n=zb("DocumentReference.set",n);try{return n?z_(this._delegate,e,n):z_(this._delegate,e)}catch(r){throw pn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?t0(this._delegate,e):t0(this._delegate,e,n,...r)}catch(i){throw pn(i,"updateDoc()","DocumentReference.update()")}}delete(){return qP(this._delegate)}onSnapshot(...e){const n=OO(e),r=DO(e,i=>new Mc(this.firestore,new hi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return KP(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=w9(this._delegate):(e==null?void 0:e.source)==="server"?n=b9(this._delegate):n=v9(this._delegate),n.then(r=>new Mc(this.firestore,new hi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tr(this.firestore,e?this._delegate.withConverter(xo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pn(t,e,n){return t.message=t.message.replace(e,n),t}function OO(t){for(const e of t)if(typeof e=="object"&&!h0(e))return e;return{}}function DO(t,e){var n,r;let i;return h0(t[0])?i=t[0]:h0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Mc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new tr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return WP(this._delegate,e._delegate)}}class Lc extends Mc{data(e){const n=this._delegate.data(e);return VH(n!==void 0),n}}class fn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Zm(e)}where(e,n,r){try{return new fn(this.firestore,Tr(this._delegate,Sb(e,n,r)))}catch(i){throw pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new fn(this.firestore,Tr(this._delegate,u9(e,n)))}catch(r){throw pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fn(this.firestore,Tr(this._delegate,c9(e)))}catch(n){throw pn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new fn(this.firestore,Tr(this._delegate,d9(e)))}catch(n){throw pn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fn(this.firestore,Tr(this._delegate,h9(...e)))}catch(n){throw pn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fn(this.firestore,Tr(this._delegate,f9(...e)))}catch(n){throw pn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fn(this.firestore,Tr(this._delegate,p9(...e)))}catch(n){throw pn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fn(this.firestore,Tr(this._delegate,m9(...e)))}catch(n){throw pn(n,"endAt()","Query.endAt()")}}isEqual(e){return RP(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=E9(this._delegate):(e==null?void 0:e.source)==="server"?n=S9(this._delegate):n=Dc(this._delegate),n.then(r=>new f0(this.firestore,new fs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=OO(e),r=DO(e,i=>new f0(this.firestore,new fs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return KP(this._delegate,n,r)}withConverter(e){return new fn(this.firestore,e?this._delegate.withConverter(xo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class kX{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Lc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class f0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new kX(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Lc(this._firestore,r))})}isEqual(e){return WP(this._delegate,e._delegate)}}class ll extends fn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tr(this.firestore,e):null}doc(e){try{return e===void 0?new tr(this.firestore,sl(this._delegate)):new tr(this.firestore,sl(this._delegate,e))}catch(n){throw pn(n,"doc()","CollectionReference.doc()")}}add(e){return HP(this._delegate,e).then(n=>new tr(this.firestore,n))}isEqual(e){return kP(this._delegate,e._delegate)}withConverter(e){return new ll(this.firestore,e?this._delegate.withConverter(xo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ys(t){return Te(t,Ge)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(...e){this._delegate=new hs(...e)}static documentId(){return new jb(mt.keyField().canonicalString())}isEqual(e){return e=ne(e),e instanceof hs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._delegate=e}static serverTimestamp(){const e=R9();return e._methodName="FieldValue.serverTimestamp",new Bs(e)}static delete(){const e=k9();return e._methodName="FieldValue.delete",new Bs(e)}static arrayUnion(...e){const n=A9(...e);return n._methodName="FieldValue.arrayUnion",new Bs(n)}static arrayRemove(...e){const n=N9(...e);return n._methodName="FieldValue.arrayRemove",new Bs(n)}static increment(e){const n=P9(e);return n._methodName="FieldValue.increment",new Bs(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX={Firestore:AO,GeoPoint:Um,Timestamp:et,Blob:RO,Transaction:NO,WriteBatch:PO,DocumentReference:tr,DocumentSnapshot:Mc,Query:fn,QueryDocumentSnapshot:Lc,QuerySnapshot:f0,CollectionReference:ll,FieldPath:jb,FieldValue:Bs,setLogLevel:xX,CACHE_SIZE_UNLIMITED:qG};function AX(t,e){t.INTERNAL.registerComponent(new qr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},RX)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){AX(t,(e,n)=>new AO(e,n,new CX)),t.registerVersion(IX,_X)}NX(Jm);function PX(){const[t,e]=w.useState(null),n=fl();return w.useEffect(()=>{const r=ol.onAuthStateChanged(i=>{e(i||null)});return()=>r()},[n]),G(yT,{children:[t&&S(cQ,{}),G(rL,{children:[S(As,{path:"/",element:S(D9,{})}),S(As,{path:"/register",element:S($9,{})}),S(As,{path:"/home",element:S(Q7,{})}),S(As,{path:"/movie/:id",element:S(gQ,{})}),S(As,{path:"/reviews",element:S(yQ,{})}),S(As,{path:"/profile",element:S(xQ,{})})]})]})}dy.createRoot(document.getElementById("root")).render(S(Ln.StrictMode,{children:S(iL,{children:S(PX,{})})}));
